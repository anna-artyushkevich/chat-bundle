!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,n){n(1),n(5),n(6),e.exports=n(7)},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(4)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.clearfix:after{content:"";display:block;clear:both}body,html{margin:0;padding:0;background:#181b21;font-family:Roboto,sans-serif;letter-spacing:-.23px}.chatApp__loaderWrapper{margin:80px auto;text-align:center}.chatApp__loaderText{color:#4870df;font-weight:700}.chatApp__loader,.chatApp__loader:after,.chatApp__loader:before{border-radius:1em;width:1em;height:1em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:loading 1.8s ease-in-out infinite;animation:loading 1.8s ease-in-out infinite}.chatApp__loader{margin:auto;color:#4870df;font-size:12px;position:relative;-webkit-animation-delay:-.16s;animation-delay:-.16s}.chatApp__loader:after,.chatApp__loader:before{content:"";position:absolute;top:0}.chatApp__loader:before{left:-1.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.chatApp__loader:after{left:1.5em}.chatApp__convTitle{display:inline-block;margin:0 0 2rem;font-size:18px;font-weight:700;color:#f0f0f0;text-transform:uppercase;position:relative}.chatApp__convTitle:after{content:"";position:absolute;background-color:#4870df;width:100%;height:2px;border-radius:30px;left:0;right:0;bottom:-16px}.chatApp__convTimeline{display:flex;border-top-left-radius:8px;border-top-right-radius:8px;background-color:#f5f5f5;flex-direction:column-reverse;overflow-y:auto}.chatApp__convMessageItem{padding:0 0 1rem;opacity:0;-webkit-transition:all .15s ease-in-out;transition:all .15s ease-in-out;-webkit-animation:fadeNewMessage .5s;animation:fadeNewMessage .5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.chatApp__convMessageAvatar{height:20px;font-size:13px;font-weight:500;border-radius:40px;margin-top:5px;image-rendering:-webkit-optimize-contrast;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.chatApp__convMessageValue{position:relative;max-width:50%;min-height:40px;padding:.75rem;border-radius:10px;font-size:14px;line-height:18px;font-weight:500;box-shadow:0 10px 10px -8px rgba(0,0,0,.08);box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}.chatApp__convMessageTime{margin-top:4px;text-transform:lowercase;font-size:11px;color:#999}.chatApp__convMessageItem:first-child{padding-bottom:0}.chatApp__convMessageItem--left+.chatApp__convMessageItem--left,.chatApp__convMessageItem--right+.chatApp__convMessageItem--right{padding-bottom:5px}.chatApp__convMessageItem--left+.chatApp__convMessageItem--left .chatApp__convMessageAvatar,.chatApp__convMessageItem--right+.chatApp__convMessageItem--right .chatApp__convMessageAvatar{display:none}.chatApp__convMessageItem--left .chatApp__convMessageValue{text-align:left;color:#fff;background-color:#1cb684;border-bottom-left-radius:0}.chatApp__convMessageItem--left .chatApp__convMessageValue:before{position:absolute;top:14px;left:-8px;width:0;height:0;border-color:transparent #4870df transparent transparent;border-style:solid;border-width:6px 10px 6px 0}.chatApp__convMessageItem--left{display:flex;align-items:flex-start;flex-direction:column}.chatApp__convMessageItem--right{display:flex;align-items:flex-end;flex-direction:column}.chatApp__convMessageItem--right .chatApp__convMessageValue{float:right;text-align:right;background-color:#fff;border-bottom-right-radius:0}.chatApp__convMessageItem--right .chatApp__convMessageValue:after{position:absolute;top:14px;right:-8px;width:0;height:0;border-color:transparent transparent transparent #fafafa;border-style:solid;border-width:6px 0 6px 10px}.chatApp__convMessageItem--left .chatApp__convMessageValue a{color:#91ffb1}.chatApp__convMessageItem--left .chatApp__convMessageValue a:focus,.chatApp__convMessageItem--left .chatApp__convMessageValue a:hover{color:#75ff9e}.chatApp__convMessageItem--right .chatApp__convMessageValue a{color:#09f}.chatApp__convMessageItem--right .chatApp__convMessageValue a:focus,.chatApp__convMessageItem--right .chatApp__convMessageValue a:hover{color:#007dd1}.chatApp__convSendMessage{min-height:63px;position:relative;box-sizing:border-box}.chatApp__convSendMessage:empty{background-color:#f5f5f5}.chatApp__convSendMessage{padding:1rem}.css-2b097c-container.css-2b097c-container div,.css-2b097c-container.css-2b097c-container div:active,.css-2b097c-container.css-2b097c-container div:focus,.css-2b097c-container.css-2b097c-container input,.css-2b097c-container.css-2b097c-container input:active,.css-2b097c-container.css-2b097c-container input:focus,.css-2b097c-container.css-2b097c-container span,.css-2b097c-container.css-2b097c-container span:active,.css-2b097c-container.css-2b097c-container span:focus{outline:none;border:none}.css-2b097c-container.css-2b097c-container .css-1laao21-a11yText,.css-2b097c-container.css-2b097c-container .css-1laao21-a11yText:active,.css-2b097c-container.css-2b097c-container .css-1laao21-a11yText:focus,.css-2b097c-container.css-2b097c-container .css-1laao21-a11yText:focus span:focus .css-2b097c-container.css-2b097c-container .css-1laao21-a11yText div:focus,.css-2b097c-container.css-2b097c-container .css-1laao21-a11yText span:focus{outline:none!important;border:none!important}.css-yk16xz-control.css-yk16xz-control{border:none}.css-1okebmr-indicatorSeparator{display:none}.chatApp__convInput{float:left;height:30px;border:none;padding:.5rem;margin:0 .5rem 0 0;width:calc(100% - 42px);font-size:14px;font-weight:500;-webkit-transition:all .15s ease-in-out;transition:all .15s ease-in-out;box-sizing:border-box}.chatApp__convInput::-webkit-input-placeholder{color:#b1b1b1;opacity:1}.chatApp__convInput::-moz-placeholder{color:#b1b1b1;opacity:1}.chatApp__convInput::-ms-input-placeholder{opacity:1}.chatApp__convInput::placeholder{color:#b1b1b1;opacity:1}.chatApp__convInput:-ms-input-placeholder{color:#b1b1b1}.chatApp__convInput::-ms-input-placeholder{color:#b1b1b1}.chatApp__convInput:focus{outline:none}.chatApp__convButton{float:right;position:relative;cursor:pointer;text-align:center;-webkit-transition:all .15s ease-in-out;transition:all .15s ease-in-out;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.chatApp__convButton--loading{cursor:wait;background-color:#4870df}.chatApp__convButton--loading:hover{background-color:#4870df}.chatApp__convButton--loading:after,.chatApp__convButton--loading:before{content:"";position:absolute;z-index:1;display:block;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:8px;height:8px;margin:auto;border-radius:40px;background-color:#fff}.chatApp__convButton--loading:after{-webkit-animation:loadSendMessage 1.5s;animation:loadSendMessage 1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.chatApp__convButton--loading i{display:none}.chatApp__convSendMessage--typing .chatApp__convTyping{display:block}.chatApp__convTypingDot{position:relative;left:4px}.chatApp__convTypingDot,.chatApp__convTypingDot:after,.chatApp__convTypingDot:before{display:inline-block;width:2px;height:2px;background-color:#606060;-webkit-animation:typingMessage 1.5s;animation:typingMessage 1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}.chatApp__convTypingDot:after,.chatApp__convTypingDot:before{content:"";position:absolute}.chatApp__convTypingDot:before{left:4px;-webkit-animation-delay:.5s;animation-delay:.5s}.chatApp__convTypingDot:after{left:8px;-webkit-animation-delay:1s;animation-delay:1s}.chatApp__convChannelLine{background:#fff;cursor:pointer;font-size:12px;height:100%;display:flex;flex-direction:column;justify-content:flex-end}.channelItem{background:#fff;margin-bottom:1px;display:block;padding:8px 1rem;box-shadow:0 1px 0 #f5f5f5}.channelItem.archived{background:#f3f3f3;box-shadow:0 1px 0 #e6e6e6;order:99}.channelItem.archived:before{position:relative;content:attr(data-header);display:block;font-size:12px;color:#444;text-transform:uppercase;background:#f3f3f3;top:-10px}.channelItem.archived[data-header]:before{padding-top:10px;margin-left:-15px;padding-left:15px;width:calc(100% + 15px)}.channelItem:hover{position:relative;background-color:rgba(28,182,132,.09)}.channelItem.archived:hover{background-color:#e6e6e6}.channelName{float:right;font-size:11px;color:#1cb684;opacity:.5}.channelBody,.channelName{display:inline-block}.channelTime{float:right}.channelAuthor{display:inline-block;font-size:14px;font-weight:500;margin-bottom:2px}.channelBody,.channelTime{font-size:11px;color:#999}@media screen and (max-width:768px){.chatApp__room{flex-wrap:wrap}.chatApp__conv{flex-basis:100%;min-width:auto;width:100%;margin:0}.chatApp__conv:first-of-type{margin:0 0 4rem}}@-webkit-keyframes loading{0%,80%,to{box-shadow:0 1em 0 -1.3em}40%{box-shadow:0 1em 0 0}}@keyframes loading{0%,80%,to{box-shadow:0 1em 0 -1.3em}40%{box-shadow:0 1em 0 0}}@-webkit-keyframes fadeNewMessage{0%{opacity:0;-webkit-transform:translateY(1rem);transform:translateY(1rem)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeNewMessage{0%{opacity:0;-webkit-transform:translateY(1rem);transform:translateY(1rem)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes loadSendMessage{0%{opacity:1;width:4px;height:4px}to{opacity:0;width:100%;height:100%}}@keyframes loadSendMessage{0%{opacity:1;width:4px;height:4px}to{opacity:0;width:100%;height:100%}}@-webkit-keyframes typingMessage{0%{background-color:#606060}50%{background-color:#fff}60%{background-color:#606060}}@keyframes typingMessage{0%{background-color:#606060}50%{background-color:#fff}60%{background-color:#606060}}.chatApp__room{position:relative;display:grid;grid-gap:30px;grid-template-columns:repeat(auto-fit,400px);align-items:flex-end;justify-content:flex-end;padding:6rem 2rem;height:100vh;box-sizing:border-box;-webkit-animation:fadeChatApp .6s ease-in-out;animation:fadeChatApp .6s ease-in-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.open-chat-app{position:absolute;right:2rem;bottom:2rem;display:flex;justify-content:center;align-content:center;width:48px;height:48px;color:#fff;background:#1cb684;border-radius:40px;cursor:pointer;-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .15s ease-in-out;transition:-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out;transition:transform .15s ease-in-out,-webkit-transform .15s ease-in-out}.open-chat-app i{position:relative;font-size:20px;vertical-align:middle;line-height:2.4}.open-chat-app.shown{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform .15s ease-in-out;transition:-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out;transition:transform .15s ease-in-out,-webkit-transform .15s ease-in-out}.open-chat-app:before{content:"";position:absolute;display:block;bottom:0;right:0;width:23px;height:23px;background:#1cb684;opacity:1}.chatApp__conv{position:relative;box-shadow:0 35px 20px -30px rgba(0,0,0,.1)}.chatApp__conv:first-of-type{order:2}.chatApp__conv:nth-of-type(2){order:1}.chat-box{display:flex;flex-direction:column;justify-content:flex-end;height:545px;background:#fff;border-radius:8px;overflow:hidden}.header{height:40px;padding:5px 15px;display:flex;box-shadow:0 1px 0 #eee;position:relative}.header .link{font-size:14px;font-weight:700;text-decoration:underline;background:transparent;border:none;outline:none;cursor:pointer}.header .link.delete{position:absolute;right:5px;font-size:10px}.header .all-conv{display:flex;justify-content:center;flex-direction:column;flex-grow:1}.header .fa-chevron-left{color:#999}.header .fa-chevron-left:focus,.header .fa-chevron-left:hover{color:#666}.header span{font-size:14px;font-weight:700}.header .dropdown{display:flex;align-items:center;flex-grow:1}.header .dropdown .label{font-size:14px;height:15px;display:inline-block;margin-left:10px}.chatApp__convTimeline{flex-grow:1}.chatApp__convInput{padding-left:0}.css-2b097c-container{width:200px;margin-top:auto}.chatApp__convButton{height:30px;color:#1cb684;text-shadow:0 4px 6px rgba(0,0,0,.2)}.chatApp__convButton:active,.chatApp__convButton:focus,.chatApp__convButton:hover{text-shadow:none}.chatApp__convButton i{font-size:30px}.chatApp__convTyping{position:absolute;left:16px;top:-13px;opacity:.5;font-size:10px}.btn{background:#1cb684;padding:8px 32px;border-radius:20px;color:#fff;cursor:pointer;border:none;font-size:12px;font-weight:700;box-shadow:0 2px 10px rgba(0,0,0,.6)}.btn:focus,.btn:hover{outline:none;border:none;box-shadow:none}.start-chat{position:absolute;display:flex;justify-content:center;right:15px;bottom:15px;width:48px;height:48px;padding:0;font-size:17px;border-radius:30px}.end-chat{display:inline-flex;justify-content:flex-end;width:30px;margin-left:auto;cursor:pointer}.end-chat .fas{color:#1cb684;margin-top:9px}.end-chat .end-chat-btn{position:absolute;right:15px;top:-23px;border:none;padding:13px 15px;border-radius:5px;box-shadow:0 0 5px #e6e6e6;display:none;cursor:pointer;font-size:12px}.end-chat .end-chat-btn:focus{outline:none}.end-chat .end-chat-btn .fas{display:inline-block;font-style:normal;font-feature-settings:normal;font-variant:normal;text-rendering:auto;-webkit-font-smoothing:antialiased;color:#1cb684;margin-right:6px;font-size:11px;margin-top:0}.end-chat:hover .end-chat-btn{display:block}.chatApp__convSendMessage,.message-disabled-zone{min-height:63px;padding:1rem;position:relative;box-sizing:border-box}.message-disabled-zone{display:flex;justify-content:center;align-items:center;color:#c3c3c3;font-size:13px;background-color:#e5e5e5}search-box{width:100%}@-webkit-keyframes fadeChatApp{0%{opacity:0;padding-right:1rem}to{opacity:1;padding-right:2rem}}@keyframes fadeChatApp{0%{opacity:0;padding-right:1rem}to{opacity:1;padding-right:2rem}}',""])},function(e,t,n){"use strict";e.exports=function(n){var s=[];return s.toString=function(){return this.map(function(e){var t=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}(r),a=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")});return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media ".concat(e[2],"{").concat(t,"}"):t}).join("")},s.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(n[i]=!0)}for(var a=0;a<e.length;a++){var o=e[a];null!=o[0]&&n[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="(".concat(o[2],") and (").concat(t,")")),s.push(o))}},s}},function(e,t,i){"use strict";var n,r,l={},a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=(r={},function(e){if(void 0===r[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}r[e]=t}return r[e]});function f(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=l[r.id],a=0;if(i){for(i.refs++;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],t))}else{for(var o=[];a<r.parts.length;a++)o.push(v(r.parts[a],t));l[r.id]={id:r.id,refs:1,parts:o}}}}function s(t){var n=document.createElement("style");if(void 0===t.attributes.nonce){var e=i.nc;e&&(t.attributes.nonce=e)}if(Object.keys(t.attributes).forEach(function(e){n.setAttribute(e,t.attributes[e])}),"function"==typeof t.insert)t.insert(n);else{var r=o(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var h=null,m=0;function v(t,e){var n,r,i;if(e.singleton){var a=m++;n=h=h||s(e),r=p.bind(null,n,a,!1),i=p.bind(null,n,a,!0)}else n=s(e),r=function(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i&&e.setAttribute("media",i),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,e),i=function(){!function(e){if(null===e.parentNode)return;e.parentNode.removeChild(e)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}e.exports=function(e,u){(u=u||{}).attributes="object"==typeof u.attributes?u.attributes:{},u.singleton||"boolean"==typeof u.singleton||(u.singleton=a());var c=f(e,u);return d(c,u),function(e){for(var t=[],n=0;n<c.length;n++){var r=c[n],i=l[r.id];i&&(i.refs--,t.push(i))}e&&d(f(e,u),u);for(var a=0;a<t.length;a++){var o=t[a];if(0===o.refs){for(var s=0;s<o.parts.length;s++)o.parts[s]();delete l[o.id]}}}}},function(e,t){
/*! For license information please see 2.c9c9cda8.chunk.js.LICENSE */
(this.webpackJsonpchat_webapp=this.webpackJsonpchat_webapp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(166)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},function(e,t,n){var r=n(246),i=n(44);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(97);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(195),i=r&&r.__esModule?r:{default:r};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}t.default=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,l=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}((e.exports=o).EventEmitter=o).prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(i=u(e))&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn&&console.warn(s)}return e}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,l(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(0<t.length&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)l(s,this,t);else{var u=s.length,c=h(s,u);for(n=0;n<u;++n)l(c[n],this,t)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},o.prototype.off=o.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;0<=a;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},function(e,t,n){e.exports=n(251)},function(e,t,n){function m(e,t,n){var r,i,a,o=e&m.F,s=e&m.G,u=e&m.S,c=e&m.P,l=e&m.B,f=e&m.W,d=s?y:y[t]||(y[t]={}),p=d.prototype,h=s?v:u?v[t]:(v[t]||{}).prototype;for(r in s&&(n=t),n)(i=!o&&h&&void 0!==h[r])&&w(d,r)||(a=i?h[r]:n[r],d[r]=s&&"function"!=typeof h[r]?n[r]:l&&i?g(a,v):f&&h[r]==a?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e.prototype=r.prototype,e}(a):c&&"function"==typeof a?g(Function.call,a):a,c&&((d.virtual||(d.virtual={}))[r]=a,e&m.R&&p&&!p[r]&&b(p,r,a)))}var v=n(14),y=n(9),g=n(28),b=n(29),w=n(41);m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,e.exports=m},function(e,t,n){e.exports=n(174)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(18),u=r&&r.__esModule?r:{default:r};t.default=function(e){return function(){var s=e.apply(this,arguments);return new u.default(function(a,o){return function t(e,n){try{var r=s[e](n),i=r.value}catch(e){return void o(e)}if(!r.done)return u.default.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});a(i)}("next")})}}},function(e,t,n){var r=n(84)("wks"),i=n(71),a=n(14).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports={default:n(181),__esModule:!0}},function(e,t,n){"use strict";var r=o(n(7)),i=o(n(8)),a=o(n(129));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(63);function u(e,t){return[(new Date).toISOString()+" Chat "+e+":"].concat((0,a.default)(t))}var c=((0,i.default)(l,[{key:"setLevel",value:function(e){s.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.trace.apply(null,u(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.debug.apply(null,u(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.info.apply(null,u(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.warn.apply(null,u(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.error.apply(null,u(this.prefix+"E",t))}}],[{key:"scope",value:function(e){return new l(e)}},{key:"setLevel",value:function(e){s.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.trace.apply(null,u("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.debug.apply(null,u("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.info.apply(null,u("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.warn.apply(null,u("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.error.apply(null,u("E",t))}}]),l);function l(e){(0,r.default)(this,l),this.prefix="",this.prefix=null!=e&&0<e.length?e+" ":""}t.Logger=c},function(e,t,n){var r=n(21),i=n(108),a=n(79),o=Object.defineProperty;t.f=n(22)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(17);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports={default:n(192),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(123),i=r&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(127)),i=o(n(128)),a=o(n(123));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";var r=o(n(7)),i=o(n(8)),a=o(n(43));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(217);t.isDeepEqual=function(e,t){return 0===s.createPatch(e,t).length},t.deepClone=function(e){return JSON.parse((0,a.default)(e))},t.parseToNumber=function(e){return void 0===e||isNaN(Number(e))?null:Number(e)},t.parseTime=function(e){try{return new Date(e)}catch(e){return null}},t.parseAttributes=function(e,t,n){var r={};if(e)try{r=JSON.parse(e)}catch(e){n.warn(t)}return r};var u=((0,i.default)(c,[{key:"arg",value:function(e,t){return void 0!==t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"path",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),c);function c(e){(0,r.default)(this,c),this.base=e.replace(/\/$/,""),this.args=[],this.paths=[]}t.UriBuilder=u},function(sn,un,e){var cn;!function(e,t){"use strict";"object"==typeof sn.exports?sn.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(_,e){"use strict";function m(e){return null!=e&&e===e.window}var t=[],S=_.document,r=Object.getPrototypeOf,s=t.slice,v=t.concat,u=t.push,i=t.indexOf,n={},a=n.toString,y=n.hasOwnProperty,o=y.toString,c=o.call(Object),g={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},l={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,a=(n=n||S).createElement("script");if(a.text=e,t)for(r in l)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,i);n.head.appendChild(a).parentNode.removeChild(a)}function k(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[a.call(e)]||"object":typeof e}var E=function e(t,n){return new e.fn.init(t,n)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!b(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:"3.4.1",constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||b(o)||(o={}),s===u&&(o=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&o!==r&&(c&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=o[t],a=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,o[t]=E.extend(c,a,r)):void 0!==r&&(o[t]=r));return o},E.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==a.call(e)||(t=r(e))&&("function"!=typeof(n=y.call(t,"constructor")&&t.constructor)||o.call(n)!==c))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!=o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,o=[];if(d(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&o.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&o.push(i);return v.apply([],o)},guid:1,support:g}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){function f(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function i(){x()}var e,p,w,a,o,h,d,m,k,u,c,x,_,s,S,v,l,y,g,E="sizzle"+1*new Date,b=n.document,C=0,r=0,T=ue(),O=ue(),M=ue(),P=ue(),I=function(e,t){return e===t&&(c=!0),0},D={}.hasOwnProperty,t=[],A=t.pop,N=t.push,L=t.push,R=t.slice,j=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+U+"*("+B+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+U+"*\\]",q=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",W=new RegExp(U+"+","g"),H=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),V=new RegExp("^"+U+"*,"+U+"*"),Y=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),G=new RegExp(U+"|>"),$=new RegExp(q),J=new RegExp("^"+B+"$"),Q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\([\\da-f]{1,6}"+U+"?|("+U+")|.)","ig"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{L.apply(t=R.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){N.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(t,e,n,r){var i,a,o,s,u,c,l,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:b)!==_&&x(e),e=e||_,S)){if(11!==d&&(u=te.exec(t)))if(i=u[1]){if(9===d){if(!(o=e.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(f&&(o=f.getElementById(i))&&g(e,o)&&o.id===i)return n.push(o),n}else{if(u[2])return L.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&p.getElementsByClassName&&e.getElementsByClassName)return L.apply(n,e.getElementsByClassName(i)),n}if(p.qsa&&!P[t+" "]&&(!v||!v.test(t))&&(1!==d||"object"!==e.nodeName.toLowerCase())){if(l=t,f=e,1===d&&G.test(t)){for((s=e.getAttribute("id"))?s=s.replace(ie,ae):e.setAttribute("id",s=E),a=(c=h(t)).length;a--;)c[a]="#"+s+" "+be(c[a]);l=c.join(","),f=ne.test(t)&&ye(e.parentNode)||e}try{return L.apply(n,f.querySelectorAll(l)),n}catch(e){P(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return m(t.replace(H,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>w.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ce(e){return e[E]=!0,e}function le(e){var t=_.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&oe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(o){return ce(function(a){return a=+a,ce(function(e,t){for(var n,r=o([],e.length,a),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},x=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:b;return r!==_&&9===r.nodeType&&r.documentElement&&(s=(_=r).documentElement,S=!o(_),b!==_&&(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),p.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=le(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=ee.test(_.getElementsByClassName),p.getById=le(function(e){return s.appendChild(e).id=E,!_.getElementsByName||!_.getElementsByName(E).length}),p.getById?(w.filter.ID=function(e){var t=e.replace(re,f);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var n=e.replace(re,f);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),w.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;n=a[i++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},l=[],v=[],(p.qsa=ee.test(_.querySelectorAll))&&(le(function(e){s.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+U+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+U+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+E+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+U+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(p.matchesSelector=ee.test(y=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&le(function(e){p.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),l.push("!=",q)}),v=v.length&&new RegExp(v.join("|")),l=l.length&&new RegExp(l.join("|")),t=ee.test(s.compareDocumentPosition),g=t||ee.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===_||e.ownerDocument===b&&g(b,e)?-1:t===_||t.ownerDocument===b&&g(b,t)?1:u?j(u,e)-j(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e===_?-1:t===_?1:i?-1:a?1:u?j(u,e)-j(u,t):0;if(i===a)return de(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?de(o[r],s[r]):o[r]===b?-1:s[r]===b?1:0}),_},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==_&&x(e),p.matchesSelector&&S&&!P[t+" "]&&(!l||!l.test(t))&&(!v||!v.test(t)))try{var n=y.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return 0<se(t,_,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==_&&x(e),g(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==_&&x(e);var n=w.attrHandle[t.toLowerCase()],r=n&&D.call(w.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==r?r:p.attributes||!S?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(ie,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!p.detectDuplicates,u=!p.sortStable&&e.slice(0),e.sort(I),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},a=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(w=se.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,f),e[3]=(e[3]||e[4]||e[5]||"").replace(re,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+U+")"+e+"("+U+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(W," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,m,v){var y="nth"!==h.slice(0,3),g="last"!==h.slice(-4),b="of-type"===e;return 1===m&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,a,o,s,u,c=y!=g?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b,p=!1;if(l){if(y){for(;c;){for(o=e;o=o[c];)if(b?o.nodeName.toLowerCase()===f:1===o.nodeType)return!1;u=c="only"===h&&!u&&"nextSibling"}return!0}if(u=[g?l.firstChild:l.lastChild],g&&d){for(p=(s=(r=(i=(a=(o=l)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[h]||[])[0]===C&&r[1])&&r[2],o=s&&l.childNodes[s];o=++s&&o&&o[c]||(p=s=0)||u.pop();)if(1===o.nodeType&&++p&&o===e){i[h]=[C,s,p];break}}else if(d&&(p=s=(r=(i=(a=(o=e)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[h]||[])[0]===C&&r[1]),!1===p)for(;(o=++s&&o&&o[c]||(p=s=0)||u.pop())&&((b?o.nodeName.toLowerCase()!==f:1!==o.nodeType)||!++p||(d&&((i=(a=o[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[h]=[C,p]),o!==e)););return(p-=v)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,a){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[E]?o(a):1<o.length?(t=[e,e,"",a],w.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=o(e,a),i=r.length;i--;)e[n=j(e,r[i])]=!(t[n]=r[i])}):function(e){return o(e,0,t)}):o}},pseudos:{not:ce(function(e){var r=[],i=[],s=d(e.replace(H,"$1"));return s[E]?ce(function(e,t,n,r){for(var i,a=s(e,null,r,[]),o=e.length;o--;)(i=a[o])&&(e[o]=!(t[o]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:ce(function(t){return function(e){return 0<se(t,e).length}}),contains:ce(function(t){return t=t.replace(re,f),function(e){return-1<(e.textContent||a(e)).indexOf(t)}}),lang:ce(function(n){return J.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(re,f).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=pe(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=he(e);function ge(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(s,e,t){var u=e.dir,c=e.next,l=c||u,f=t&&"parentNode"===l,d=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,a,o=[C,d];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(a=e[E]||(e[E]={}))[e.uniqueID]||(a[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[l])&&r[0]===C&&r[1]===d)return o[2]=r[2];if((i[l]=o)[2]=s(e,t,n))return!0}return!1}}function ke(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function xe(e,t,n,r,i){for(var a,o=[],s=0,u=e.length,c=null!=t;s<u;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),c&&t.push(s)));return o}function _e(p,h,m,v,y,e){return v&&!v[E]&&(v=_e(v)),y&&!y[E]&&(y=_e(y,e)),ce(function(e,t,n,r){var i,a,o,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!p||!e&&h?l:xe(l,s,p,n,r),d=m?y||(e?p:c||v)?[]:t:f;if(m&&m(f,d,n,r),v)for(i=xe(d,u),v(i,[],n,r),a=i.length;a--;)(o=i[a])&&(d[u[a]]=!(f[u[a]]=o));if(e){if(y||p){if(y){for(i=[],a=d.length;a--;)(o=d[a])&&i.push(f[a]=o);y(null,d=[],i,r)}for(a=d.length;a--;)(o=d[a])&&-1<(i=y?j(e,o):s[a])&&(e[i]=!(t[i]=o))}}else d=xe(d===t?d.splice(c,d.length):d),y?y(null,t,d,r):L.apply(t,d)})}function Se(e){for(var i,t,n,r=e.length,a=w.relative[e[0].type],o=a||w.relative[" "],s=a?1:0,u=we(function(e){return e===i},o,!0),c=we(function(e){return-1<j(i,e)},o,!0),l=[function(e,t,n){var r=!a&&(n||t!==k)||((i=t).nodeType?u(e,t,n):c(e,t,n));return i=null,r}];s<r;s++)if(t=w.relative[e[s].type])l=[we(ke(l),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return _e(1<s&&ke(l),1<s&&be(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(H,"$1"),t,s<n&&Se(e.slice(s,n)),n<r&&Se(e=e.slice(n)),n<r&&be(e))}l.push(t)}return ke(l)}return ge.prototype=w.filters=w.pseudos,w.setFilters=new ge,h=se.tokenize=function(e,t){var n,r,i,a,o,s,u,c=O[e+" "];if(c)return t?0:c.slice(0);for(o=e,s=[],u=w.preFilter;o;){for(a in n&&!(r=V.exec(o))||(r&&(o=o.slice(r[0].length)||o),s.push(i=[])),n=!1,(r=Y.exec(o))&&(n=r.shift(),i.push({value:n,type:r[0].replace(H," ")}),o=o.slice(n.length)),w.filter)!(r=Q[a].exec(o))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?se.error(e):O(e,s).slice(0)},d=se.compile=function(e,t){var n,v,y,g,b,r=[],i=[],a=M[e+" "];if(!a){for(n=(t=t||h(e)).length;n--;)(a=Se(t[n]))[E]?r.push(a):i.push(a);(a=M(e,(v=i,g=0<(y=r).length,b=0<v.length,g?ce(o):o))).selector=e}function o(e,t,n,r,i){var a,o,s,u=0,c="0",l=e&&[],f=[],d=k,p=e||b&&w.find.TAG("*",i),h=C+=null==d?1:Math.random()||.1,m=p.length;for(i&&(k=t===_||t||i);c!==m&&null!=(a=p[c]);c++){if(b&&a){for(o=0,t||a.ownerDocument===_||(x(a),n=!S);s=v[o++];)if(s(a,t||_,n)){r.push(a);break}i&&(C=h)}g&&((a=!s&&a)&&u--,e&&l.push(a))}if(u+=c,g&&c!==u){for(o=0;s=y[o++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=A.call(r));f=xe(f)}L.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(C=h,k=d),l}return a},m=se.select=function(e,t,n,r){var i,a,o,s,u,c="function"==typeof e&&e,l=!r&&h(e=c.selector||e);if(n=n||[],1===l.length){if(2<(a=l[0]=l[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&S&&w.relative[a[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(re,f),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=Q.needsContext.test(e)?0:a.length;i--&&(o=a[i],!w.relative[s=o.type]);)if((u=w.find[s])&&(r=u(o.matches[0].replace(re,f),ne.test(a[0].type)&&ye(t.parentNode)||t))){if(a.splice(i,1),!(e=r.length&&be(a)))return L.apply(n,r),n;break}}return(c||d(e,l))(r,t,!S,n,!t||ne.test(e)&&ye(t.parentNode)||t),n},p.sortStable=E.split("").sort(I).join("")===E,p.detectDuplicates=!!c,x(),p.sortDetached=le(function(e){return 1&e.compareDocumentPosition(_.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||fe(F,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(_);E.find=p,E.expr=p.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=p.uniqueSort,E.text=p.getText,E.isXMLDoc=p.isXML,E.contains=p.contains,E.escapeSelector=p.escape;function h(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r}function x(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var C=E.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,n,r){return b(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?E.grep(e,function(e){return e===n!==r}):"string"!=typeof n?E.grep(e,function(e){return-1<i.call(n,e)!==r}):E.filter(n,e,r)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return 1<r?E.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&C.test(e)?E(e):e||[],!1).length}});var P,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||P,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),O.test(r[1])&&E.isPlainObject(t))for(r in t)b(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=S.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=E.fn,P=E(S);var D=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,a=[],o="string"!=typeof e&&E(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?E.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?i.call(E(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(T(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(r,i){E.fn[r]=function(e,t){var n=E.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(A[r]||E.uniqueSort(n),D.test(r)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function R(e){return e}function j(e){throw e}function F(e,t,n,r){var i;try{e&&b(i=e.promise)?i.call(e).done(t).fail(n):e&&b(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},E.each(e.match(L)||[],function(e,t){n[t]=!0}),n):E.extend({},r);function i(){for(s=s||r.once,o=a=!0;c.length;l=-1)for(t=c.shift();++l<u.length;)!1===u[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=u.length,t=!1);r.memory||(t=!1),a=!1,s&&(u=t?[]:"")}var a,t,o,s,u=[],c=[],l=-1,f={add:function(){return u&&(t&&!a&&(l=u.length-1,c.push(t)),function n(e){E.each(e,function(e,t){b(t)?r.unique&&f.has(t)||u.push(t):t&&t.length&&"string"!==k(t)&&n(t)})}(arguments),t&&!a&&i()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,u,n));)u.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<E.inArray(e,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return s=c=[],u=t="",this},disabled:function(){return!u},lock:function(){return s=c=[],t||a||(u=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),a||i()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},E.extend({Deferred:function(e){var a=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var i=arguments;return E.Deferred(function(r){E.each(a,function(e,t){var n=b(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function c(i,a,o,s){return function(){function e(){var e,t;if(!(i<u)){if((e=o.apply(n,r))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?s?t.call(e,c(u,a,R,s),c(u,a,j,s)):(u++,t.call(e,c(u,a,R,s),c(u,a,j,s),c(u,a,R,a.notifyWith))):(o!==R&&(n=void 0,r=[e]),(s||a.resolveWith)(n,r))}}var n=this,r=arguments,t=s?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(o!==j&&(n=void 0,r=[e]),a.rejectWith(n,r))}};i?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),_.setTimeout(t))}}return E.Deferred(function(e){a[0][3].add(c(0,e,b(r)?r:R,e.notifyWith)),a[1][3].add(c(0,e,b(t)?t:R)),a[2][3].add(c(0,e,b(n)?n:j))}).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},s={};return E.each(a,function(e,t){var n=t[2],r=t[5];o[t[1]]=n.add,r&&n.add(function(){i=r},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){i[t]=this,a[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(i,a)}}var n=arguments.length,r=n,i=Array(r),a=s.call(arguments),o=E.Deferred();if(n<=1&&(F(e,o.done(t(r)).resolve,o.reject,!n),"pending"===o.state()||b(a[r]&&a[r].then)))return o.then();for(;r--;)F(a[r],t(r),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){_.console&&_.console.warn&&e&&U.test(e.name)&&_.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){_.setTimeout(function(){throw e})};var B=E.Deferred();function z(){S.removeEventListener("DOMContentLoaded",z),_.removeEventListener("load",z),E.ready()}E.fn.ready=function(e){return B.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||((E.isReady=!0)!==e&&0<--E.readyWait||B.resolveWith(S,[E]))}}),E.ready.then=B.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?_.setTimeout(E.ready):(S.addEventListener("DOMContentLoaded",z),_.addEventListener("load",z));function q(e,t,n,r,i,a,o){var s=0,u=e.length,c=null==n;if("object"===k(n))for(s in i=!0,n)q(e,t,s,n[s],!0,a,o);else if(void 0!==r&&(i=!0,b(r)||(o=!0),c&&(t=o?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):a}var W=/^-ms-/,H=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function Y(e){return e.replace(W,"ms-").replace(H,V)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function $(){this.expando=E.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Y(t)]=n;else for(r in t)i[Y(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!E.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var J=new $,Q=new $,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,X=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(X,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,r,i,a=this[0],o=a&&a.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):q(this,function(e){var t;if(a&&void 0===e)return void 0!==(t=Q.get(a,n))?t:void 0!==(t=Z(a,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=Q.get(a),1===a.nodeType&&!J.get(a,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(r=o[t].name).indexOf("data-")&&(r=Y(r.slice(5)),Z(a,r,i[r]));J.set(a,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),a=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,function(){E.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:E.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||a.resolveWith(o,[o])}var r,i=1,a=E.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=J.get(o[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),a.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=S.documentElement,ie=function(e){return E.contains(e.ownerDocument,e)},ae={composed:!0};re.getRootNode&&(ie=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});function oe(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===E.css(e,"display")}function se(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,r||[]),t)e.style[a]=o[a];return i}function ue(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),l=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+u)&&te.exec(E.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;o--;)E.style(e,t,l+c),(1-a)*(1-(a=s()/u||.5))<=0&&(o=0),l/=a;l*=2,E.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ce={};function le(e,t){for(var n,r,i=[],a=0,o=e.length;a<o;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(i[a]=J.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&oe(r)&&(i[a]=(f=c=u=void 0,c=(s=r).ownerDocument,l=s.nodeName,(f=ce[l])||(u=c.body.appendChild(c.createElement(l)),f=E.css(u,"display"),u.parentNode.removeChild(u),"none"===f&&(f="block"),ce[l]=f)))):"none"!==n&&(i[a]="none",J.set(r,"display",n)));var s,u,c,l,f;for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}E.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?E(this).show():E(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?E.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var ye,ge,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var a,o,s,u,c,l,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((a=e[p])||0===a)if("object"===k(a))E.merge(d,a.nodeType?[a]:a);else if(be.test(a)){for(o=o||f.appendChild(t.createElement("div")),s=(de.exec(a)||["",""])[1].toLowerCase(),u=he[s]||he._default,o.innerHTML=u[1]+E.htmlPrefilter(a)+u[2],l=u[0];l--;)o=o.lastChild;E.merge(d,o.childNodes),(o=f.firstChild).textContent=""}else d.push(t.createTextNode(a));for(f.textContent="",p=0;a=d[p++];)if(r&&-1<E.inArray(a,r))i&&i.push(a);else if(c=ie(a),o=me(f.appendChild(a),"script"),c&&ve(o),n)for(l=0;a=o[l++];)pe.test(a.type||"")&&n.push(a);return f}ye=S.createDocumentFragment().appendChild(S.createElement("div")),(ge=S.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),ye.appendChild(ge),g.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var ke=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_e=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Ee(){return!1}function Ce(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,r,i,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,s,n,r,t[s],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return E().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}function Oe(e,i,a){a?(J.set(e,i,!1),E.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=J.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(E.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),J.set(this,i,r),t=a(this,i),this[i](),r!==(n=J.get(this,i))||t?J.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(J.set(this,i,{value:E.event.trigger(E.extend(r[0],E.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,i)&&E.event.add(e,i,Se)}E.event={global:{},add:function(t,e,n,r,i){var a,o,s,u,c,l,f,d,p,h,m,v=J.get(t);if(v)for(n.handler&&(n=(a=n).handler,i=a.selector),i&&E.find.matchesSelector(re,i),n.guid||(n.guid=E.guid++),(u=v.events)||(u=v.events={}),(o=v.handle)||(o=v.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)p=m=(s=_e.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=E.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=E.event.special[p]||{},l=E.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},a),(d=u[p])||((d=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,o)||t.addEventListener&&t.addEventListener(p,o)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,l):d.push(l),E.event.global[p]=!0)},remove:function(e,t,n,r,i){var a,o,s,u,c,l,f,d,p,h,m,v=J.hasData(e)&&J.get(e);if(v&&(u=v.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=m=(s=_e.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=E.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)l=d[a],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(a,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));o&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||E.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)E.event.remove(e,p+t[c],n,r,!0);E.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,o,s=E.event.fix(e),u=new Array(arguments.length),c=(J.get(this,"events")||{})[s.type]||[],l=E.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(o=E.event.handlers.call(this,s,c),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==a.namespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(r=((E.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,a,o,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],o={},n=0;n<u;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?-1<E(i,this).index(c):E.find(i,this,null,[c]).length),o[i]&&a.push(r);a.length&&s.push({elem:c,handlers:a})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Oe(t,"click",Se),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&T(t,"input")&&J.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){E.event.special[e]={setup:function(){return Oe(this,e,Ce),!1},trigger:function(){return Oe(this,e),!0},delegateType:t}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){E.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),E.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){E.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pe=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ae(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,r,i,a,o,s,u,c;if(1===t.nodeType){if(J.hasData(e)&&(a=J.access(e),o=J.set(t,a),c=a.events))for(i in delete o.handle,o.events={},c)for(n=0,r=c[i].length;n<r;n++)E.event.add(t,i,c[i][n]);Q.hasData(e)&&(s=Q.access(e),u=E.extend({},s),Q.set(t,u))}}function je(n,r,i,a){r=v.apply([],r);var e,t,o,s,u,c,l=0,f=n.length,d=f-1,p=r[0],h=b(p);if(h||1<f&&"string"==typeof p&&!g.checkClone&&Ie.test(p))return n.each(function(e){var t=n.eq(e);h&&(r[0]=p.call(this,e,t.html())),je(t,r,i,a)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(s=(o=E.map(me(e,"script"),Ne)).length;l<f;l++)u=e,l!==d&&(u=E.clone(u,!0,!0),s&&E.merge(o,me(u,"script"))),i.call(n[l],u,l);if(s)for(c=o[o.length-1].ownerDocument,E.map(o,Le),l=0;l<s;l++)u=o[l],pe.test(u.type||"")&&!J.access(u,"globalEval")&&E.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):w(u.textContent.replace(De,""),u,c))}return n}function Fe(e,t,n){for(var r,i=t?E.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||E.cleanData(me(r)),r.parentNode&&(n&&ie(r)&&ve(me(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e.replace(Me,"<$1></$2>")},clone:function(e,t,n){var r,i,a,o,s,u,c,l=e.cloneNode(!0),f=ie(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(o=me(l),r=0,i=(a=me(e)).length;r<i;r++)s=a[r],u=o[r],"input"===(c=u.nodeName.toLowerCase())&&fe.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(a=a||me(e),o=o||me(l),r=0,i=a.length;r<i;r++)Re(a[r],o[r]);else Re(e,l);return 0<(o=me(l,"script")).length&&ve(o,!f&&me(e,"script")),l},cleanData:function(e){for(var t,n,r,i=E.event.special,a=0;void 0!==(n=e[a]);a++)if(G(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return q(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return je(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return je(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!he[(de.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return je(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(me(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){E.fn[e]=function(e){for(var t,n=[],r=E(e),i=r.length-1,a=0;a<=i;a++)t=a===i?this:this.clone(!0),E(r[a])[o](t),u.apply(n,t.get());return this.pushStack(n)}});var Ue,Be,ze,qe,We,He,Ve,Ye=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ge=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=_),t.getComputedStyle(e)},$e=new RegExp(ne.join("|"),"i");function Je(e,t,n){var r,i,a,o,s=e.style;return(n=n||Ge(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||ie(e)||(o=E.style(e,t)),!g.pixelBoxStyles()&&Ye.test(o)&&$e.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ke(){if(Ve){He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(He).appendChild(Ve);var e=_.getComputedStyle(Ve);Ue="1%"!==e.top,We=12===Xe(e.marginLeft),Ve.style.right="60%",qe=36===Xe(e.right),Be=36===Xe(e.width),Ve.style.position="absolute",ze=12===Xe(Ve.offsetWidth/3),re.removeChild(He),Ve=null}}function Xe(e){return Math.round(parseFloat(e))}He=S.createElement("div"),(Ve=S.createElement("div")).style&&(Ve.style.backgroundClip="content-box",Ve.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===Ve.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return Ke(),Be},pixelBoxStyles:function(){return Ke(),qe},pixelPosition:function(){return Ke(),Ue},reliableMarginLeft:function(){return Ke(),We},scrollboxSize:function(){return Ke(),ze}}));var Ze=["Webkit","Moz","ms"],et=S.createElement("div").style,tt={};function nt(e){return E.cssProps[e]||tt[e]||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ut(e,t,n,r,i,a){var o="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(u+=E.css(e,n+ne[o],!0,i)),r?("content"===n&&(u-=E.css(e,"padding"+ne[o],!0,i)),"margin"!==n&&(u-=E.css(e,"border"+ne[o]+"Width",!0,i))):(u+=E.css(e,"padding"+ne[o],!0,i),"padding"!==n?u+=E.css(e,"border"+ne[o]+"Width",!0,i):s+=E.css(e,"border"+ne[o]+"Width",!0,i));return!r&&0<=a&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-s-.5))||0),u}function ct(e,t,n){var r=Ge(e),i=(!g.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),a=i,o=Je(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(o)){if(!n)return o;o="auto"}return(!g.boxSizingReliable()&&i||"auto"===o||!parseFloat(o)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+ut(e,t,n||(i?"border":"content"),a,r,o)+"px"}function lt(e,t,n,r,i){return new lt.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=Y(t),u=it.test(t),c=e.style;if(u||(t=nt(s)),o=E.cssHooks[t]||E.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:c[t];"string"==(a=typeof n)&&(i=te.exec(n))&&i[1]&&(n=ue(e,t,i),a="number"),null!=n&&n==n&&("number"!==a||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,a,o,s=Y(t);return it.test(t)||(t=nt(s)),(o=E.cssHooks[t]||E.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=Je(e,t,r)),"normal"===i&&t in ot&&(i=ot[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),E.each(["height","width"],function(e,u){E.cssHooks[u]={get:function(e,t,n){if(t)return!rt.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,u,n):se(e,at,function(){return ct(e,u,n)})},set:function(e,t,n){var r,i=Ge(e),a=!g.scrollboxSize()&&"absolute"===i.position,o=(a||n)&&"border-box"===E.css(e,"boxSizing",!1,i),s=n?ut(e,u,n,o,i):0;return o&&a&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-ut(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=E.css(e,u)),st(0,t,s)}}}),E.cssHooks.marginLeft=Qe(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(i,a){E.cssHooks[i+a]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+a]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(E.cssHooks[i+a].set=st)}),E.fn.extend({css:function(e,t){return q(this,function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){for(r=Ge(e),i=t.length;o<i;o++)a[t[o]]=E.css(e,t[o],!1,r);return a}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=lt).prototype={constructor:lt,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(E.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}}).init.prototype=lt.prototype,(lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=lt.prototype.init,E.fx.step={};var ft,dt,pt,ht,mt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function yt(){dt&&(!1===S.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(yt):_.setTimeout(yt,E.fx.interval),E.fx.tick())}function gt(){return _.setTimeout(function(){ft=void 0}),ft=Date.now()}function bt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function wt(e,t,n){for(var r,i=(kt.tweeners[t]||[]).concat(kt.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,t,e))return r}function kt(a,e,t){var n,o,r=0,i=kt.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=ft||gt(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return s.notifyWith(a,[c,n,t]),n<1&&i?t:(i||s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c]),!1)},c=s.promise({elem:a,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:ft||gt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(a,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c,e])):s.rejectWith(a,[c,e]),this}}),l=c.props;for(function(e,t){var n,r,i,a,o;for(n in e)if(i=t[r=Y(n)],a=e[n],Array.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=E.cssHooks[r])&&"expand"in o)for(n in a=o.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);r<i;r++)if(n=kt.prefilters[r].call(c,a,l,c.opts))return b(n.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return E.map(l,wt,c),b(c.opts.start)&&c.opts.start.call(a,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(u,{elem:a,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(kt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=b(e)?(t=e,["*"]):e.match(L)).length;r<i;r++)n=e[r],kt.tweeners[n]=kt.tweeners[n]||[],kt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,a,o,s,u,c,l,f="width"in t||"height"in t,d=this,p={},h=e.style,m=e.nodeType&&oe(e),v=J.get(e,"fxshow");for(r in n.queue||(null==(o=E._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,E.queue(e,"fx").length||o.empty.fire()})})),t)if(i=t[r],mt.test(i)){if(delete t[r],a=a||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;m=!0}p[r]=v&&v[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=v&&v.display)&&(c=J.get(e,"display")),"none"===(l=E.css(e,"display"))&&(c?l=c:(le([e],!0),c=e.style.display||c,l=E.css(e,"display"),le([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===E.css(e,"float")&&(u||(d.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,p)u||(v?"hidden"in v&&(m=v.hidden):v=J.access(e,"fxshow",{display:c}),a&&(v.hidden=!m),m&&le([e],!0),d.done(function(){for(r in m||le([e]),J.remove(e,"fxshow"),p)E.style(e,r,p[r])})),u=wt(m?v[r]:0,r,d),r in v||(v[r]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?kt.prefilters.unshift(e):kt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=kt(this,E.extend({},t),o);(a||J.get(this,"finish"))&&e.stop(!0)}var a=E.isEmptyObject(t),o=E.speed(e,n,r);return i.finish=i,a||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(i,e,a){function o(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof i&&(a=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=E.timers,r=J.get(this);if(t)r[t]&&r[t].stop&&o(r[t]);else for(t in r)r[t]&&r[t].stop&&vt.test(t)&&o(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||E.dequeue(this,i)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=J.get(this),n=t[o+"queue"],r=t[o+"queueHooks"],i=E.timers,a=n?n.length:0;for(t.finish=!0,E.queue(this,o,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===o&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var i=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(bt(r,!0),e,t,n)}}),E.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ft=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ft=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){dt||(dt=!0,yt())},E.fx.stop=function(){dt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=_.setTimeout(e,r);t.stop=function(){_.clearTimeout(n)}})},pt=S.createElement("input"),ht=S.createElement("select").appendChild(S.createElement("option")),pt.type="checkbox",g.checkOn=""!==pt.value,g.optSelected=ht.selected,(pt=S.createElement("input")).value="t",pt.type="radio",g.radioValue="t"===pt.value;var xt,_t=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return q(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?E.prop(e,t,n):(1===a&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?xt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(L);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),xt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var o=_t[t]||E.find.attr;_t[t]=function(e,t,n){var r,i,a=t.toLowerCase();return n||(i=_t[a],_t[a]=r,r=null!=o(e,t,n)?a:null,_t[a]=i),r}});var St=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;function Ct(e){return(e.match(L)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ot(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}E.fn.extend({prop:function(e,t){return q(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,r,i,a,o,s,u=0;if(b(t))return this.each(function(e){E(this).addClass(t.call(this,e,Tt(this)))});if((e=Ot(t)).length)for(;n=this[u++];)if(i=Tt(n),r=1===n.nodeType&&" "+Ct(i)+" "){for(o=0;a=e[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i!==(s=Ct(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,a,o,s,u=0;if(b(t))return this.each(function(e){E(this).removeClass(t.call(this,e,Tt(this)))});if(!arguments.length)return this.attr("class","");if((e=Ot(t)).length)for(;n=this[u++];)if(i=Tt(n),r=1===n.nodeType&&" "+Ct(i)+" "){for(o=0;a=e[o++];)for(;-1<r.indexOf(" "+a+" ");)r=r.replace(" "+a+" "," ");i!==(s=Ct(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var a=typeof i,o="string"==a||Array.isArray(i);return"boolean"==typeof t&&o?t?this.addClass(i):this.removeClass(i):b(i)?this.each(function(e){E(this).toggleClass(i.call(this,e,Tt(this),t),t)}):this.each(function(){var e,t,n,r;if(o)for(t=0,n=E(this),r=Ot(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=a||((e=Tt(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+Ct(Tt(n))+" ").indexOf(t))return!0;return!1}});var Mt=/\r/g;E.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=b(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Mt,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Ct(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],u=o?a+1:i.length;for(r=a<0?u:o?a:0;r<u;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=E(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,a=E.makeArray(t),o=i.length;o--;)((r=i[o]).selected=-1<E.inArray(E.valHooks.option.get(r),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},g.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in _;function Pt(e){e.stopPropagation()}var It=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(e,t,n,r){var i,a,o,s,u,c,l,f,d=[n||S],p=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(a=f=o=n=n||S,3!==n.nodeType&&8!==n.nodeType&&!It.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[E.expando]?e:new E.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),l=E.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!m(n)){for(s=l.delegateType||p,It.test(s+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),o=a;o===(n.ownerDocument||S)&&d.push(o.defaultView||o.parentWindow||_)}for(i=0;(a=d[i++])&&!e.isPropagationStopped();)f=a,e.type=1<i?s:l.bindType||p,(c=(J.get(a,"events")||{})[e.type]&&J.get(a,"handle"))&&c.apply(a,t),(c=u&&a[u])&&c.apply&&G(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),t)||!G(n)||u&&b(n[p])&&!m(n)&&((o=n[u])&&(n[u]=null),E.event.triggered=p,e.isPropagationStopped()&&f.addEventListener(p,Pt),n[p](),e.isPropagationStopped()&&f.removeEventListener(p,Pt),E.event.triggered=void 0,o&&(n[u]=o)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),g.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){E.event.simulate(r,e.target,E.event.fix(e))}E.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=J.access(e,r);t||e.addEventListener(n,i,!0),J.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=J.access(e,r)-1;t?J.access(e,r,t):(e.removeEventListener(n,i,!0),J.remove(e,r))}}});var Dt=_.location,At=Date.now(),Nt=/\?/;E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new _.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var Lt=/\[\]$/,Rt=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function Ut(n,e,r,i){var t;if(Array.isArray(e))E.each(e,function(e,t){r||Lt.test(n)?i(n,t):Ut(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==k(e))i(n,e);else for(t in e)Ut(n+"["+t+"]",e[t],r,i)}E.param=function(e,t){function n(e,t){var n=b(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){n(this.name,this.value)});else for(r in e)Ut(r,e[r],t,n);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Ft.test(this.nodeName)&&!jt.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}});var Bt=/%20/g,zt=/#.*$/,qt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,Vt=/^\/\//,Yt={},Gt={},$t="*/".concat("*"),Jt=S.createElement("a");function Qt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(L)||[];if(b(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function Kt(t,i,a,o){var s={},u=t===Gt;function c(e){var r;return s[e]=!0,E.each(t[e]||[],function(e,t){var n=t(i,a,o);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),c(n),!1)}),r}return c(i.dataTypes[0])||!s["*"]&&c("*")}function Xt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&E.extend(!0,e,r),e}Jt.href=Dt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,E.ajaxSettings),t):Xt(E.ajaxSettings,e)},ajaxPrefilter:Qt(Yt),ajaxTransport:Qt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,f,d,n,p,r,h,m,i,a,v=E.ajaxSetup({},t),y=v.context||v,g=v.context&&(y.nodeType||y.jquery)?E(y):E.event,b=E.Deferred(),w=E.Callbacks("once memory"),k=v.statusCode||{},o={},s={},u="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Wt.exec(d);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?d:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)x.always(e[x.status]);else for(t in e)k[t]=[k[t],e[t]];return this},abort:function(e){var t=e||u;return l&&l.abort(t),c(0,t),this}};if(b.promise(x),v.url=((e||v.url||Dt.href)+"").replace(Vt,Dt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(L)||[""],null==v.crossDomain){r=S.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Jt.protocol+"//"+Jt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=E.param(v.data,v.traditional)),Kt(Yt,v,t,x),h)return x;for(i in(m=E.event&&v.global)&&0==E.active++&&E.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ht.test(v.type),f=v.url.replace(zt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Bt,"+")):(a=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Nt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(qt,"$1"),a=(Nt.test(f)?"&":"?")+"_="+At+++a),v.url=f+a),v.ifModified&&(E.lastModified[f]&&x.setRequestHeader("If-Modified-Since",E.lastModified[f]),E.etag[f]&&x.setRequestHeader("If-None-Match",E.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&x.setRequestHeader("Content-Type",v.contentType),x.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)x.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,x,v)||h))return x.abort();if(u="abort",w.add(v.complete),x.done(v.success),x.fail(v.error),l=Kt(Gt,v,t,x)){if(x.readyState=1,m&&g.trigger("ajaxSend",[x,v]),h)return x;v.async&&0<v.timeout&&(p=_.setTimeout(function(){x.abort("timeout")},v.timeout));try{h=!1,l.send(o,c)}catch(e){if(h)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,r){var i,a,o,s,u,c=t;h||(h=!0,p&&_.clearTimeout(p),l=void 0,d=r||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)a=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){a=i;break}o=o||i}a=a||o}if(a)return a!==u[0]&&u.unshift(a),n[a]}(v,x,n)),s=function(e,t,n,r){var i,a,o,s,u,c={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=l.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=l.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(o=c[u+" "+a]||c["* "+a]))for(i in c)if((s=i.split(" "))[1]===a&&(o=c[u+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[i]:!0!==c[i]&&(a=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}(v,s,x,i),i?(v.ifModified&&((u=x.getResponseHeader("Last-Modified"))&&(E.lastModified[f]=u),(u=x.getResponseHeader("etag"))&&(E.etag[f]=u)),204===e||"HEAD"===v.type?c="nocontent":304===e?c="notmodified":(c=s.state,a=s.data,i=!(o=s.error))):(o=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",i?b.resolveWith(y,[a,c,x]):b.rejectWith(y,[x,c,o]),x.statusCode(k),k=void 0,m&&g.trigger(i?"ajaxSuccess":"ajaxError",[x,v,i?a:o]),w.fireWith(y,[x,c]),m&&(g.trigger("ajaxComplete",[x,v]),--E.active||E.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,i){E[i]=function(e,t,n,r){return b(t)&&(r=r||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:i,dataType:r,data:t,success:n},E.isPlainObject(e)&&e))}}),E._evalUrl=function(e,t){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},en=E.ajaxSettings.xhr();g.cors=!!en&&"withCredentials"in en,g.ajax=en=!!en,E.ajaxTransport(function(i){var a,o;if(g.cors||en&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=o=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Zt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=a(),o=r.onerror=r.ontimeout=a("error"),void 0!==r.onabort?r.onabort=o:r.onreadystatechange=function(){4===r.readyState&&_.setTimeout(function(){a&&o()})},a=a("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=E("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(r[0])},abort:function(){i&&i()}}});var tn,nn=[],rn=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nn.pop()||E.expando+"_"+At++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,a,o=!1!==e.jsonp&&(rn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rn,"$1"+r):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||E.error(r+" was not called"),a[0]},e.dataTypes[0]="json",i=_[r],_[r]=function(){a=arguments},n.always(function(){void 0===i?E(_).removeProp(r):_[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,nn.push(r)),a&&b(i)&&i(a[0]),a=i=void 0}),"script"}),g.createHTMLDocument=((tn=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(r)):t=S),a=!n&&[],(i=O.exec(e))?[t.createElement(i[1])]:(i=we([e],t,a),a&&a.length&&E(a).remove(),E.merge([],i.childNodes)));var r,i,a},E.fn.load=function(e,t,n){var r,i,a,o=this,s=e.indexOf(" ");return-1<s&&(r=Ct(e.slice(s)),e=e.slice(0,s)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<o.length&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var r,i,a,o,s,u,c=E.css(e,"position"),l=E(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),a=E.css(e,"top"),u=E.css(e,"left"),i=("absolute"===c||"fixed"===c)&&-1<(a+u).indexOf("auto")?(o=(r=l.position()).top,r.left):(o=parseFloat(a)||0,parseFloat(u)||0),b(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+o),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||re})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var a="pageYOffset"===i;E.fn[t]=function(e){return q(this,function(e,t,n){var r;if(m(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(a?r.pageXOffset:n,a?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Qe(g.pixelPosition,function(e,t){if(t)return t=Je(e,n),Ye.test(t)?E(e).position()[n]+"px":t})}),E.each({Height:"height",Width:"width"},function(o,s){E.each({padding:"inner"+o,content:s,"":"outer"+o},function(r,a){E.fn[a]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return q(this,function(e,t,n){var r;return m(e)?0===a.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):void 0===n?E.css(e,t,i):E.style(e,t,n,i)},s,n?e:void 0,n)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),E.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=T,E.isFunction=b,E.isWindow=m,E.camelCase=Y,E.type=k,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(cn=function(){return E}.apply(un,[]))||(sn.exports=cn);var an=_.jQuery,on=_.$;return E.noConflict=function(e){return _.$===E&&(_.$=on),e&&_.jQuery===E&&(_.jQuery=an),E},e||(_.jQuery=_.$=E),E})},function(e,t,n){var a=n(40);e.exports=function(r,i,e){if(a(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t,n){var r=n(20),i=n(57);e.exports=n(22)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports={default:n(224),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(250);t.TwilsockClient=r.TwilsockClient,t.Twilsock=r.TwilsockClient;var i=n(47);t.TwilsockError=i.TwilsockError;var a=n(277);t.TransportUnavailableError=a.TransportUnavailableError},function(e,t,n){"use strict";var a=n(1),o=n(4),s=n(3),r=n(5),i=n(99);Object.defineProperty(t,"__esModule",{value:!0});var u,c=(u=i(Error),r(l,u),l);function l(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return a(this,l),(t=o(this,s(l).call(this))).name=t.constructor.name,t.message="".concat(e," (status: ").concat(n,", code: ").concat(r,")"),t.status=n,t.code=r,t}t.SyncError=c;var f=(r(d,c),d);function d(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length?arguments[3]:void 0;return a(this,d),(t=o(this,s(d).call(this,e,n,r))).body=i,t}t.SyncNetworkError=f,t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63);function i(e,t){return["".concat((new Date).toISOString()," Sync ").concat(e,":")].concat(Array.from(t))}t.default={setLevel:function(e){r.setLevel(e)},trace:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.trace.apply(null,i("T",t))},debug:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.debug.apply(null,i("D",t))},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.info.apply(null,i("I",t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.warn.apply(null,i("W",t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.error.apply(null,i("E",t))}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var a=n(6);function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?Object(a.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(182)(!0);n(87)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(63);function o(e,t){return["".concat((new Date).toISOString()," Twilsock ").concat(e,":")].concat(Array.from(t))}var s=(i(u,[{key:"setLevel",value:function(e){a.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,o("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,o("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,o("E",t))}}],[{key:"setLevel",value:function(e){a.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trace.apply(null,o("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,o("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,o("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,o("E",t))}}]),u);function u(e){r(this,u),this.prefix="",this.prefix=null!=e&&0<e.length?" "+e+":":""}var c=new(t.Logger=s)("");t.log=c},function(e,t,n){var r=n(257),i=n(258),a=i;a.v1=r,a.v4=i,e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(5),s=n(99);Object.defineProperty(t,"__esModule",{value:!0});var u,c=(u=s(Error),o(l,u),l);function l(e){return r(this,l),i(this,a(l).call(this,e))}t.TwilsockError=c},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(167)},function(e,t,n){var r=n(80),i=n(81);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(81);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){n(185);for(var r=n(14),i=n(29),a=n(51),o=n(16)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(245);t.Retrier=r.Retrier;var i=n(247);t.Backoff=i.Backoff,t.default=r.Retrier},function(r,e,t){var a=t(252);function i(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=i=Reflect.get:r.exports=i=function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},i(e,t,n||e)}r.exports=i},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0});var i=n(46);t.AbstractMessage=function e(t){r(this,e),this.id=t||"TM".concat(i.v4())}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,r){function i(){}var a=r(21),o=r(184),s=r(85),u=r(83)("IE_PROTO"),c=function(){var e,t=r(78)("iframe"),n=s.length;for(t.style.display="none",r(111).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[s[n]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(i.prototype=a(e),n=new i,i.prototype=null,n[u]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(20).f,i=n(41),a=n(16)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var d=n(28),p=n(114),h=n(115),m=n(21),v=n(70),y=n(89),g={},b={};(t=e.exports=function(e,t,n,r,i){var a,o,s,u,c=i?function(){return e}:y(e),l=d(n,r,t?2:1),f=0;if("function"!=typeof c)throw TypeError(e+" is not iterable!");if(h(c)){for(a=v(e.length);f<a;f++)if((u=t?l(m(o=e[f])[0],o[1]):l(e[f]))===g||u===b)return u}else for(s=c.call(e);!(o=s.next()).done;)if((u=p(s,l,o.value,t))===g||u===b)return u}).BREAK=g,t.RETURN=b},function(e,t,n){var r,i;!function(){"use strict";void 0===(i="function"==typeof(r=function(){var i=function(){},u="undefined",a=typeof window!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),c=["trace","debug","info","warn","error"];function o(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(e,t){for(var n=0;n<c.length;n++){var r=c[n];this[r]=n<e?i:this.methodFactory(r,e,t)}this.log=this.debug}function f(e,t,n){return"debug"===(r=e)&&(r="log"),typeof console!==u&&("trace"===r&&a?s:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):i)||function(e,t,n){return function(){typeof console!==u&&(l.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments);var r}function n(n,e,t){var r,i=this,a="loglevel";function o(){var e;if(typeof window!==u){try{e=window.localStorage[a]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(a)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}n&&(a+=":"+n),i.name=n,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=t||f,i.getLevel=function(){return r},i.setLevel=function(t,e){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&0<=t&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==e&&function(){var e=(c[t]||"silent").toUpperCase();if(typeof window!==u){try{return window.localStorage[a]=e}catch(e){}try{window.document.cookie=encodeURIComponent(a)+"="+e+";"}catch(e){}}}(),l.call(i,t,n),typeof console===u&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){o()||i.setLevel(e,!1)},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var s=o();null==s&&(s=null==e?"WARN":e),i.setLevel(s,!1)}var r=new n,d={};r.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t=t||(d[e]=new n(e,r.getLevel(),r.methodFactory))};var e=typeof window!==u?window.log:void 0;return r.noConflict=function(){return typeof window!==u&&window.log===r&&(window.log=e),r},r.getLoggers=function(){return d},r})?r.call(t,n,t,e):r)||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);function i(e){return!isNaN(parseInt(e))&&isFinite(e)}function a(e){return i(e)&&0<=e}t.deepClone=function(e){return JSON.parse(JSON.stringify(e))},t.validateOptionalTtl=function(e){if(void 0!==e&&!a(e))throw new r.default("Invalid TTL value, expected a positive integer, was '".concat(e,"'"),400,54011)},t.validateMandatoryTtl=function(e){if(!a(e))throw new r.default("Invalid TTL value, expected a positive integer, was '".concat(e,"'"),400,54011)},t.validatePageSize=function(e){var t;if(!(void 0===e||i(t=e)&&0<t))throw new r.default("Invalid pageSize parameter. Expected a positive integer, was '".concat(e,"'."),400,54455)}},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"_advanceLastEventId",value:function(e,t){}},{key:"reportFailure",value:function(e){404===e.status?this.onRemoved(!1):this.broadcastEventToListeners("failure",e)}},{key:"_subscribe",value:function(){this.services.router.subscribe(this.sid,this)}},{key:"_unsubscribe",value:function(){this.services.router.unsubscribe(this.sid)}},{key:"_setSubscriptionState",value:function(e){this.subscriptionState=e,this.broadcastEventToListeners("_subscriptionStateChanged",e)}},{key:"close",value:function(){this._unsubscribe(),null!=this.removalHandler&&this.removalHandler(this.type,this.sid,this.uniqueName)}},{key:"attach",value:function(e){var t=e.listenerUuid;this._attachedListeners.get(t)||(this._attachedListeners.size||this._subscribe(),this._attachedListeners.set(t,e))}},{key:"detach",value:function(e){this._attachedListeners.delete(e),this._attachedListeners.size||this.close()}},{key:"broadcastEventToListeners",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this._attachedListeners.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)a.value.emit(e,t)}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}]),o);function o(e,t){r(this,o),this.services=e,this.removalHandler=t,this.subscriptionState="none",this._attachedListeners=new Map}t.SyncEntity=a,t.default=a},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(4),o=n(3),s=n(5);Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(10),l=n(46),f=(u=c.EventEmitter,s(d,u),i(d,[{key:"close",value:function(){this.removeAllListeners(),this.closed=!0}},{key:"ensureNotClosed",value:function(){if(this.closed)throw new Error("Invalid operation on closed object")}},{key:"listenerUuid",get:function(){return this.uuid}}]),d);function d(){var e;return r(this,d),(e=a(this,o(d).call(this))).closed=!1,e.uuid=l(),e}t.Closeable=f,t.default=f},function(e,t,n){e.exports=n(331)()},function(e,t,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach(function(e){var t,n,r;t=i,r=a[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}n.d(t,"a",function(){return i})},function(e,t,n){var r=n(109),i=n(85);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(82),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){},function(e,t,n){var i=n(58),a=n(16)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r=o(n(18)),i=o(n(7)),a=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=((0,a.default)(u,[{key:"nextPage",value:function(){return this.hasNextPage?this.state.source(this.state.nextToken):r.default.reject(new Error("No next page"))}},{key:"prevPage",value:function(){return this.hasPrevPage?this.state.source(this.state.prevToken):r.default.reject(new Error("No previous page"))}},{key:"hasNextPage",get:function(){return!!this.state.nextToken}},{key:"hasPrevPage",get:function(){return!!this.state.prevToken}},{key:"items",get:function(){return this.state.items}}]),u);function u(e,t,n,r){(0,i.default)(this,u),this.state={prevToken:n,nextToken:r,source:t,items:e}}t.RestPaginator=s},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"pathSegment",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"queryParam",value:function(e,t){return void 0!==t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),o);function o(e){r(this,o),this.base=e,this.args=new Array,this.paths=new Array}t.UriBuilder=a},function(e,t,n){var r=n(17),i=n(14).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var i=n(17);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(58);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(84)("keys"),i=n(71);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(9),i=n(14),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(59)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";function b(){return this}var w=n(59),k=n(12),x=n(110),_=n(29),S=n(51),E=n(183),C=n(61),T=n(112),O=n(16)("iterator"),M=!([].keys&&"next"in[].keys());e.exports=function(e,t,n,r,i,a,o){E(n,t,r);function s(e){if(!M&&e in h)return h[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,c,l,f=t+" Iterator",d="values"==i,p=!1,h=e.prototype,m=h[O]||h["@@iterator"]||i&&h[i],v=m||s(i),y=i?d?s("entries"):v:void 0,g="Array"==t&&h.entries||m;if(g&&(l=T(g.call(new e)))!==Object.prototype&&l.next&&(C(l,f,!0),w||"function"==typeof l[O]||_(l,O,b)),d&&m&&"values"!==m.name&&(p=!0,v=function(){return m.call(this)}),w&&!o||!M&&!p&&h[O]||_(h,O,v),S[t]=v,S[f]=b,i)if(u={values:d?v:s("values"),keys:a?v:s("keys"),entries:y},o)for(c in u)c in h||x(h,c,u[c]);else k(k.P+k.F*(M||p),t,u);return u}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(74),i=n(16)("iterator"),a=n(51);e.exports=n(9).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){"use strict";var i=n(40);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(29);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){t.f=n(16)},function(e,t,n){function r(e){s(e,i,{value:{i:"O"+ ++u,w:{}}})}var i=n(71)("meta"),a=n(17),o=n(41),s=n(20).f,u=0,c=Object.isExtensible||function(){return!0},l=!n(30)(function(){return c(Object.preventExtensions({}))}),f=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!c(e))return"F";if(!t)return"E";r(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!c(e))return!0;if(!t)return!1;r(e)}return e[i].w},onFreeze:function(e){return l&&f.NEED&&c(e)&&!o(e,i)&&r(e),e}}},function(e,t,n){var r=n(14),i=n(9),a=n(59),o=n(92),s=n(20).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){e.exports={default:n(222),__esModule:!0}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(n,e){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256);t.Init=r.Init;var i=n(259);t.InitReply=i.InitReply;var a=n(260);t.Update=a.Update;var o=n(261);t.Message=o.Message;var s=n(262);t.Reply=s.Reply;var u=n(263);t.Close=u.Close},function(t,e,n){var r=n(3),i=n(97),a=n(264),o=n(265);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(e)}t.exports=s},function(e,d,p){(function(c,l){var f;(function(){"use strict";var e={function:!0,object:!0},N=e[typeof window]&&window||this,t=e[typeof d]&&d,n=e[typeof c]&&c&&!c.nodeType&&c,r=t&&n&&"object"==typeof l&&l;!r||r.global!==r&&r.window!==r&&r.self!==r||(N=r);var a=Math.pow(2,53)-1,L=/\bOpera/,i=Object.prototype,o=i.hasOwnProperty,R=i.toString;function s(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function j(e){return e=q(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:s(e)}function F(e,t){for(var n in e)o.call(e,n)&&t(e[n],n,e)}function U(e){return null==e?s(e):R.call(e).slice(8,-1)}function B(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function z(n,r){var i=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&-1<r&&r<=a)for(;++n<r;)t(e[n],n);else F(e,t)}(n,function(e,t){i=r(i,e,t,n)}),i}function q(e){return String(e).replace(/^ +| +$/g,"")}var u=function e(s){var t=N,n=s&&"object"==typeof s&&"String"!=U(s);n&&(t=s,s=null);var r=t.navigator||{},i=r.userAgent||"";s=s||i;var a,o,u,c,l=n?!!r.likeChrome:/\bChrome\b/.test(s)&&!/internal|\n/i.test(R.toString()),f=n?"Object":"ScriptBridgingProxyObject",d=n?"Object":"Environment",p=n&&t.java?"JavaPackage":U(t.java),h=n?"Object":"RuntimeObject",m=/\bJava/.test(p)&&t.java,v=m&&U(t.environment)==d,y=m?"a":"Î±",g=m?"b":"Î²",b=t.document||{},w=t.operamini||t.opera,k=L.test(k=n&&w?w["[[Class]]"]:U(w))?k:w=null,x=s,_=[],S=null,E=s==i,C=E&&w&&"function"==typeof w.version&&w.version(),T=z([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||B(t))+"\\b","i").exec(s)&&(t.label||t)}),O=z(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||B(t))+"\\b","i").exec(s)&&(t.label||t)}),M=D([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),P=z({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,n){return e||(t[M]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(M)]||RegExp("\\b"+B(n)+"(?:\\b|\\w*\\d)","i").exec(s))&&n}),I=z(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n,r,i,a,o=t.pattern||B(t);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(s))&&(n=e,r=o,i=t.label||t,a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},r&&i&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(a=a[/[\d.]+$/.exec(n)])&&(n="Windows "+a),n=String(n),r&&i&&(n=n.replace(RegExp(r,"i"),i)),e=j(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function D(e){return z(e,function(e,t){var n=t.pattern||B(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(s)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(s)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(s))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=j(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(T=T&&[T],P&&!M&&(M=D([P])),(a=/\bGoogle TV\b/.exec(M))&&(M=a[0]),/\bSimulator\b/i.test(s)&&(M=(M?M+" ":"")+"Simulator"),"Opera Mini"==O&&/\bOPiOS\b/.test(s)&&_.push("running in Turbo/Uncompressed mode"),"IE"==O&&/\blike iPhone OS\b/.test(s)?(P=(a=e(s.replace(/like iPhone OS/,""))).manufacturer,M=a.product):/^iP/.test(M)?(O=O||"Safari",I="iOS"+((a=/ OS ([\d_]+)/i.exec(s))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=O||/buntu/i.test(I)?P&&"Google"!=P&&(/Chrome/.test(O)&&!/\bMobile Safari\b/i.test(s)||/\bVita\b/.test(M))||/\bAndroid\b/.test(I)&&/^Chrome/.test(O)&&/\bVersion\//i.test(s)?(O="Android Browser",I=/\bAndroid\b/.test(I)?I:"Android"):"Silk"==O?(/\bMobi/i.test(s)||(I="Android",_.unshift("desktop mode")),/Accelerated *= *true/i.test(s)&&_.unshift("accelerated")):"PaleMoon"==O&&(a=/\bFirefox\/([\d.]+)\b/.exec(s))?_.push("identifying as Firefox "+a[1]):"Firefox"==O&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(s))?(I=I||"Firefox OS",M=M||a[1]):!O||(a=!/\bMinefield\b/i.test(s)&&/\b(?:Firefox|Safari)\b/.exec(O))?(O&&!M&&/[\/,]|^[^(]+?\)/.test(s.slice(s.indexOf(a+"/")+8))&&(O=null),(a=M||P||I)&&(M||P||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(I))&&(O=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(I)?I:a)+" Browser")):"Electron"==O&&(a=(/\bChrome\/([\d.]+)\b/.exec(s)||0)[1])&&_.push("Chromium "+a):I="Kubuntu",C=C||z(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",B(O),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(s)||0)[1]||null}),(a=("iCab"==T&&3<parseFloat(C)?"WebKit":/\bOpera\b/.test(O)&&(/\bOPR\b/.test(s)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(s)&&!/^(?:Trident|EdgeHTML)$/.test(T)&&"WebKit"||!T&&/\bMSIE\b/i.test(s)&&("Mac OS"==I?"Tasman":"Trident")||"WebKit"==T&&/\bPlayStation\b(?! Vita\b)/i.test(O)&&"NetFront")&&(T=[a]),"IE"==O&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(s)||0)[1])?(O+=" Mobile",I="Windows Phone "+(/\+$/.test(a)?a:a+".x"),_.unshift("desktop mode")):/\bWPDesktop\b/i.test(s)?(O="IE Mobile",I="Windows Phone 8.x",_.unshift("desktop mode"),C=C||(/\brv:([\d.]+)/.exec(s)||0)[1]):"IE"!=O&&"Trident"==T&&(a=/\brv:([\d.]+)/.exec(s))&&(O&&_.push("identifying as "+O+(C?" "+C:"")),O="IE",C=a[1]),E){if(c=null!=(u=t)?typeof u.global:"number",/^(?:boolean|number|string|undefined)$/.test(c)||"object"==c&&!u.global)U(a=t.runtime)==f?(O="Adobe AIR",I=a.flash.system.Capabilities.os):U(a=t.phantom)==h?(O="PhantomJS",C=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof b.documentMode&&(a=/\bTrident\/(\d+)/i.exec(s))?(C=[C,b.documentMode],(a=+a[1]+4)!=C[1]&&(_.push("IE "+C[1]+" mode"),T&&(T[1]=""),C[1]=a),C="IE"==O?String(C[1].toFixed(1)):C[0]):"number"==typeof b.documentMode&&/^(?:Chrome|Firefox)\b/.test(O)&&(_.push("masking as "+O+" "+C),O="IE",C="11.0",T=["Trident"],I="Windows");else if(m&&(x=(a=m.lang.System).getProperty("os.arch"),I=I||a.getProperty("os.name")+" "+a.getProperty("os.version")),v){try{C=t.require("ringo/engine").version.join("."),O="RingoJS"}catch(e){(a=t.system)&&a.global.system==t.system&&(O="Narwhal",I=I||(a[0].os||null))}O=O||"Rhino"}else"object"==typeof t.process&&!t.process.browser&&(a=t.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(_.push("Node "+a.versions.node),O="Electron",C=a.versions.electron):"string"==typeof a.versions.nw&&(_.push("Chromium "+C,"Node "+a.versions.node),O="NW.js",C=a.versions.nw)),O||(O="Node.js",x=a.arch,I=a.platform,C=(C=/[\d.]+/.exec(a.version))?C[0]:null));I=I&&j(I)}if(C&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(C)||/(?:alpha|beta)(?: ?\d)?/i.exec(s+";"+(E&&r.appMinorVersion))||/\bMinefield\b/i.test(s)&&"a")&&(S=/b/i.test(a)?"beta":"alpha",C=C.replace(RegExp(a+"\\+?$"),"")+("beta"==S?g:y)+(/\d+\+?/.exec(a)||"")),"Fennec"==O||"Firefox"==O&&/\b(?:Android|Firefox OS)\b/.test(I))O="Firefox Mobile";else if("Maxthon"==O&&C)C=C.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(M))"Xbox 360"==M&&(I=null),"Xbox 360"==M&&/\bIEMobile\b/.test(s)&&_.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(O)&&(!O||M||/Browser|Mobi/.test(O))||"Windows CE"!=I&&!/Mobi/i.test(s))if("IE"==O&&E)try{null===t.external&&_.unshift("platform preview")}catch(e){_.unshift("embedded")}else(/\bBlackBerry\b/.test(M)||/\bBB10\b/.test(s))&&(a=(RegExp(M.replace(/ +/g," *")+"/([.\\d]+)","i").exec(s)||0)[1]||C)?(I=((a=[a,/BB10/.test(s)])[1]?(M=null,P="BlackBerry"):"Device Software")+" "+a[0],C=null):this!=F&&"Wii"!=M&&(E&&w||/Opera/.test(O)&&/\b(?:MSIE|Firefox)\b/i.test(s)||"Firefox"==O&&/\bOS X (?:\d+\.){2,}/.test(I)||"IE"==O&&(I&&!/^Win/.test(I)&&5.5<C||/\bWindows XP\b/.test(I)&&8<C||8==C&&!/\bTrident\b/.test(s)))&&!L.test(a=e.call(F,s.replace(L,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),L.test(O)?(/\bIE\b/.test(a)&&"Mac OS"==I&&(I=null),a="identify"+a):(a="mask"+a,O=k?j(k.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(I=null),E||(C=null)),T=["Presto"],_.push(a));else O+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(s)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==O&&"+"==a[1].slice(-1)?(O="WebKit Nightly",S="alpha",C=a[1].slice(0,-1)):C!=a[1]&&C!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(s)||0)[1])||(C=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(s)||0)[1],537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"WebKit"==T&&(T=["Blink"]),a=E&&(l||a[1])?(T&&(T[1]="like Chrome"),a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=T?"27":"28")):(T&&(T[1]="like Safari"),(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),T&&(T[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==O&&(!C||45<parseInt(C))&&(C=a)),"Opera"==O&&(a=/\bzbov|zvav$/.exec(I))?(O+=" ",_.unshift("desktop mode"),"zvav"==a?(O+="Mini",C=null):O+="Mobile",I=I.replace(RegExp(" *"+a+"$"),"")):"Safari"==O&&/\bChrome\b/.exec(T&&T[1])&&(_.unshift("desktop mode"),O="Chrome Mobile",C=null,I=/\bOS X\b/.test(I)?(P="Apple","iOS 4.3+"):null),C&&0==C.indexOf(a=/[\d.]+$/.exec(I))&&-1<s.indexOf("/"+a+"-")&&(I=q(I.replace(a,""))),T&&!/\b(?:Avant|Nook)\b/.test(O)&&(/Browser|Lunascape|Maxthon/.test(O)||"Safari"!=O&&/^iOS/.test(I)&&/\bSafari\b/.test(T[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(O)&&T[1])&&(a=T[T.length-1])&&_.push(a),_.length&&(_=["("+_.join("; ")+")"]),P&&M&&M.indexOf(P)<0&&_.push("on "+P),M&&_.push((/^on /.test(_[_.length-1])?"":"on ")+M),I&&(a=/ ([\d.+]+)$/.exec(I),o=a&&"/"==I.charAt(I.length-a[0].length-1),I={architecture:32,family:a&&!o?I.replace(a[0],""):I,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!o?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(x))&&!/\bi686\b/i.test(x)?(I&&(I.architecture=64,I.family=I.family.replace(RegExp(" *"+a),"")),O&&(/\bWOW64\b/i.test(s)||E&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(s))&&_.unshift("32-bit")):I&&/^OS X/.test(I.family)&&"Chrome"==O&&39<=parseFloat(C)&&(I.architecture=64),s=s||null;var A={};return A.description=s,A.layout=T&&T[0],A.manufacturer=P,A.name=O,A.prerelease=S,A.product=M,A.ua=s,A.version=O&&C,A.os=I||{architecture:null,family:null,version:null,toString:function(){return"null"}},A.parse=e,A.toString=function(){return this.description||""},A.version&&_.unshift(C),A.name&&_.unshift(O),I&&O&&(I!=String(I).split(" ")[0]||I!=O.split(" ")[0]&&!M)&&_.push(M?"("+I+")":"on "+I),_.length&&(A.description=_.join(" ")),A}();N.platform=u,void 0===(f=function(){return u}.call(d,p,d,c))||(c.exports=f)}).call(this)}).call(this,p(147)(e),p(76))},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(63);function o(e,t){return["".concat((new Date).toISOString()," Notifications ").concat(e,":")].concat(Array.from(t))}var s=(i(u,[{key:"setLevel",value:function(e){a.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o("T"+this.prefix,t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o("D"+this.prefix,t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,o("I"+this.prefix,t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,o("W"+this.prefix,t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,o("E"+this.prefix,t))}}],[{key:"scope",value:function(){return new u}}]),u);function u(){r(this,u),this.prefix=""}var c=(t.Logger=s).scope();t.log=c},function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var o=(i(s,[{key:"add",value:function(n,r){var i=this,e=new Promise(function(e,t){return i.queuedRequests.push({input:n,requestFunction:r,resolve:e,reject:t})});return this.wakeupQueue(),e}},{key:"squashAndAdd",value:function(e,t){var n,r=this.queuedRequests;this.queuedRequests=[],n=0<r.length?(n=r.map(function(e){return e.input}).reduce(this.inputMergingFunction),this.inputMergingFunction(n,e)):e;var i=this.add(n,t);return r.forEach(function(e){return i.then(e.resolve,e.reject)}),i}},{key:"isEmpty",value:function(){return 0===this.queuedRequests.length&&!this.isRequestInFlight}},{key:"wakeupQueue",value:function(){var t=this;if(0!==this.queuedRequests.length&&!this.isRequestInFlight){var e=this.queuedRequests.shift();this.isRequestInFlight=!0,e.requestFunction(e.input).then(e.resolve,e.reject).then(function(e){t.isRequestInFlight=!1,t.wakeupQueue()})}}}]),s);function s(e){r(this,s),this.queuedRequests=[],this.isRequestInFlight=!1,this.inputMergingFunction=e}t.MergingQueue=o;var u=(i(c,[{key:"add",value:function(t,n,r){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,function(e){return e.add(n,r)}));case 1:case"end":return e.stop()}},null,this)}},{key:"squashAndAdd",value:function(t,n,r){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,function(e){return e.squashAndAdd(n,r)}));case 1:case"end":return e.stop()}},null,this)}},{key:"invokeQueueMethod",value:function(t,n){var r,i;return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.queueByNamespaceKey.has(t)||this.queueByNamespaceKey.set(t,new o(this.inputReducer)),r=this.queueByNamespaceKey.get(t),i=n(r),this.queueByNamespaceKey.get(t).isEmpty()&&this.queueByNamespaceKey.delete(t),e.abrupt("return",i);case 5:case"end":return e.stop()}},null,this)}}]),c);function c(e){r(this,c),this.queueByNamespaceKey=new Map,this.inputReducer=e}t.NamespacedMergingQueue=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e},i=n(0),o=c(i),s=c(n(67));function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform}function f(){return h?"_"+Math.random().toString(36).substr(2,12):void 0}var d={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},p=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,i.Component),r(v,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||f()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(l(e,this.sizer),this.placeHolderSizer&&l(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return h&&e?o.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!=e?e:t}),t=a({},this.props.style);t.display||(t.display="inline-block");var n,r=a({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return n=i,p.forEach(function(e){return delete n[e]}),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=r,o.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),o.default.createElement("input",a({},i,{ref:this.inputRef})),o.default.createElement("div",{ref:this.sizerRef,style:d},e),this.props.placeholder?o.default.createElement("div",{ref:this.placeHolderSizerRef,style:d},this.props.placeholder):null)}}]),v);function v(e){!function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.inputRef=function(e){t.input=e,"function"==typeof t.props.inputRef&&t.props.inputRef(e)},t.placeHolderSizerRef=function(e){t.placeHolderSizer=e},t.sizerRef=function(e){t.sizer=e},t.state={inputWidth:e.minWidth,inputId:e.id||f()},t}m.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},m.defaultProps={minWidth:1,injectStyles:!0},t.default=m},function(e,t,n){(function(Gn){Gn.exports=function(){"use strict";var e,i;function g(){return e.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var n in t)b(t,n)&&(e[n]=t[n]);return b(t,"toString")&&(e.toString=t.toString),b(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Et(e,t,n,r,!0).utc()}function w(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=w(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function v(e){var t=h(NaN);return null!=e?p(w(t),e):w(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var a=g.momentProperties=[];function y(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=w(t)),c(t._locale)||(e._locale=t._locale),0<a.length)for(n=0;n<a.length;n++)c(i=t[r=a[n]])||(e[r]=i);return e}var t=!1;function k(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,g.updateOffset(this),t=!1)}function x(e){return e instanceof k||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=_(t)),n}function o(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&o++;return o+a}function E(e){!1===g.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,a){var o=!0;return p(function(){if(null!=g.deprecationHandler&&g.deprecationHandler(null,i),o){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var r in e+="\n["+n+"] ",arguments[0])e+=r+": "+arguments[0][r]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}E(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var r,C={};function T(e,t){null!=g.deprecationHandler&&g.deprecationHandler(e,t),C[e]||(E(t),C[e]=!0)}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,r=p({},e);for(n in t)b(t,n)&&(u(e[n])&&u(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)b(e,n)&&!b(t,n)&&u(e[n])&&(r[n]=p({},r[n]));return r}function P(e){null!=e&&this.set(e)}g.suppressDeprecationWarnings=!1,g.deprecationHandler=null,r=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)b(e,t)&&n.push(t);return n};var I={};function D(e,t){var n=e.toLowerCase();I[n]=I[n+"s"]=I[t]=e}function A(e){return"string"==typeof e?I[e]||I[e.toLowerCase()]:void 0}function N(e){var t,n,r={};for(n in e)b(e,n)&&(t=A(n))&&(r[t]=e[n]);return r}var L={};function R(e,t){L[e]=t}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},z={};function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(z[e]=i),t&&(z[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=H(t,e.localeData()),B[t]=B[t]||function(r){var e,i,t,a=r.match(F);for(e=0,i=a.length;e<i;e++)z[a[e]]?a[e]=z[a[e]]:a[e]=(t=a[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=O(a[t])?a[t].call(e,r):a[t];return n}}(t),B[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;0<=n&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,--n;return e}var V=/\d/,Y=/\d\d/,G=/\d{3}/,$=/\d{4}/,J=/[+-]?\d{6}/,Q=/\d\d?/,K=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function ue(e,n,r){se[e]=O(n)?n:function(e,t){return e&&r?r:n}}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var le={};function fe(e,n){var t,r=n;for("string"==typeof e&&(e=[e]),l(n)&&(r=function(e,t){t[n]=S(e)}),t=0;t<e.length;t++)le[e[t]]=r}function de(e,i){fe(e,function(e,t,n,r){n._w=n._w||{},i(e,n._w,n,r)})}var pe=0,he=1,me=2,ve=3,ye=4,ge=5,be=6,we=7,ke=8;function xe(e){return _e(e)?366:365}function _e(e){return e%4==0&&e%100!=0||e%400==0}q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),D("year","y"),R("year",1),ue("Y",re),ue("YY",Q,Y),ue("YYYY",ee,$),ue("YYYYY",te,J),ue("YYYYYY",te,J),fe(["YYYYY","YYYYYY"],pe),fe("YYYY",function(e,t){t[pe]=2===e.length?g.parseTwoDigitYear(e):S(e)}),fe("YY",function(e,t){t[pe]=g.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[pe]=parseInt(e,10)}),g.parseTwoDigitYear=function(e){return S(e)+(68<S(e)?1900:2e3)};var Se,Ee=Ce("FullYear",!0);function Ce(t,n){return function(e){return null!=e?(Oe(this,t,e),g.updateOffset(this,n),this):Te(this,t)}}function Te(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Oe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&_e(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Me(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Me(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1==n?_e(e)?29:28:31-n%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),R("month",8),ue("M",Q),ue("MM",Q,Y),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[he]=S(e)-1}),fe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[he]=i:w(n).invalidMonth=e});var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ae(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Me(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Ae(this,e),g.updateOffset(this,!0),this):Te(this,"Month")}var Le=oe,Re=oe;function je(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=ce(r[t]),i[t]=ce(i[t]);for(t=0;t<24;t++)a[t]=ce(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Fe(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ue(e,t,n){var r=7+t-n;return-(7+Fe(e,0,r).getUTCDay()-t)%7+r-1}function Be(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+Ue(e,r,i);return o=s<=0?xe(a=e-1)+s:s>xe(e)?(a=e+1,s-xe(e)):(a=e,s),{year:a,dayOfYear:o}}function ze(e,t,n){var r,i,a=Ue(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+qe(i=e.year()-1,t,n):o>qe(e.year(),t,n)?(r=o-qe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function qe(e,t,n){var r=Ue(e,t,n),i=Ue(e+1,t,n);return(xe(e)-r+i)/7}function We(e,t){return e.slice(t,7).concat(e.slice(0,t))}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),R("week",5),R("isoWeek",5),ue("w",Q),ue("ww",Q,Y),ue("W",Q),ue("WW",Q,Y),de(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=S(e)}),q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),de(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:w(n).invalidWeekday=e}),de(["d","e","E"],function(e,t,n,r){t[r]=S(e)});var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Ge=oe,$e=oe,Je=oe;function Qe(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);for(o.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=ce(s[t]),u[t]=ce(u[t]),c[t]=ce(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Xe(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ze(e,t){return t._meridiemParse}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Ke),q("k",["kk",2],0,function(){return this.hours()||24}),q("hmm",0,0,function(){return""+Ke.apply(this)+j(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Ke.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Xe("a",!0),Xe("A",!1),D("hour","h"),R("hour",13),ue("a",Ze),ue("A",Ze),ue("H",Q),ue("h",Q),ue("k",Q),ue("HH",Q,Y),ue("hh",Q,Y),ue("kk",Q,Y),ue("hmm",K),ue("hmmss",X),ue("Hmm",K),ue("Hmmss",X),fe(["H","HH"],ve),fe(["k","kk"],function(e,t,n){var r=S(e);t[ve]=24===r?0:r}),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[ve]=S(e),w(n).bigHour=!0}),fe("hmm",function(e,t,n){var r=e.length-2;t[ve]=S(e.substr(0,r)),t[ye]=S(e.substr(r)),w(n).bigHour=!0}),fe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=S(e.substr(0,r)),t[ye]=S(e.substr(r,2)),t[ge]=S(e.substr(i)),w(n).bigHour=!0}),fe("Hmm",function(e,t,n){var r=e.length-2;t[ve]=S(e.substr(0,r)),t[ye]=S(e.substr(r))}),fe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=S(e.substr(0,r)),t[ye]=S(e.substr(r,2)),t[ge]=S(e.substr(i))});var et,tt=Ce("Hours",!0),nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:De,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Ye,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},rt={},it={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){var t=null;if(!rt[e]&&void 0!==Gn&&Gn&&Gn.exports)try{t=et._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),st(t)}catch(e){}return rt[e]}function st(e,t){var n;return e&&((n=c(t)?ct(e):ut(e,t))?et=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function ut(e,t){if(null===t)return delete rt[e],null;var n,r=nt;if(t.abbr=e,null!=rt[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=rt[e]._config;else if(null!=t.parentLocale)if(null!=rt[t.parentLocale])r=rt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return it[t.parentLocale]||(it[t.parentLocale]=[]),it[t.parentLocale].push({name:e,config:t}),null;r=n._config}return rt[e]=new P(M(r,t)),it[e]&&it[e].forEach(function(e){ut(e.name,e.config)}),st(e),rt[e]}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!s(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=at(e[a]).split("-")).length,n=(n=at(e[a+1]))?n.split("-"):null;0<t;){if(r=ot(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&o(i,n,!0)>=t-1)break;t--}a++}return et}(e)}function lt(e){var t,n=e._a;return n&&-2===w(e).overflow&&(t=n[he]<0||11<n[he]?he:n[me]<1||n[me]>Me(n[pe],n[he])?me:n[ve]<0||24<n[ve]||24===n[ve]&&(0!==n[ye]||0!==n[ge]||0!==n[be])?ve:n[ye]<0||59<n[ye]?ye:n[ge]<0||59<n[ge]?ge:n[be]<0||999<n[be]?be:-1,w(e)._overflowDayOfYear&&(t<pe||me<t)&&(t=me),w(e)._overflowWeeks&&-1===t&&(t=we),w(e)._overflowWeekday&&-1===t&&(t=ke),w(e).overflow=t),e}function ft(e,t,n){return null!=e?e:null!=t?t:n}function dt(e){var t,n,r,i,a,o,s,u=[];if(!e._d){for(o=e,s=void 0,s=new Date(g.now()),r=o._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],e._w&&null==e._a[me]&&null==e._a[he]&&function(e){var t,n,r,i,a,o,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=ft(t.GG,e._a[pe],ze(Ct(),1,4).year),r=ft(t.W,1),((i=ft(t.E,1))<1||7<i)&&(u=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var c=ze(Ct(),a,o);n=ft(t.gg,e._a[pe],c.year),r=ft(t.w,c.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||6<t.e)&&(u=!0)):i=a}r<1||r>qe(n,a,o)?w(e)._overflowWeeks=!0:null!=u?w(e)._overflowWeekday=!0:(s=Be(n,r,i,a,o),e._a[pe]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=ft(e._a[pe],r[pe]),(e._dayOfYear>xe(a)||0===e._dayOfYear)&&(w(e)._overflowDayOfYear=!0),n=Fe(a,0,e._dayOfYear),e._a[he]=n.getUTCMonth(),e._a[me]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=r[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ve]&&0===e._a[ye]&&0===e._a[ge]&&0===e._a[be]&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?Fe:function(e,t,n,r,i,a,o){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}).apply(null,u),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(w(e).weekdayMismatch=!0)}}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((\-?\d+)/i;function bt(e){var t,n,r,i,a,o,s=e._i,u=pt.exec(s)||ht.exec(s);if(u){for(w(e).iso=!0,t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[1])){i=vt[t][0],r=!1!==vt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[3])){a=(u[2]||" ")+yt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!mt.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),_t(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var kt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xt(e){var t,n,r,i,a,o,s,u,c,l,f,d=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(d){var p=(i=d[4],a=d[3],o=d[2],s=d[5],u=d[6],c=d[7],f=[(l=parseInt(i,10))<=49?2e3+l:l<=999?1900+l:l,De.indexOf(a),parseInt(o,10),parseInt(s,10),parseInt(u,10)],c&&f.push(parseInt(c,10)),f);if(t=d[1],n=p,r=e,t&&Ve.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(w(r).weekdayMismatch=!0,r._isValid=!1,1))return;e._a=p,e._tzm=function(e,t,n){if(e)return kt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(d[8],d[9],d[10]),e._d=Fe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0}else e._isValid=!1}function _t(e){if(e._f!==g.ISO_8601)if(e._f!==g.RFC_2822){e._a=[],w(e).empty=!0;var t,n,r,i,a,o=""+e._i,s=o.length,u=0;for(r=H(e._f,e._locale).match(F)||[],t=0;t<r.length;t++)i=r[t],(n=(o.match((y=e,b(se,v=i)?se[v](y._strict,y._locale):new RegExp(ce(v.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))))||[])[0])&&(0<(a=o.substr(0,o.indexOf(n))).length&&w(e).unusedInput.push(a),o=o.slice(o.indexOf(n)+n.length),u+=n.length),z[i]?(n?w(e).empty=!1:w(e).unusedTokens.push(i),p=i,m=e,null!=(h=n)&&b(le,p)&&le[p](h,m._a,m,p)):e._strict&&!n&&w(e).unusedTokens.push(i);w(e).charsLeftOver=s-u,0<o.length&&w(e).unusedInput.push(o),e._a[ve]<=12&&!0===w(e).bigHour&&0<e._a[ve]&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[ve]=(c=e._locale,l=e._a[ve],null==(f=e._meridiem)?l:null!=c.meridiemHour?c.meridiemHour(l,f):(null!=c.isPM&&((d=c.isPM(f))&&l<12&&(l+=12),d||12!==l||(l=0)),l)),dt(e),lt(e)}else xt(e);else bt(e);var c,l,f,d,p,h,m,v,y}function St(e){var t,n,r,i,a=e._i,o=e._f;return e._locale=e._locale||ct(e._l),null===a||void 0===o&&""===a?v({nullInput:!0}):("string"==typeof a&&(e._i=a=e._locale.preparse(a)),x(a)?new k(lt(a)):(f(a)?e._d=a:s(o)?function(e){var t,n,r,i,a;if(0===e._f.length)return w(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)a=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],_t(t),m(t)&&(a+=w(t).charsLeftOver,a+=10*w(t).unusedTokens.length,w(t).score=a,(null==r||a<r)&&(r=a,n=t));p(e,n||t)}(e):o?_t(e):c(i=(t=e)._i)?t._d=new Date(g.now()):f(i)?t._d=new Date(i.valueOf()):"string"==typeof i?(n=t,null===(r=gt.exec(n._i))?(bt(n),!1===n._isValid&&(delete n._isValid,xt(n),!1===n._isValid&&(delete n._isValid,g.createFromInputFallback(n)))):n._d=new Date(+r[1])):s(i)?(t._a=d(i.slice(0),function(e){return parseInt(e,10)}),dt(t)):u(i)?function(e){if(!e._d){var t=N(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),dt(e)}}(t):l(i)?t._d=new Date(i):g.createFromInputFallback(t),m(e)||(e._d=null),e))}function Et(e,t,n,r,i){var a,o={};return!0!==n&&!1!==n||(r=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,(a=new k(lt(St(o))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Ct(e,t,n,r){return Et(e,t,n,r,!1)}g.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),g.ISO_8601=function(){},g.RFC_2822=function(){};var Tt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Ot=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:v()});function Mt(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Ct();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var t=N(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(Pt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Pt.length;++r)if(e[Pt[r]]){if(n)return!1;parseFloat(e[Pt[r]])!==S(e[Pt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=ct(),this._bubble()}function Dt(e){return e instanceof It}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,n){q(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(e/60),2)+n+j(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),ue("Z",ae),ue("ZZ",ae),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(ae,e)});var Lt=/([\+\-]|\d\d)/gi;function Rt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Lt)||["-",0,0],i=60*r[1]+S(r[2]);return 0===i?0:"+"===r[0]?i:-i}function jt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(x(e)||f(e)?e.valueOf():Ct(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),g.updateOffset(n,!1),n):Ct(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(){return!!this.isValid()&&this._isUTC&&0===this._offset}g.updateOffset=function(){};var Bt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qt(e,t){var n,r,i,a,o,s,u=e,c=null;return Dt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(u={},t?u[t]=e:u.milliseconds=e):(c=Bt.exec(e))?(n="-"===c[1]?-1:1,u={y:0,d:S(c[me])*n,h:S(c[ve])*n,m:S(c[ye])*n,s:S(c[ge])*n,ms:S(At(1e3*c[be]))*n}):(c=zt.exec(e))?(n="-"===c[1]?-1:1,u={y:Wt(c[2],n),M:Wt(c[3],n),w:Wt(c[4],n),d:Wt(c[5],n),h:Wt(c[6],n),m:Wt(c[7],n),s:Wt(c[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(a=Ct(u.from),o=Ct(u.to),i=a.isValid()&&o.isValid()?(o=jt(o,a),a.isBefore(o)?s=Ht(a,o):((s=Ht(o,a)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new It(u),Dt(e)&&b(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=t-e.clone().add(n.months,"M"),n}function Vt(r,i){return function(e,t){var n;return null===t||isNaN(+t)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Yt(this,qt(e="string"==typeof e?+e:e,t),r),this}}function Yt(e,t,n,r){var i=t._milliseconds,a=At(t._days),o=At(t._months);e.isValid()&&(r=null==r||r,o&&Ae(e,Te(e,"Month")+o*n),a&&Oe(e,"Date",Te(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&g.updateOffset(e,a||o))}qt.fn=It.prototype,qt.invalid=function(){return qt(NaN)};var Gt=Vt(1,"add"),$t=Vt(-1,"subtract");function Jt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(1+n,"months")-r)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Xt(){return this._locale}var Zt=126227808e5;function en(e,t){return(e%t+t)%t}function tn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-Zt:new Date(e,t,n).valueOf()}function nn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-Zt:Date.UTC(e,t,n)}function rn(e,t){q(0,[e,e.length],0,t)}function an(e,t,n,r,i){var a;return null==e?ze(this,r,i).year:(t>(a=qe(e,r,i))&&(t=a),function(e,t,n,r,i){var a=Be(e,t,n,r,i),o=Fe(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,i))}q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),ue("G",re),ue("g",re),ue("GG",Q,Y),ue("gg",Q,Y),ue("GGGG",ee,$),ue("gggg",ee,$),ue("GGGGG",te,J),ue("ggggg",te,J),de(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=S(e)}),de(["gg","GG"],function(e,t,n,r){t[r]=g.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),D("quarter","Q"),R("quarter",7),ue("Q",V),fe("Q",function(e,t){t[he]=3*(S(e)-1)}),q("D",["DD",2],"Do","date"),D("date","D"),R("date",9),ue("D",Q),ue("DD",Q,Y),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],me),fe("Do",function(e,t){t[me]=S(e.match(Q)[0])});var on=Ce("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),R("dayOfYear",4),ue("DDD",Z),ue("DDDD",G),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=S(e)}),q("m",["mm",2],0,"minute"),D("minute","m"),R("minute",14),ue("m",Q),ue("mm",Q,Y),fe(["m","mm"],ye);var sn=Ce("Minutes",!1);q("s",["ss",2],0,"second"),D("second","s"),R("second",15),ue("s",Q),ue("ss",Q,Y),fe(["s","ss"],ge);var un,cn=Ce("Seconds",!1);for(q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),R("millisecond",16),ue("S",Z,V),ue("SS",Z,Y),ue("SSS",Z,G),un="SSSS";un.length<=9;un+="S")ue(un,ne);function ln(e,t){t[be]=S(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")fe(un,ln);var fn=Ce("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var dn=k.prototype;function pn(e){return e}dn.add=Gt,dn.calendar=function(e,t){var n=e||Ct(),r=jt(n,this).startOf("day"),i=g.calendarFormat(this,r)||"sameElse",a=t&&(O(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Ct(n)))},dn.clone=function(){return new k(this)},dn.diff=function(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=jt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=A(t)){case"year":a=Jt(this,r)/12;break;case"month":a=Jt(this,r);break;case"quarter":a=Jt(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:_(a)},dn.endOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?nn:tn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-en(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-en(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-en(t,1e3)-1}return this._d.setTime(t),g.updateOffset(this,!0),this},dn.format=function(e){e=e||(this.isUtc()?g.defaultFormatUtc:g.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},dn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Ct(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.fromNow=function(e){return this.from(Ct(),e)},dn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Ct(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.toNow=function(e){return this.to(Ct(),e)},dn.get=function(e){return O(this[e=A(e)])?this[e]():this},dn.invalidAt=function(){return w(this).overflow},dn.isAfter=function(e,t){var n=x(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},dn.isBefore=function(e,t){var n=x(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},dn.isBetween=function(e,t,n,r){var i=x(e)?e:Ct(e),a=x(t)?t:Ct(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},dn.isSame=function(e,t){var n,r=x(e)?e:Ct(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},dn.isValid=function(){return m(this)},dn.lang=Kt,dn.locale=Qt,dn.localeData=Xt,dn.max=Ot,dn.min=Tt,dn.parsingFlags=function(){return p({},w(this))},dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=N(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(O(this[e=A(e)]))return this[e](t);return this},dn.startOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?nn:tn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=en(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=en(t,6e4);break;case"second":t=this._d.valueOf(),t-=en(t,1e3)}return this._d.setTime(t),g.updateOffset(this,!0),this},dn.subtract=$t,dn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},dn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=Ee,dn.isLeapYear=function(){return _e(this.year())},dn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},dn.month=Ne,dn.daysInMonth=function(){return Me(this.year(),this.month())},dn.week=dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},dn.isoWeek=dn.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},dn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},dn.isoWeeksInYear=function(){return qe(this.year(),1,4)},dn.date=on,dn.day=dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,r=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?r:r-7)},dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},dn.hour=dn.hours=tt,dn.minute=dn.minutes=sn,dn.second=dn.seconds=cn,dn.millisecond=dn.milliseconds=fn,dn.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Ft(this);if("string"==typeof e){if(null===(e=Rt(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Yt(this,qt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this},dn.utc=function(e){return this.utcOffset(0,e)},dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=Ut,dn.isUTC=Ut,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=n("dates accessor is deprecated. Use date instead.",on),dn.months=n("months accessor is deprecated. Use month instead",Ne),dn.years=n("years accessor is deprecated. Use year instead",Ee),dn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),dn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=St(e))._a){var t=e._isUTC?h(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&0<o(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var hn=P.prototype;function mn(e,t,n,r){var i=ct(),a=h().set(r,t);return i[n](a,e)}function vn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mn(e,r,n,"month");return i}function yn(e,t,n,r){t=("boolean"==typeof e||(n=t=e,e=!1),l(t)&&(n=t,t=void 0),t||"");var i,a=ct(),o=e?a._week.dow:0;if(null!=n)return mn(t,(n+o)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=mn(t,(i+o)%7,r,"day");return s}hn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return O(r)?r.call(t,n):r},hn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(e){return this._ordinal.replace("%d",e)},hn.preparse=pn,hn.postformat=pn,hn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return O(i)?i(e,t,n,r):i.replace(/%d/i,e)},hn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)},hn.set=function(e){var t,n;for(n in e)O(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},hn.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(e,t,n){var r,i,a;if(this._monthsParseExact)return function(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,o))?i:null:-1!==(i=Se.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,o))?i:-1!==(i=Se.call(this._longMonthsParse,o))?i:null:-1!==(i=Se.call(this._longMonthsParse,o))?i:-1!==(i=Se.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},hn.monthsRegex=function(e){return this._monthsParseExact?(b(this,"_monthsRegex")||je.call(this),e?this._monthsStrictRegex:this._monthsRegex):(b(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(e){return this._monthsParseExact?(b(this,"_monthsRegex")||je.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(b(this,"_monthsShortRegex")||(this._monthsShortRegex=Le),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(e){return ze(e,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?We(n,this._week.dow):e?n[e.day()]:n},hn.weekdaysMin=function(e){return!0===e?We(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},hn.weekdaysShort=function(e){return!0===e?We(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},hn.weekdaysParse=function(e,t,n){var r,i,a;if(this._weekdaysParseExact)return function(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,o))?i:-1!==(i=Se.call(this._shortWeekdaysParse,o))?i:-1!==(i=Se.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,o))?i:-1!==(i=Se.call(this._weekdaysParse,o))?i:-1!==(i=Se.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,o))?i:-1!==(i=Se.call(this._weekdaysParse,o))?i:-1!==(i=Se.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},hn.weekdaysRegex=function(e){return this._weekdaysParseExact?(b(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(b(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(b(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(b(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(b(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(b(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},hn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},st("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),g.lang=n("moment.lang is deprecated. Use moment.locale instead.",st),g.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ct);var gn=Math.abs;function bn(e,t,n,r){var i=qt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function xn(e){return 146097*e/4800}function _n(e){return function(){return this.as(e)}}var Sn=_n("ms"),En=_n("s"),Cn=_n("m"),Tn=_n("h"),On=_n("d"),Mn=_n("w"),Pn=_n("M"),In=_n("Q"),Dn=_n("y");function An(e){return function(){return this.isValid()?this._data[e]:NaN}}var Nn=An("milliseconds"),Ln=An("seconds"),Rn=An("minutes"),jn=An("hours"),Fn=An("days"),Un=An("months"),Bn=An("years"),zn=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11};var Wn=Math.abs;function Hn(e){return(0<e)-(e<0)||+e}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Wn(this._milliseconds)/1e3,r=Wn(this._days),i=Wn(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var a=_(i/12),o=i%=12,s=r,u=t,c=e,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",p=Hn(this._months)!==Hn(f)?"-":"",h=Hn(this._days)!==Hn(f)?"-":"",m=Hn(this._milliseconds)!==Hn(f)?"-":"";return d+"P"+(a?p+a+"Y":"")+(o?p+o+"M":"")+(s?h+s+"D":"")+(u||c||l?"T":"")+(u?m+u+"H":"")+(c?m+c+"M":"")+(l?m+l+"S":"")}var Yn=It.prototype;return Yn.isValid=function(){return this._isValid},Yn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},Yn.add=function(e,t){return bn(this,e,t,1)},Yn.subtract=function(e,t){return bn(this,e,t,-1)},Yn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=A(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+kn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(xn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Yn.asMilliseconds=Sn,Yn.asSeconds=En,Yn.asMinutes=Cn,Yn.asHours=Tn,Yn.asDays=On,Yn.asWeeks=Mn,Yn.asMonths=Pn,Yn.asQuarters=In,Yn.asYears=Dn,Yn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Yn._bubble=function(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return 0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*wn(xn(s)+o),s=o=0),u.milliseconds=a%1e3,e=_(a/1e3),u.seconds=e%60,t=_(e/60),u.minutes=t%60,n=_(t/60),u.hours=n%24,o+=_(n/24),s+=i=_(kn(o)),o-=wn(xn(i)),r=_(s/12),s%=12,u.days=o,u.months=s,u.years=r,this},Yn.clone=function(){return qt(this)},Yn.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},Yn.milliseconds=Nn,Yn.seconds=Ln,Yn.minutes=Rn,Yn.hours=jn,Yn.days=Fn,Yn.weeks=function(){return _(this.days()/7)},Yn.months=Un,Yn.years=Bn,Yn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,r,i,a,o,s,u,c,l,f,d=this.localeData(),p=(n=!e,r=d,i=qt(t=this).abs(),a=zn(i.as("s")),o=zn(i.as("m")),s=zn(i.as("h")),u=zn(i.as("d")),c=zn(i.as("M")),l=zn(i.as("y")),(f=a<=qn.ss&&["s",a]||a<qn.s&&["ss",a]||o<=1&&["m"]||o<qn.m&&["mm",o]||s<=1&&["h"]||s<qn.h&&["hh",s]||u<=1&&["d"]||u<qn.d&&["dd",u]||c<=1&&["M"]||c<qn.M&&["MM",c]||l<=1&&["y"]||["yy",l])[2]=n,f[3]=0<+t,f[4]=r,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,f));return e&&(p=d.pastFuture(+this,p)),d.postformat(p)},Yn.toISOString=Vn,Yn.toString=Vn,Yn.toJSON=Vn,Yn.locale=Qt,Yn.localeData=Xt,Yn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Yn.lang=Kt,q("X",0,0,"unix"),q("x",0,0,"valueOf"),ue("x",re),ue("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(S(e))}),g.version="2.24.0",e=Ct,g.fn=dn,g.min=function(){return Mt("isBefore",[].slice.call(arguments,0))},g.max=function(){return Mt("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=h,g.unix=function(e){return Ct(1e3*e)},g.months=function(e,t){return vn(e,t,"months")},g.isDate=f,g.locale=st,g.invalid=v,g.duration=qt,g.isMoment=x,g.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},g.parseZone=function(){return Ct.apply(null,arguments).parseZone()},g.localeData=ct,g.isDuration=Dt,g.monthsShort=function(e,t){return vn(e,t,"monthsShort")},g.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},g.defineLocale=ut,g.updateLocale=function(e,t){if(null!=t){var n,r,i=nt;null!=(r=ot(e))&&(i=r._config),(n=new P(t=M(i,t))).parentLocale=rt[e],rt[e]=n,st(e)}else null!=rt[e]&&(null!=rt[e].parentLocale?rt[e]=rt[e].parentLocale:null!=rt[e]&&delete rt[e]);return rt[e]},g.locales=function(){return r(rt)},g.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},g.normalizeUnits=A,g.relativeTimeRounding=function(e){return void 0===e?zn:"function"==typeof e&&(zn=e,!0)},g.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},g.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},g.prototype=dn,g.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},g}()}).call(this,n(147)(e))},function(e,t,n){"use strict";function R(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?u(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}var d,h=n(0),F=n.n(h),m=n(164),v=(n.n(m),(d=g.prototype).insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=(r=this,(i=document.createElement("style")).setAttribute("data-emotion",r.key),void 0!==r.nonce&&i.setAttribute("nonce",r.nonce),i.appendChild(document.createTextNode("")),i);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r,i,a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(a);try{var s=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,s?0:o.cssRules.length)}catch(e){}}else a.appendChild(document.createTextNode(e));this.ctr++},d.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},g);function g(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}function b(e){function O(e,t,n){var r=t.trim().split(f),i=(t=r).length,a=e.length;switch(a){case 0:case 1:var o=0;for(e=0===a?"":e[0]+" ";o<i;++o)t[o]=c(e,t[o],n).trim();break;default:var s=o=0;for(t=[];o<i;++o)for(var u=0;u<a;++u)t[s++]=c(e[u]+" ",r[o],n).trim()}return t}function c(e,t,n){var r=t.charCodeAt(0);switch(r<33&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(i,"$1"+e.trim());case 58:return e.trim()+t.replace(i,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(i,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function M(e,t,n,r){var i=e+";",a=2*t+3*n+4*r;if(944===a){e=i.indexOf(":",9)+1;var o=i.substring(e,i.length-1).trim();return o=i.substring(0,e).trim()+o+";",1===q||2===q&&P(o,1)?"-webkit-"+o+o:o}if(0===q||2===q&&!P(i,1))return i;switch(a){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(v,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(o=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+o+i;case 1005:return u.test(i)?i.replace(s,":-webkit-")+i.replace(s,":-moz-")+i:i;case 1e3:switch(t=(o=i.substring(13).trim()).indexOf("-")+1,o.charCodeAt(0)+o.charCodeAt(t)){case 226:o=i.replace(d,"tb");break;case 232:o=i.replace(d,"tb-rl");break;case 220:o=i.replace(d,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+o+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,a=(o=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|o.charCodeAt(7))){case 203:if(o.charCodeAt(8)<111)break;case 115:i=i.replace(o,"-webkit-"+o)+";"+i;break;case 207:case 102:i=i.replace(o,"-webkit-"+(102<a?"inline-":"")+"box")+";"+i.replace(o,"-webkit-"+o)+";"+i.replace(o,"-ms-"+o+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return o=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+o+"-ms-flex-"+o+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(h,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(h,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===m.test(e))return 115===(o=e.substring(e.indexOf(":")+1)).charCodeAt(0)?M(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):i.replace(o,"-webkit-"+o)+i.replace(o,"-moz-"+o.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===n+r&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(l,"$1-webkit-$2")+i}return i}function P(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),o(2!==t?r:r.replace(a,"$1"),n,t)}function I(e,t){var n=M(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(r," or ($1)").substring(4):"("+t+")"}function D(e,t,n,r,i,a,o,s,u,c){for(var l,f=0,d=t;f<H;++f)switch(l=y[f].call(p,e,d,n,r,i,a,o,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=l}if(d!==t)return d}function t(e){return void 0!==(e=e.prefix)&&(o=null,e?"function"!=typeof e?q=1:(q=2,o=e):q=0),t}function p(e,t){var n=e;if(n.charCodeAt(0)<33&&(n=n.trim()),n=[n],0<H){var r=D(-1,t,n,n,B,U,0,0,0,0);void 0!==r&&"string"==typeof r&&(t=r)}var i=function e(t,n,r,i,a){for(var o,s,u,c,l,f=0,d=0,p=0,h=0,m=0,v=0,y=u=o=0,g=0,b=0,w=0,k=0,x=r.length,_=x-1,S="",E="",C="",T="";g<x;){if(s=r.charCodeAt(g),g===_&&0!==d+h+p+f&&(0!==d&&(s=47===d?10:47),h=p=f=0,x++,_++),0===d+h+p+f){if(g===_&&(0<b&&(S=S.replace(N,"")),0<S.trim().length)){switch(s){case 32:case 9:case 59:case 13:case 10:break;default:S+=r.charAt(g)}s=59}switch(s){case 123:for(o=(S=S.trim()).charCodeAt(0),u=1,k=++g;g<x;){switch(s=r.charCodeAt(g)){case 123:u++;break;case 125:u--;break;case 47:switch(s=r.charCodeAt(g+1)){case 42:case 47:e:{for(y=g+1;y<_;++y)switch(r.charCodeAt(y)){case 47:if(42!==s||42!==r.charCodeAt(y-1)||g+2===y)break;g=y+1;break e;case 10:if(47===s){g=y+1;break e}}g=y}}break;case 91:s++;case 40:s++;case 34:case 39:for(;g++<_&&r.charCodeAt(g)!==s;);}if(0===u)break;g++}switch(u=r.substring(k,g),0===o&&(o=(S=S.replace(A,"").trim()).charCodeAt(0)),o){case 64:switch(0<b&&(S=S.replace(N,"")),s=S.charCodeAt(1)){case 100:case 109:case 115:case 45:b=n;break;default:b=W}if(k=(u=e(n,b,u,s,a+1)).length,0<H&&(l=D(3,u,b=O(W,S,w),n,B,U,k,s,a,i),S=b.join(""),void 0!==l&&0===(k=(u=l.trim()).length)&&(s=0,u="")),0<k)switch(s){case 115:S=S.replace(F,I);case 100:case 109:case 45:u=S+"{"+u+"}";break;case 107:u=(S=S.replace(L,"$1 $2"))+"{"+u+"}",u=1===q||2===q&&P("@"+u,3)?"@-webkit-"+u+"@"+u:"@"+u;break;default:u=S+u,112===i&&(E+=u,u="")}else u="";break;default:u=e(n,O(n,S,w),u,i,a+1)}C+=u,u=w=b=y=o=0,S="",s=r.charCodeAt(++g);break;case 125:case 59:if(1<(k=(S=(0<b?S.replace(N,""):S).trim()).length))switch(0===y&&(o=S.charCodeAt(0),45===o||96<o&&o<123)&&(k=(S=S.replace(" ",":")).length),0<H&&void 0!==(l=D(1,S,n,t,B,U,E.length,i,a,i))&&0===(k=(S=l.trim()).length)&&(S="\0\0"),o=S.charCodeAt(0),s=S.charCodeAt(1),o){case 0:break;case 64:if(105===s||99===s){T+=S+r.charAt(g);break}default:58!==S.charCodeAt(k-1)&&(E+=M(S,o,s,S.charCodeAt(2)))}w=b=y=o=0,S="",s=r.charCodeAt(++g)}}switch(s){case 13:case 10:47===d?d=0:0===1+o&&107!==i&&0<S.length&&(b=1,S+="\0"),0<H*V&&D(0,S,n,t,B,U,E.length,i,a,i),U=1,B++;break;case 59:case 125:if(0===d+h+p+f){U++;break}default:switch(U++,c=r.charAt(g),s){case 9:case 32:if(0===h+f+d)switch(m){case 44:case 58:case 9:case 32:c="";break;default:32!==s&&(c=" ")}break;case 0:c="\\0";break;case 12:c="\\f";break;case 11:c="\\v";break;case 38:0===h+d+f&&(b=w=1,c="\f"+c);break;case 108:if(0===h+d+f+z&&0<y)switch(g-y){case 2:112===m&&58===r.charCodeAt(g-3)&&(z=m);case 8:111===v&&(z=v)}break;case 58:0===h+d+f&&(y=g);break;case 44:0===d+p+h+f&&(b=1,c+="\r");break;case 34:case 39:0===d&&(h=h===s?0:0===h?s:h);break;case 91:0===h+d+p&&f++;break;case 93:0===h+d+p&&f--;break;case 41:0===h+d+f&&p--;break;case 40:if(0===h+d+f){if(0===o)switch(2*m+3*v){case 533:break;default:o=1}p++}break;case 64:0===d+p+h+f+y+u&&(u=1);break;case 42:case 47:if(!(0<h+f+p))switch(d){case 0:switch(2*s+3*r.charCodeAt(g+1)){case 235:d=47;break;case 220:k=g,d=42}break;case 42:47===s&&42===m&&k+2!==g&&(33===r.charCodeAt(k+2)&&(E+=r.substring(k,g+1)),c="",d=0)}}0===d&&(S+=c)}v=m,m=s,g++}if(0<(k=E.length)){if(b=n,0<H&&void 0!==(l=D(2,E,b,t,B,U,k,i,a,i))&&0===(E=l).length)return T+E+C;if(E=b.join(",")+"{"+E+"}",0!=q*z){switch(2!==q||P(E,2)||(z=0),z){case 111:E=E.replace(j,":-moz-$1")+E;break;case 112:E=E.replace(R,"::-webkit-input-$1")+E.replace(R,"::-moz-$1")+E.replace(R,":-ms-input-$1")+E}z=0}}return T+E+C}(W,n,t,0,0);return 0<H&&void 0!==(r=D(-2,i,n,n,B,U,i.length,0,0,0))&&(i=r),z=0,U=B=1,i}var A=/^\0+/g,N=/[\0\r\f]/g,s=/: */g,u=/zoo|gra/,l=/([,: ])(transform)/g,f=/,\r+?/g,i=/([\t\r\n ])*\f?&/g,L=/@(k\w+)\s*(\S*)\s*/,R=/::(place)/g,j=/:(read-only)/g,d=/[svh]\w+-[tblr]{2}/,F=/\(\s*(.*)\s*\)/g,r=/([\s\S]*?);/g,h=/-self|flex-/g,a=/[^]*?(:[rp][el]a[\w-]+)[^]*/,m=/stretch|:\s*\w+\-(?:conte|avail)/,v=/([^-])(image-set\()/,U=1,B=1,z=0,q=1,W=[],y=[],H=0,o=null,V=0;return p.use=function e(t){switch(t){case void 0:case null:H=y.length=0;break;default:if("function"==typeof t)y[H++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else V=0|!!t}return e},p.set=t,void 0!==e&&t(e),p}function w(e){e&&x.current.insert(e+"}")}function k(e,t,n,r,i,a,o,s,u,c){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return x.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return x.current.insert(n[0]+t),"";default:return t+(0===c?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(w)}}var x={current:null};function _(t,n,e){var r="";return e.split(" ").forEach(function(e){void 0!==t[e]?n.push(t[e]):r+=e+" "}),r}function S(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name])for(var i=t;e.insert("."+r,i,e.sheet,!0),void 0!==(i=i.next););}function E(e){return 45===e.charCodeAt(1)}var C,T={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},O=/[A-Z]|^ms/g,M=/_EMO_([^_]+?)_([^]*?)_EMO_/g,P=function(e){return null!=e&&"boolean"!=typeof e},I=(C={},function(e){return void 0===C[e]&&(C[e]=E(t=e)?t:t.replace(O,"-$&").toLowerCase()),C[e];var t}),D=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(M,function(e,t,n){return z={name:t,styles:n,next:z},t})}return 1===T[e]||E(e)||"number"!=typeof t||0===t?t:t+"px"};function A(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return z={name:n.name,styles:n.styles,next:z},n.name;if(void 0===n.styles)return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=A(e,t,n[i],!1);else for(var a in n){var o=n[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":P(o)&&(r+=I(a)+":"+D(a,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=A(e,t,o,!1);switch(a){case"animation":case"animationName":r+=I(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)P(o[u])&&(r+=I(a)+":"+D(a,o[u])+";")}return r}(e,t,n);var i=n.next;if(void 0!==i)for(;void 0!==i;)z={name:i.name,styles:i.styles,next:z},i=i.next;return n.styles+";";case"function":if(void 0===e)break;var a=z,o=n(e);return z=a,A(e,t,o,r)}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}function N(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";z=void 0;var a=e[0];null==a||void 0===a.raw?i+=A(n,t,a,r=!1):i+=a[0];for(var o=1;o<e.length;o++)i+=A(n,t,e[o],46===i.charCodeAt(i.length-1)),r&&(i+=a[o]);q.lastIndex=0;for(var s,u="";null!==(s=q.exec(i));)u+="-"+s[1];return{name:function(e){for(var t,n=e.length,r=n^n,i=0;4<=n;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)}(i)+u,styles:i,next:z}}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N(t)}function U(e,t,n,r){var i=null===n?t.css:t.css(n);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[Y],o=[i],s="";"string"==typeof t.className?s=_(e.registered,o,t.className):null!=t.className&&(s=t.className+" ");var u=N(o);S(e,u,"string"==typeof a),s+=e.key+"-"+u.name;var c={};for(var l in t)G.call(t,l)&&"css"!==l&&l!==Y&&(c[l]=t[l]);return c.ref=r,c.className=s,Object(h.createElement)(a,c)}function B(e,t){var n=arguments;if(null==t||!G.call(t,"css"))return h.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=$;var a={};for(var o in t)G.call(t,o)&&(a[o]=t[o]);a[Y]=e,i[1]=a;for(var s=2;s<r;s++)i[s]=n[s];return h.createElement.apply(null,i)}var z,q=/label:\s*([^\s;\n{]+)\s*;/g,W=Object(h.createContext)("undefined"!=typeof HTMLElement?function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r,a=new b(t),i={};r=e.container||document.head;var o,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach(function(e){i[e]=!0}),e.parentNode!==r&&r.appendChild(e)}),a.use(e.stylisPlugins)(k),o=function(e,t,n,r){var i=t.name;x.current=n,a(e,t.styles),r&&(u.inserted[i]=!0)};var u={key:n,sheet:new v({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:o};return u}():null),H=Object(h.createContext)({}),V=(W.Provider,function(r){return Object(h.forwardRef)(function(t,n){return Object(h.createElement)(W.Consumer,null,function(e){return r(t,e,n)})})}),Y="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",G=Object.prototype.hasOwnProperty,$=V(function(t,n,r){return"function"==typeof t.css?Object(h.createElement)(H.Consumer,null,function(e){return U(n,t,e,r)}):U(n,t,null,r)}),J=(h.Component,function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i});var Q=V(function(n,c){return Object(h.createElement)(H.Consumer,null,function(e){function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t,c.registered);return S(c,r,!1),c.key+"-"+r.name}var t={css:u,cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=c.registered,i=u,a=J(t),s=_(r,o=[],a),o.length<2?a:s+i(o);var r,i,a,o,s},theme:e};return n.children(t)})}),K=n(48),X=n(67),Z=n.n(X),ee=function(){};function te(e){return Array.isArray(e)?e.filter(Boolean):"object"===p(e)&&null!==e?[e]:[]}function ne(e){return-1<[document.documentElement,document.body,window].indexOf(e)}function re(e){return ne(e)?window.pageYOffset:e.scrollTop}function ie(e,t){ne(e)?window.scrollTo(0,t):e.scrollTop=t}function ae(r,e,t,n){var i=2<arguments.length&&void 0!==t?t:200,a=3<arguments.length&&void 0!==n?n:ee,o=re(r),s=e-o,u=0;!function e(){var t,n=s*((t=(t=u+=10)/i-1)*t*t+1)+o;ie(r,n),u<i?window.requestAnimationFrame(e):a(r)}()}function oe(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function se(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ue=n(103),ce=n.n(ue);function le(e){return"auto"===e?"bottom":e}var fe=(f(de,h.Component),i(de,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),de);function de(){var e,f;a(this,de);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s(u(u(f=c(this,(e=l(de)).call.apply(e,[this].concat(n))))),"state",{maxHeight:f.props.maxMenuHeight,placement:null}),s(u(u(f)),"getPlacement",function(e){var t=f.props,n=t.minMenuHeight,r=t.maxMenuHeight,i=t.menuPlacement,a=t.menuPosition,o=t.menuShouldScrollIntoView,s=t.theme,u=f.context.getPortalPlacement;if(e){var c="fixed"===a,l=function(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return i}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l=u.getBoundingClientRect().height,f=n.getBoundingClientRect(),d=f.bottom,p=f.height,h=f.top,m=n.offsetParent.getBoundingClientRect().top,v=window.innerHeight,y=re(u),g=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),w=m-b,k=v-h,x=w+y,_=l-y-h,S=d-v+y+g,E=y+h-b;switch(i){case"auto":case"bottom":if(p<=k)return{placement:"bottom",maxHeight:t};if(p<=_&&!o)return a&&ae(u,S,160),{placement:"bottom",maxHeight:t};if(!o&&r<=_||o&&r<=k)return a&&ae(u,S,160),{placement:"bottom",maxHeight:o?k-g:_-g};if("auto"===i||o){var C=t,T=o?w:x;return r<=T&&(C=Math.min(T-g-s.controlHeight,t)),{placement:"top",maxHeight:C}}if("bottom"===i)return ie(u,S),{placement:"bottom",maxHeight:t};break;case"top":if(p<=w)return{placement:"top",maxHeight:t};if(p<=x&&!o)return a&&ae(u,E,160),{placement:"top",maxHeight:t};if(!o&&r<=x||o&&r<=w){var O=t;return(!o&&r<=x||o&&r<=w)&&(O=o?w-b:x-b),a&&ae(u,E,160),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:o&&!c,isFixedPosition:c,theme:s});u&&u(l),f.setState(l)}}),s(u(u(f)),"getUpdatedProps",function(){var e=f.props.menuPlacement,t=f.state.placement||le(e);return y({},f.props,{placement:t,maxHeight:f.state.maxHeight})}),f}s(fe,"contextTypes",{getPortalPlacement:Z.a.func});function pe(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}}function he(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return B("div",j({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)}var me=pe,ve=pe;he.defaultProps={children:"No options"};function ye(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return B("div",j({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)}ye.defaultProps={children:"Loading..."};var ge=(f(be,h.Component),i(be,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,i=e.menuPlacement,a=e.menuPosition,o=e.getStyles,s="fixed"===a;if(!t&&!s||!r)return null;var u,c=this.state.placement||le(i),l={bottom:(u=r.getBoundingClientRect()).bottom,height:u.height,left:u.left,right:u.right,top:u.top,width:u.width},f=s?0:window.pageYOffset,d=B("div",{css:o("menuPortal",{offset:l[c]+f,position:a,rect:l})},n);return t?Object(K.createPortal)(d,t):d}}]),be);function be(){var e,n;a(this,be);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return s(u(u(n=c(this,(e=l(be)).call.apply(e,[this].concat(r))))),"state",{placement:null}),s(u(u(n)),"getPortalPlacement",function(e){var t=e.placement;t!==le(n.props.menuPlacement)&&n.setState({placement:t})}),n}s(ge,"childContextTypes",{getPortalPlacement:Z.a.func});var we=Array.isArray,ke=Object.keys,xe=Object.prototype.hasOwnProperty;function _e(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==p(t)&&"object"==p(n)){var r,i,a,o=we(t),s=we(n);if(o&&s){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(o!=s)return!1;var u=t instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==n.getTime();var l=t instanceof RegExp,f=n instanceof RegExp;if(l!=f)return!1;if(l&&f)return t.toString()==n.toString();var d=ke(t);if((i=d.length)!==ke(n).length)return!1;for(r=i;0!=r--;)if(!xe.call(n,d[r]))return!1;for(r=i;0!=r--;)if(!("_owner"===(a=d[r])&&t.$$typeof||e(t[a],n[a])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var Se=(f(Ee,h.Component),i(Ee,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,i=e.isMulti,a=e.getStyles,o=e.hasValue;return B("div",{css:a("valueContainer",this.props),className:r({"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o},n)},t)}}]),Ee);function Ee(){return a(this,Ee),c(this,l(Ee).apply(this,arguments))}function Ce(){var e,t,n=(e=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Ce=function(){return n},n}function Te(e){var t=e.size,n=R(e,["size"]);return B("svg",j({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Ae},n))}function Oe(e){return B(Te,j({size:20},e),B("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}function Me(e){return B(Te,j({size:20},e),B("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))}function Pe(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}}function Ie(e){var t=e.delay,n=e.offset;return B("span",{css:L({animation:"".concat(Re," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})}function De(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,a=e.isRtl;return B("div",j({},i,{css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)}),B(Ie,{delay:0,offset:a}),B(Ie,{delay:160,offset:!0}),B(Ie,{delay:320,offset:!a}))}var Ae={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},Ne=Pe,Le=Pe,Re=function(){var e=L.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Ce());De.defaultProps={size:4};function je(e){var t=e.children,n=e.innerProps;return B("div",n,t)}var Fe=je,Ue=je,Be=(f(We,h.Component),i(We,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return B("div",n,t||B(Oe,{size:14}))}}]),We),ze=(f(qe,h.Component),i(qe,[{key:"render",value:function(){var r=this,e=this.props,i=e.children,a=e.className,t=e.components,o=e.cx,s=e.data,u=e.getStyles,c=e.innerProps,l=e.isDisabled,f=e.removeProps,d=e.selectProps,p=t.Container,h=t.Label,m=t.Remove;return B(Q,null,function(e){var t=e.css,n=e.cx;return B(p,{data:s,innerProps:y({},c,{className:n(t(u("multiValue",r.props)),o({"multi-value":!0,"multi-value--is-disabled":l},a))}),selectProps:d},B(h,{data:s,innerProps:{className:n(t(u("multiValueLabel",r.props)),o({"multi-value__label":!0},a))},selectProps:d},i),B(m,{data:s,innerProps:y({className:n(t(u("multiValueRemove",r.props)),o({"multi-value__remove":!0},a))},f),selectProps:d}))})}}]),qe);function qe(){return a(this,qe),c(this,l(qe).apply(this,arguments))}function We(){return a(this,We),c(this,l(We).apply(this,arguments))}s(ze,"defaultProps",{cropWithEllipsis:!0});function He(e){for(var t=0;t<Je.length;t++)e=e.replace(Je[t].letters,Je[t].base);return e}function Ve(e){return e.replace(/^\s+|\s+$/g,"")}function Ye(e){return"".concat(e.label," ").concat(e.value)}function Ge(e){return B("span",j({css:Qe},e))}var $e={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return B("div",j({},a,{css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)}),t||B(Oe,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,a=e.isDisabled,o=e.isFocused,s=e.innerRef,u=e.innerProps,c=e.menuIsOpen;return B("div",j({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":o,"control--menu-is-open":c},i)},u),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return B("div",j({},a,{css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)}),t||B(Me,null))},DownChevron:Me,CrossIcon:Oe,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.Heading,o=e.headingProps,s=e.label,u=e.theme,c=e.selectProps;return B("div",{css:i("group",e),className:r({group:!0},n)},B(a,j({},o,{selectProps:c,theme:u,getStyles:i,cx:r}),s),B("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.theme,a=(e.selectProps,R(e,["className","cx","getStyles","theme","selectProps"]));return B("div",j({css:r("groupHeading",y({theme:i},a)),className:n({"group-heading":!0},t)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles;return B("div",{css:i("indicatorsContainer",e),className:r({indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return B("span",j({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerRef,a=e.isHidden,o=e.isDisabled,s=e.theme,u=(e.selectProps,R(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return B("div",{css:r("input",y({theme:s},u))},B(ce.a,j({className:n({input:!0},t),inputRef:i,inputStyle:{label:"input",background:0,border:0,fontSize:"inherit",opacity:a?0:1,outline:0,padding:0,color:"inherit"},disabled:o},u)))},LoadingIndicator:De,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerRef,o=e.innerProps;return B("div",j({css:i("menu",e),className:r({menu:!0},n)},o,{ref:a}),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isMulti,o=e.innerRef;return B("div",{css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":a},n),ref:o},t)},MenuPortal:ge,LoadingMessage:ye,NoOptionsMessage:he,MultiValue:ze,MultiValueContainer:Fe,MultiValueLabel:Ue,MultiValueRemove:Be,Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,o=e.isFocused,s=e.isSelected,u=e.innerRef,c=e.innerProps;return B("div",j({css:i("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":o,"option--is-selected":s},n),ref:u},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return B("div",j({css:i("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,o=e.isDisabled,s=e.isRtl;return B("div",j({css:i("container",e),className:r({"--is-disabled":o,"--is-rtl":s},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,o=e.innerProps;return B("div",j({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},o),t)},ValueContainer:Se},Je=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Qe={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},Ke=(f(nt,h.Component),i(nt,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,R(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return B("input",j({ref:t},n,{css:L({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}}]),nt),Xe=(f(tt,h.Component),i(tt,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(K.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),tt),Ze=["boxSizing","height","overflow","paddingRight","position"],et={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function tt(){return a(this,tt),c(this,l(tt).apply(this,arguments))}function nt(){return a(this,nt),c(this,l(nt).apply(this,arguments))}function rt(e){e.preventDefault()}function it(e){e.stopPropagation()}function at(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ot(){return"ontouchstart"in window||navigator.maxTouchPoints}var st=!(!window.document||!window.document.createElement),ut=0,ct=(f(lt,h.Component),i(lt,[{key:"componentDidMount",value:function(){var n=this;if(st){var e=this.props,t=e.accountForScrollbars,r=e.touchScrollTarget,i=document.body,a=i&&i.style;if(t&&Ze.forEach(function(e){var t=a&&a[e];n.originalStyles[e]=t}),t&&ut<1){var o=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,u=window.innerWidth-s+o||0;Object.keys(et).forEach(function(e){var t=et[e];a&&(a[e]=t)}),a&&(a.paddingRight="".concat(u,"px"))}i&&ot()&&(i.addEventListener("touchmove",rt,this.listenerOptions),r&&(r.addEventListener("touchstart",at,this.listenerOptions),r.addEventListener("touchmove",it,this.listenerOptions))),ut+=1}}},{key:"componentWillUnmount",value:function(){var n=this;if(st){var e=this.props,t=e.accountForScrollbars,r=e.touchScrollTarget,i=document.body,a=i&&i.style;ut=Math.max(ut-1,0),t&&ut<1&&Ze.forEach(function(e){var t=n.originalStyles[e];a&&(a[e]=t)}),i&&ot()&&(i.removeEventListener("touchmove",rt,this.listenerOptions),r&&(r.removeEventListener("touchstart",at,this.listenerOptions),r.removeEventListener("touchmove",it,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),lt);function lt(){var e,t;a(this,lt);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(u(u(t=c(this,(e=l(lt)).call.apply(e,[this].concat(r))))),"originalStyles",{}),s(u(u(t)),"listenerOptions",{capture:!1,passive:!1}),t}s(ct,"defaultProps",{accountForScrollbars:!0});var ft={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},dt=(f(yt,h.PureComponent),i(yt,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?B("div",null,B("div",{onClick:this.blurSelectInput,css:ft}),B(Xe,{innerRef:this.getScrollTarget},t),r?B(ct,{touchScrollTarget:r}):null):t}}]),yt),pt=(f(vt,h.Component),i(vt,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){"function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1)}},{key:"render",value:function(){return F.a.createElement(Xe,{innerRef:this.getScrollTarget},this.props.children)}}]),vt),ht=(f(mt,h.Component),i(mt,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=R(e,["isEnabled"]);return t?F.a.createElement(pt,n):this.props.children}}]),mt);function mt(){return a(this,mt),c(this,l(mt).apply(this,arguments))}function vt(){var e,m;a(this,vt);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s(u(u(m=c(this,(e=l(vt)).call.apply(e,[this].concat(n))))),"isBottom",!1),s(u(u(m)),"isTop",!1),s(u(u(m)),"scrollTarget",void 0),s(u(u(m)),"touchStart",void 0),s(u(u(m)),"cancelScroll",function(e){e.preventDefault(),e.stopPropagation()}),s(u(u(m)),"handleEventDelta",function(e,t){var n=m.props,r=n.onBottomArrive,i=n.onBottomLeave,a=n.onTopArrive,o=n.onTopLeave,s=m.scrollTarget,u=s.scrollTop,c=s.scrollHeight,l=s.clientHeight,f=m.scrollTarget,d=0<t,p=c-l-u,h=!1;t<p&&m.isBottom&&(i&&i(e),m.isBottom=!1),d&&m.isTop&&(o&&o(e),m.isTop=!1),d&&p<t?(r&&!m.isBottom&&r(e),f.scrollTop=c,h=!0,m.isBottom=!0):!d&&u<-t&&(a&&!m.isTop&&a(e),h=!(f.scrollTop=0),m.isTop=!0),h&&m.cancelScroll(e)}),s(u(u(m)),"onWheel",function(e){m.handleEventDelta(e,e.deltaY)}),s(u(u(m)),"onTouchStart",function(e){m.touchStart=e.changedTouches[0].clientY}),s(u(u(m)),"onTouchMove",function(e){var t=m.touchStart-e.changedTouches[0].clientY;m.handleEventDelta(e,t)}),s(u(u(m)),"getScrollTarget",function(e){m.scrollTarget=e}),m}function yt(){var e,t;a(this,yt);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(u(u(t=c(this,(e=l(yt)).call.apply(e,[this].concat(r))))),"state",{touchScrollTarget:null}),s(u(u(t)),"getScrollTarget",function(e){e!==t.state.touchScrollTarget&&t.setState({touchScrollTarget:e})}),s(u(u(t)),"blurSelectInput",function(){document.activeElement&&document.activeElement.blur()}),t}s(ht,"defaultProps",{isEnabled:!0});function gt(e){return!!e.isDisabled}var bt={clearIndicator:Le,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,a=r.borderRadius,o=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Ne,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,a=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:ve,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,a=r.spacing,o=r.colors;return s(t={label:"menu"},n?{bottom:"top",top:"bottom"}[n]:"bottom","100%"),s(t,"backgroundColor",o.neutral0),s(t,"borderRadius",i),s(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),s(t,"marginBottom",a.menuGutter),s(t,"marginTop",a.menuGutter),s(t,"position","absolute"),s(t,"width","100%"),s(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:me,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,a=i.spacing,o=i.colors;return{label:"option",backgroundColor:r?o.primary:n?o.primary25:"transparent",color:t?o.neutral20:r?o.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?o.primary:o.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},wt={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},kt={backspaceRemovesValue:!0,blurInputOnSelect:oe(),captureMenuScroll:!oe(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=y({ignoreCase:!0,ignoreAccents:!0,stringify:Ye,trim:!0,matchFrom:"any"},void 0),r=n.ignoreCase,i=n.ignoreAccents,a=n.stringify,o=n.trim,s=n.matchFrom,u=o?Ve(t):t,c=o?Ve(a(e)):a(e);return r&&(u=u.toLowerCase(),c=c.toLowerCase()),i&&(u=He(u),c=He(c)),"start"===s?c.substr(0,u.length)===u:-1<c.indexOf(u)},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:gt,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return 0}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},xt=1,_t=(f(St,h.Component),i(St,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,i=t.menuIsOpen,a=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.menuIsOpen!==i||e.inputValue!==a){var o=te(e.value),s=e.menuIsOpen?this.buildMenuOptions(e,o):{render:[],focusable:[]},u=this.getNextFocusedValue(o),c=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:o,focusedOption:c,focusedValue:u})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,a,o=this.props,s=o.isDisabled,u=o.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&u&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),a=n.offsetHeight/3,i.bottom+a>r.bottom?ie(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+a,t.scrollHeight)):i.top-a<r.top&&ie(t,Math.max(n.offsetTop-a,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,i=t.isFocused,a=this.props.isMulti,o="first"===e?0:n.focusable.length-1;if(!a){var s=n.focusable.indexOf(r[0]);-1<s&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[o]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,i=this.state,a=i.selectValue,o=i.focusedValue;if(n){this.setState({focusedOption:null});var s=a.indexOf(o);o||(s=-1,this.announceAriaLiveContext({event:"value"}));var u=a.length-1,c=-1;if(a.length){switch(e){case"previous":c=0===s?0:-1===s?u:s-1;break;case"next":-1<s&&s<u&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions.focusable;if(i.length){var a=0,o=i.indexOf(r);r||(o=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?a=0<o?o-1:i.length-1:"down"===e?a=(o+1)%i.length:"pageup"===e?(a=o-t)<0&&(a=0):"pagedown"===e?(a=o+t)>i.length-1&&(a=i.length-1):"last"===e&&(a=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:gt(i[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(wt):y({},wt,this.props.theme):wt}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,a=i.classNamePrefix,o=i.isMulti,s=i.isRtl,u=i.options,c=this.state.selectValue,l=this.hasValue();return{cx:function(e,t,n){var r,i,a=[n];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat((r=e,(i=o)?"-"===i[0]?r+i:r+"__"+i:r)));return a.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}.bind(null,a),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:l,isMulti:o,isRtl:s,options:u,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(-1<r){if(-1<e.indexOf(n))return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&-1<e.indexOf(t)?t:e[0]}},{key:"hasValue",value:function(){return 0<this.state.selectValue.length}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(-1<t.indexOf(e))return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some(function(e){return n.getOptionValue(e)===r})}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,c){function o(e,t){var n=l.isOptionDisabled(e,c),r=l.isOptionSelected(e,c),i=l.getOptionLabel(e),a=l.getOptionValue(e);if(!(l.shouldHideSelectedOptions()&&r||!l.filterOption({label:i,value:a,data:e},f))){var o=n?void 0:function(){return l.onOptionHover(e)},s=n?void 0:function(){return l.selectOption(e)},u="".concat(l.getElementId("option"),"-").concat(t);return{innerProps:{id:u,onClick:s,onMouseMove:o,onMouseOver:o,tabIndex:-1},data:e,isDisabled:n,isSelected:r,key:u,label:i,type:"option",value:a}}}var l=this,t=e.inputValue,f=void 0===t?"":t,n=e.options;return n.reduce(function(r,e,i){if(e.options){l.hasGroups||(l.hasGroups=!0);var t=e.options.map(function(e,t){var n=o(e,"".concat(i,"-").concat(t));return n&&r.focusable.push(e),n}).filter(Boolean);if(t.length){var n="".concat(l.getElementId("group"),"-").concat(i);r.render.push({type:"group",key:n,data:e,options:t})}}else{var a=o(e,"".concat(i));a&&(r.render.push(a),r.focusable.push(e))}return r},{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e,t,n,r,i,a,o,s,u=this.state,c=u.ariaLiveContext,l=u.selectValue,f=u.focusedValue,d=u.focusedOption,p=this.props,h=p.options,m=p.menuIsOpen,v=p.inputValue,y=p.screenReaderStatus,g=f?(a={focusedValue:f,getOptionLabel:this.getOptionLabel,selectValue:l},s=a.selectValue,"value ".concat((0,a.getOptionLabel)(o=a.focusedValue)," focused, ").concat(s.indexOf(o)+1," of ").concat(s.length,".")):"",b=d&&m?(n={focusedOption:d,getOptionLabel:this.getOptionLabel,options:h},i=n.options,"option ".concat((0,n.getOptionLabel)(r=n.focusedOption)," focused").concat(r.isDisabled?" disabled":"",", ").concat(i.indexOf(r)+1," of ").concat(i.length,".")):"",w=(e={inputValue:v,screenReaderMessage:y({count:this.countOptions()})},t=e.inputValue,"".concat(e.screenReaderMessage).concat(t?" for search term "+t:"","."));return"".concat(g," ").concat(b," ").concat(w," ").concat(c)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,a=e.tabIndex,o=this.components.Input,s=this.state.inputIsHidden,u=r||this.getElementId("input");if(!n)return F.a.createElement(Ke,{id:u,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ee,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:a,value:""});var c={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},l=this.commonProps,f=l.cx,d=l.theme,p=l.selectProps;return F.a.createElement(o,j({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:f,getStyles:this.getStyles,id:u,innerRef:this.getInputRef,isDisabled:t,isHidden:s,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:p,spellCheck:"false",tabIndex:a,theme:d,type:"text",value:i},c))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,e=this.components,i=e.MultiValue,a=e.MultiValueContainer,o=e.MultiValueLabel,s=e.MultiValueRemove,t=e.SingleValue,n=e.Placeholder,u=this.commonProps,c=this.props,l=c.controlShouldRenderValue,f=c.isDisabled,d=c.isMulti,p=c.inputValue,h=c.placeholder,m=this.state,v=m.selectValue,y=m.focusedValue,g=m.isFocused;if(!this.hasValue()||!l)return p?null:F.a.createElement(n,j({},u,{key:"placeholder",isDisabled:f,isFocused:g}),h);if(d)return v.map(function(e,t){var n=e===y;return F.a.createElement(i,j({},u,{components:{Container:a,Label:o,Remove:s},isFocused:n,isDisabled:f,key:r.getOptionValue(e),index:t,removeProps:{onClick:function(){return r.removeValue(e)},onTouchEnd:function(){return r.removeValue(e)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:e}),r.formatOptionLabel(e,"value"))});if(p)return null;var b=v[0];return F.a.createElement(t,j({},u,{data:b,isDisabled:f}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return F.a.createElement(e,j({},t,{innerProps:o,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,a=this.state.isFocused;return e&&i?F.a.createElement(e,j({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,a=this.state.isFocused;return F.a.createElement(n,j({},r,{isDisabled:i,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return F.a.createElement(e,j({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var a,o=this,e=this.components,r=e.Group,i=e.GroupHeading,s=e.Menu,u=e.MenuList,t=e.MenuPortal,n=e.LoadingMessage,c=e.NoOptionsMessage,l=e.Option,f=this.commonProps,d=this.state,p=d.focusedOption,h=d.menuOptions,m=this.props,v=m.captureMenuScroll,y=m.inputValue,g=m.isLoading,b=m.loadingMessage,w=m.minMenuHeight,k=m.maxMenuHeight,x=m.menuIsOpen,_=m.menuPlacement,S=m.menuPosition,E=m.menuPortalTarget,C=m.menuShouldBlockScroll,T=m.menuShouldScrollIntoView,O=m.noOptionsMessage,M=m.onMenuScrollToTop,P=m.onMenuScrollToBottom;if(!x)return null;function I(e){var t=p===e.data;return e.innerRef=t?o.getFocusedOptionRef:void 0,F.a.createElement(l,j({},f,e,{isFocused:t}),o.formatOptionLabel(e.data,"menu"))}if(this.hasOptions())a=h.render.map(function(e){if("group"===e.type){e.type;var t=R(e,["type"]),n="".concat(e.key,"-heading");return F.a.createElement(r,j({},f,t,{Heading:i,headingProps:{id:n},label:o.formatGroupLabel(e.data)}),e.options.map(function(e){return I(e)}))}if("option"===e.type)return I(e)});else if(g){var D=b({inputValue:y});if(null===D)return null;a=F.a.createElement(n,f,D)}else{var A=O({inputValue:y});if(null===A)return null;a=F.a.createElement(c,f,A)}var N={minMenuHeight:w,maxMenuHeight:k,menuPlacement:_,menuPosition:S,menuShouldScrollIntoView:T},L=F.a.createElement(fe,j({},f,N),function(e){var t=e.ref,n=e.placerProps,r=n.placement,i=n.maxHeight;return F.a.createElement(s,j({},f,N,{innerRef:t,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:g,placement:r}),F.a.createElement(ht,{isEnabled:v,onTopArrive:M,onBottomArrive:P},F.a.createElement(dt,{isEnabled:C},F.a.createElement(u,j({},f,{innerRef:o.getMenuListRef,isLoading:g,maxHeight:i}),a))))});return E||"fixed"===S?F.a.createElement(t,j({},f,{appendTo:E,controlElement:this.controlRef,menuPlacement:_,menuPosition:S}),L):L}},{key:"renderFormField",value:function(){var n=this,e=this.props,t=e.delimiter,r=e.isDisabled,i=e.isMulti,a=e.name,o=this.state.selectValue;if(a&&!r){if(i){if(t){var s=o.map(function(e){return n.getOptionValue(e)}).join(t);return F.a.createElement("input",{name:a,type:"hidden",value:s})}var u=0<o.length?o.map(function(e,t){return F.a.createElement("input",{key:"i-".concat(t),name:a,type:"hidden",value:n.getOptionValue(e)})}):F.a.createElement("input",{name:a,type:"hidden"});return F.a.createElement("div",null,u)}var c=o[0]?this.getOptionValue(o[0]):"";return F.a.createElement("input",{name:a,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?F.a.createElement(Ge,{"aria-live":"polite"},F.a.createElement("p",{id:"aria-selection-event"},"Â ",this.state.ariaLiveSelection),F.a.createElement("p",{id:"aria-context"},"Â ",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,a=this.props,o=a.className,s=a.id,u=a.isDisabled,c=a.menuIsOpen,l=this.state.isFocused,f=this.commonProps=this.getCommonProps();return F.a.createElement(r,j({},f,{className:o,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:l}),this.renderLiveRegion(),F.a.createElement(t,j({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:l,menuIsOpen:c}),F.a.createElement(i,j({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),F.a.createElement(n,j({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),St);function St(e){var v;a(this,St),s(u(u(v=c(this,l(St).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),s(u(u(v)),"blockOptionHover",!1),s(u(u(v)),"isComposing",!1),s(u(u(v)),"clearFocusValueOnUpdate",!1),s(u(u(v)),"commonProps",void 0),s(u(u(v)),"components",void 0),s(u(u(v)),"hasGroups",!1),s(u(u(v)),"initialTouchX",0),s(u(u(v)),"initialTouchY",0),s(u(u(v)),"inputIsHiddenAfterUpdate",void 0),s(u(u(v)),"instancePrefix",""),s(u(u(v)),"openAfterFocus",!1),s(u(u(v)),"scrollToFocusedOptionOnUpdate",!1),s(u(u(v)),"userIsDragging",void 0),s(u(u(v)),"controlRef",null),s(u(u(v)),"getControlRef",function(e){v.controlRef=e}),s(u(u(v)),"focusedOptionRef",null),s(u(u(v)),"getFocusedOptionRef",function(e){v.focusedOptionRef=e}),s(u(u(v)),"menuListRef",null),s(u(u(v)),"getMenuListRef",function(e){v.menuListRef=e}),s(u(u(v)),"inputRef",null),s(u(u(v)),"getInputRef",function(e){v.inputRef=e}),s(u(u(v)),"cacheComponents",function(e){v.components=y({},$e,{components:e}.components)}),s(u(u(v)),"focus",v.focusInput),s(u(u(v)),"blur",v.blurInput),s(u(u(v)),"onChange",function(e,t){var n=v.props;(0,n.onChange)(e,y({},t,{name:n.name}))}),s(u(u(v)),"setValue",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"set-value",n=2<arguments.length?arguments[2]:void 0,r=v.props,i=r.closeMenuOnSelect,a=r.isMulti;v.onInputChange("",{action:"set-value"}),i&&(v.inputIsHiddenAfterUpdate=!a,v.onMenuClose()),v.clearFocusValueOnUpdate=!0,v.onChange(e,{action:t,option:n})}),s(u(u(v)),"selectOption",function(e){var t,n=v.props,r=n.blurInputOnSelect,i=n.isMulti,a=v.state.selectValue;if(i)if(v.isOptionSelected(e,a)){var o=v.getOptionValue(e);v.setValue(a.filter(function(e){return v.getOptionValue(e)!==o}),"deselect-option",e),v.announceAriaLiveSelection({event:"deselect-option",context:{value:v.getOptionLabel(e)}})}else v.isOptionDisabled(e,a)?v.announceAriaLiveSelection({event:"select-option",context:{value:v.getOptionLabel(e),isDisabled:!0}}):(v.setValue([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(t=a)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[e]),"select-option",e),v.announceAriaLiveSelection({event:"select-option",context:{value:v.getOptionLabel(e)}}));else v.isOptionDisabled(e,a)?v.announceAriaLiveSelection({event:"select-option",context:{value:v.getOptionLabel(e),isDisabled:!0}}):(v.setValue(e,"select-option"),v.announceAriaLiveSelection({event:"select-option",context:{value:v.getOptionLabel(e)}}));r&&v.blurInput()}),s(u(u(v)),"removeValue",function(e){var t=v.state.selectValue,n=v.getOptionValue(e),r=t.filter(function(e){return v.getOptionValue(e)!==n});v.onChange(r.length?r:null,{action:"remove-value",removedValue:e}),v.announceAriaLiveSelection({event:"remove-value",context:{value:e?v.getOptionLabel(e):""}}),v.focusInput()}),s(u(u(v)),"clearValue",function(){var e=v.props.isMulti;v.onChange(e?[]:null,{action:"clear"})}),s(u(u(v)),"popValue",function(){var e=v.state.selectValue,t=e[e.length-1],n=e.slice(0,e.length-1);v.announceAriaLiveSelection({event:"pop-value",context:{value:t?v.getOptionLabel(t):""}}),v.onChange(n.length?n:null,{action:"pop-value",removedValue:t})}),s(u(u(v)),"getOptionLabel",function(e){return v.props.getOptionLabel(e)}),s(u(u(v)),"getOptionValue",function(e){return v.props.getOptionValue(e)}),s(u(u(v)),"getStyles",function(e,t){var n=bt[e](t);n.boxSizing="border-box";var r=v.props.styles[e];return r?r(n,t):n}),s(u(u(v)),"getElementId",function(e){return"".concat(v.instancePrefix,"-").concat(e)}),s(u(u(v)),"getActiveDescendentId",function(){var e=v.props.menuIsOpen,t=v.state,n=t.menuOptions,r=t.focusedOption;if(r&&e){var i=n.focusable.indexOf(r),a=n.render[i];return a&&a.key}}),s(u(u(v)),"announceAriaLiveSelection",function(e){var t=e.event,n=e.context;v.setState({ariaLiveSelection:function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}}(t,n)})}),s(u(u(v)),"announceAriaLiveContext",function(e){var t=e.event,n=e.context;v.setState({ariaLiveContext:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,i=t.label,a=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(a?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}}(t,y({},n,{label:v.props["aria-label"]}))})}),s(u(u(v)),"onMenuMouseDown",function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),v.focusInput())}),s(u(u(v)),"onMenuMouseMove",function(e){v.blockOptionHover=!1}),s(u(u(v)),"onControlMouseDown",function(e){var t=v.props.openMenuOnClick;v.state.isFocused?v.props.menuIsOpen?"INPUT"!==e.target.tagName&&v.onMenuClose():t&&v.openMenu("first"):(t&&(v.openAfterFocus=!0),v.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()}),s(u(u(v)),"onDropdownIndicatorMouseDown",function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||v.props.isDisabled)){var t=v.props,n=t.isMulti,r=t.menuIsOpen;v.focusInput(),r?(v.inputIsHiddenAfterUpdate=!n,v.onMenuClose()):v.openMenu("first"),e.preventDefault(),e.stopPropagation()}}),s(u(u(v)),"onClearIndicatorMouseDown",function(e){e&&"mousedown"===e.type&&0!==e.button||(v.clearValue(),e.stopPropagation(),v.openAfterFocus=!1,"touchend"===e.type?v.focusInput():setTimeout(function(){return v.focusInput()}))}),s(u(u(v)),"onScroll",function(e){"boolean"==typeof v.props.closeMenuOnScroll?e.target instanceof HTMLElement&&ne(e.target)&&v.props.onMenuClose():"function"==typeof v.props.closeMenuOnScroll&&v.props.closeMenuOnScroll(e)&&v.props.onMenuClose()}),s(u(u(v)),"onCompositionStart",function(){v.isComposing=!0}),s(u(u(v)),"onCompositionEnd",function(){v.isComposing=!1}),s(u(u(v)),"onTouchStart",function(e){var t=e.touches.item(0);t&&(v.initialTouchX=t.clientX,v.initialTouchY=t.clientY,v.userIsDragging=!1)}),s(u(u(v)),"onTouchMove",function(e){var t=e.touches.item(0);if(t){var n=Math.abs(t.clientX-v.initialTouchX),r=Math.abs(t.clientY-v.initialTouchY);v.userIsDragging=5<n||5<r}}),s(u(u(v)),"onTouchEnd",function(e){v.userIsDragging||(v.controlRef&&!v.controlRef.contains(e.target)&&v.menuListRef&&!v.menuListRef.contains(e.target)&&v.blurInput(),v.initialTouchX=0,v.initialTouchY=0)}),s(u(u(v)),"onControlTouchEnd",function(e){v.userIsDragging||v.onControlMouseDown(e)}),s(u(u(v)),"onClearIndicatorTouchEnd",function(e){v.userIsDragging||v.onClearIndicatorMouseDown(e)}),s(u(u(v)),"onDropdownIndicatorTouchEnd",function(e){v.userIsDragging||v.onDropdownIndicatorMouseDown(e)}),s(u(u(v)),"handleInputChange",function(e){var t=e.currentTarget.value;v.inputIsHiddenAfterUpdate=!1,v.onInputChange(t,{action:"input-change"}),v.onMenuOpen()}),s(u(u(v)),"onInputFocus",function(e){var t=v.props,n=t.isSearchable,r=t.isMulti;v.props.onFocus&&v.props.onFocus(e),v.inputIsHiddenAfterUpdate=!1,v.announceAriaLiveContext({event:"input",context:{isSearchable:n,isMulti:r}}),v.setState({isFocused:!0}),(v.openAfterFocus||v.props.openMenuOnFocus)&&v.openMenu("first"),v.openAfterFocus=!1}),s(u(u(v)),"onInputBlur",function(e){v.menuListRef&&v.menuListRef.contains(document.activeElement)?v.inputRef.focus():(v.props.onBlur&&v.props.onBlur(e),v.onInputChange("",{action:"input-blur"}),v.onMenuClose(),v.setState({focusedValue:null,isFocused:!1}))}),s(u(u(v)),"onOptionHover",function(e){v.blockOptionHover||v.state.focusedOption===e||v.setState({focusedOption:e})}),s(u(u(v)),"shouldHideSelectedOptions",function(){var e=v.props,t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t}),s(u(u(v)),"onKeyDown",function(e){var t=v.props,n=t.isMulti,r=t.backspaceRemovesValue,i=t.escapeClearsValue,a=t.inputValue,o=t.isClearable,s=t.isDisabled,u=t.menuIsOpen,c=t.onKeyDown,l=t.tabSelectsValue,f=t.openMenuOnFocus,d=v.state,p=d.focusedOption,h=d.focusedValue,m=d.selectValue;if(!(s||"function"==typeof c&&(c(e),e.defaultPrevented))){switch(v.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;v.focusValue("previous");break;case"ArrowRight":if(!n||a)return;v.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(h)v.removeValue(h);else{if(!r)return;n?v.popValue():o&&v.clearValue()}break;case"Tab":if(v.isComposing)return;if(e.shiftKey||!u||!l||!p||f&&v.isOptionSelected(p,m))return;v.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(v.isComposing)return;v.selectOption(p);break}return;case"Escape":u?(v.inputIsHiddenAfterUpdate=!1,v.onInputChange("",{action:"menu-close"}),v.onMenuClose()):o&&i&&v.clearValue();break;case" ":if(a)return;if(!u){v.openMenu("first");break}if(!p)return;v.selectOption(p);break;case"ArrowUp":u?v.focusOption("up"):v.openMenu("last");break;case"ArrowDown":u?v.focusOption("down"):v.openMenu("first");break;case"PageUp":if(!u)return;v.focusOption("pageup");break;case"PageDown":if(!u)return;v.focusOption("pagedown");break;case"Home":if(!u)return;v.focusOption("first");break;case"End":if(!u)return;v.focusOption("last");break;default:return}e.preventDefault()}});var t=e.value;v.cacheComponents=function(n,r){var i;void 0===r&&(r=se);var a,o=[],s=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s&&i===this&&r(e,o)||(a=n.apply(this,e),s=!0,i=this,o=e),a}}(v.cacheComponents,_e).bind(u(u(v))),v.cacheComponents(e.components),v.instancePrefix="react-select-"+(v.props.instanceId||++xt);var n=te(t),r=e.menuIsOpen?v.buildMenuOptions(e,n):{render:[],focusable:[]};return v.state.menuOptions=r,v.state.selectValue=n,v}s(_t,"defaultProps",kt);var Et,Ct,Tt,Ot,Mt={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Pt={cacheOptions:!1,defaultOptions:!1,filterOption:null},It=(Tt=_t,f(At,h.Component),i(At,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,e=this.props,n=(e.defaultInputValue,e.defaultMenuIsOpen,e.defaultValue,R(e,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return F.a.createElement(Tt,j({},n,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),s(Ot=At,"defaultProps",Mt),Et=Ot,f(Dt,h.Component),i(Dt,[{key:"componentDidMount",value:function(){var n=this;this.mounted=!0;var e=this.props.defaultOptions,t=this.state.inputValue;!0===e&&this.loadOptions(t,function(e){if(n.mounted){var t=!!n.lastRequest;n.setState({defaultOptions:e||[],isLoading:t})}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,function(){return t()})}},{key:"render",value:function(){var t=this,e=this.props,n=(e.loadOptions,R(e,["loadOptions"])),r=this.state,i=r.defaultOptions,a=r.inputValue,o=r.isLoading,s=r.loadedInputValue,u=r.loadedOptions,c=r.passEmptyOptions?[]:a&&s?u:i||[];return F.a.createElement(Et,j({},n,{ref:function(e){t.select=e},options:c,isLoading:o,onInputChange:this.handleInputChange}))}}]),s(Ct=Dt,"defaultProps",Pt),Ct);function Dt(e){var o;return a(this,Dt),s(u(u(o=c(this,l(Dt).call(this)))),"select",void 0),s(u(u(o)),"lastRequest",void 0),s(u(u(o)),"mounted",!1),s(u(u(o)),"optionsCache",{}),s(u(u(o)),"handleInputChange",function(e,t){var n=o.props,r=n.cacheOptions,i=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,t,n.onInputChange);if(!i)return delete o.lastRequest,void o.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&o.optionsCache[i])o.setState({inputValue:i,loadedInputValue:i,loadedOptions:o.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var a=o.lastRequest={};o.setState({inputValue:i,isLoading:!0,passEmptyOptions:!o.state.loadedInputValue},function(){o.loadOptions(i,function(e){o.mounted&&(e&&(o.optionsCache[i]=e),a===o.lastRequest&&(delete o.lastRequest,o.setState({isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1})))})})}return i}),o.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},o}function At(){var e,r;a(this,At);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(u(u(r=c(this,(e=l(At)).call.apply(e,[this].concat(n))))),"select",void 0),s(u(u(r)),"state",{inputValue:void 0!==r.props.inputValue?r.props.inputValue:r.props.defaultInputValue,menuIsOpen:void 0!==r.props.menuIsOpen?r.props.menuIsOpen:r.props.defaultMenuIsOpen,value:void 0!==r.props.value?r.props.value:r.props.defaultValue}),s(u(u(r)),"onChange",function(e,t){r.callProp("onChange",e,t),r.setState({value:e})}),s(u(u(r)),"onInputChange",function(e,t){var n=r.callProp("onInputChange",e,t);r.setState({inputValue:void 0!==n?n:e})}),s(u(u(r)),"onMenuOpen",function(){r.callProp("onMenuOpen"),r.setState({menuIsOpen:!0})}),s(u(u(r)),"onMenuClose",function(){r.callProp("onMenuClose"),r.setState({menuIsOpen:!1})}),r}t.a=It},function(e,t,n){"use strict";var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return 0;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return 0;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return 0;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return 0}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var o in n=Object(arguments[a]))c.call(n,o)&&(i[o]=n[o]);if(u){r=u(n);for(var s=0;s<r.length;s++)l.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},function(e,t,n){e.exports={default:n(176),__esModule:!0}},function(e,t,n){e.exports=!n(22)&&!n(30)(function(){return 7!=Object.defineProperty(n(78)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(41),s=n(49),u=n(179)(!1),c=n(83)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,a=[];for(n in r)n!=c&&o(r,n)&&a.push(n);for(;t.length>i;)o(r,n=t[i++])&&(~u(a,n)||a.push(n));return a}},function(e,t,n){e.exports=n(29)},function(e,t,n){var r=n(14).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(41),i=n(50),a=n(83)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var a=n(21);e.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&a(i.call(t)),e}}},function(e,t,n){var r=n(51),i=n(16)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){var i=n(21),a=n(40),o=n(16)("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[o])?t:a(n)}},function(e,t,n){function r(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}}function i(e){r.call(e.data)}var a,o,s,u=n(28),c=n(118),l=n(111),f=n(78),d=n(14),p=d.process,h=d.setImmediate,m=d.clearImmediate,v=d.MessageChannel,y=d.Dispatch,g=0,b={};h&&m||(h=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return b[++g]=function(){c("function"==typeof e?e:Function(e),t)},a(g),g},m=function(e){delete b[e]},"process"==n(58)(p)?a=function(e){p.nextTick(u(r,e,1))}:y&&y.now?a=function(e){y.now(u(r,e,1))}:v?(s=(o=new v).port2,o.port1.onmessage=i,a=u(s.postMessage,s,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(a=function(e){d.postMessage(e+"","*")},d.addEventListener("message",i,!1)):a="onreadystatechange"in f("script")?function(e){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),r.call(e)}}:function(e){setTimeout(u(r,e,1),0)}),e.exports={set:h,clear:m}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(21),i=n(17),a=n(90);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(14),i=n(9),a=n(20),o=n(22),s=n(16)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var a=n(16)("iterator"),o=!1;try{var r=[7][a]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r=[7],i=r[a]();i.next=function(){return{done:n=!0}},r[a]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(198)),i=o(n(200)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){var r=n(58);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(109),i=n(85).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(72),i=n(57),a=n(49),o=n(79),s=n(41),u=n(108),c=Object.getOwnPropertyDescriptor;t.f=n(22)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(207),__esModule:!0}},function(e,t,n){e.exports={default:n(210),__esModule:!0}},function(e,t,n){e.exports={default:n(212),__esModule:!0}},function(e,t,n){"use strict";var r=d(n(43)),i=d(n(13)),a=d(n(15)),o=d(n(18)),s=d(n(23)),u=d(n(7)),c=d(n(8)),l=d(n(24)),f=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p,h,m,v,y,g=n(10),b=n(19),w=n(26),k=b.Logger.scope("User"),x=(p=g.EventEmitter,(0,f.default)(_,p),(0,c.default)(_,[{key:"_update",value:function(e,t){var n=[];switch(k.debug("User for",this.state.identity,"updated:",e,t),e){case"friendlyName":this.state.friendlyName!==t.value&&(n.push("friendlyName"),this.state.friendlyName=t.value);break;case"attributes":var r={};try{r=JSON.parse(t.value)}catch(e){k.warn("Retrieved malformed attributes from the server for user: "+this.state.identity)}w.isDeepEqual(this.state.attributes,r)||(this.state.attributes=r,n.push("attributes"));break;case"reachability":this.state.online!==t.online&&(this.state.online=t.online,n.push("online")),this.state.notifiable!==t.notifiable&&(this.state.notifiable=t.notifiable,n.push("notifiable"));break;default:return}0<n.length&&this.emit("updated",{user:this,updateReasons:n})}},{key:"_updateReachabilityInfo",value:function(e,t){var n=this;return this.services.session.reachabilityEnabled?e.get("reachability").then(t).catch(function(e){k.warn("Failed to get reachability info for ",n.state.identity,e)}):o.default.resolve()}},{key:"_fetch",value:(y=(0,a.default)(i.default.mark(function e(){var t=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.entityName){e.next=2;break}return e.abrupt("return",this);case 2:return this.promiseToFetch=this.services.syncClient.map({id:this.state.entityName,mode:"open_existing",includeItems:!0}).then(function(e){return(t.entity=e).on("itemUpdated",function(e){return k.debug(t.state.entityName+" ("+t.state.identity+") itemUpdated: "+e.item.key),t._update(e.item.key,e.item.value)}),o.default.all([e.get("friendlyName").then(function(e){return t._update(e.key,e.value)}),e.get("attributes").then(function(e){return t._update(e.key,e.value)}),t._updateReachabilityInfo(e,function(e){return t._update(e.key,e.value)})])}).then(function(){return k.debug("Fetched for",t.identity),t.subscribed="subscribed",t.emit("userSubscribed",t),t}).catch(function(e){throw t.promiseToFetch=null,e}),e.abrupt("return",this.promiseToFetch);case 4:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"_ensureFetched",value:function(){return this.promiseToFetch||this._fetch()}},{key:"updateAttributes",value:(v=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t)throw new Error("Attributes is required parameter");e.next=4;break;case 4:if(null===t)throw new Error("Attributes can't be null");e.next=8;break;case 8:if(t.constructor!==Object)throw new Error("Attributes must be a valid JSON object");e.next=10;break;case 10:if("unsubscribed"==this.subscribed)throw new Error("Can't modify unsubscribed object");e.next=12;break;case 12:return e.next=14,this.services.session.addCommand("editUserAttributes",{username:this.state.identity,attributes:(0,r.default)(t)});case 14:return e.abrupt("return",this);case 15:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"updateFriendlyName",value:(m=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"!=typeof t)throw new Error("friendlyName must be string or empty");e.next=2;break;case 2:if("unsubscribed"==this.subscribed)throw new Error("Can't modify unsubscribed object");e.next=4;break;case 4:return e.next=6,this.services.session.addCommand("editUserFriendlyName",{username:this.state.identity,friendlyName:t});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"unsubscribe",value:(h=(0,a.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.promiseToFetch)return e.next=3,this.promiseToFetch;e.next=7;break;case 3:this.entity.close(),this.promiseToFetch=null,this.subscribed="unsubscribed",this.emit("userUnsubscribed",this);case 7:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"identity",get:function(){return this.state.identity},set:function(e){this.state.identity=e}},{key:"entityName",set:function(e){this.state.entityName=e}},{key:"attributes",get:function(){return this.state.attributes}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"online",get:function(){return this.state.online}},{key:"notifiable",get:function(){return this.state.notifiable}},{key:"isSubscribed",get:function(){return"subscribed"==this.subscribed}}]),_);function _(e,t,n){(0,u.default)(this,_);var r=(0,l.default)(this,(_.__proto__||(0,s.default)(_)).call(this));return r.subscribed="initializing",r.setMaxListeners(0),r.services=n,r.state={identity:e,entityName:t,friendlyName:null,attributes:{},online:null,notifiable:null},r}t.User=x},function(e,t,n){"use strict";function r(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function i(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(t,"__esModule",{value:!0});var a=(o.fromJSON=function(e){var t=e.split("/").map(r);if(""!==t[0])throw new Error("Invalid JSON Pointer: "+e);return new o(t)},o.prototype.toString=function(){return this.tokens.map(i).join("/")},o.prototype.evaluate=function(e){for(var t=null,n="",r=e,i=1,a=this.tokens.length;i<a;i++)r=((t=r)||{})[n=this.tokens[i]];return{parent:t,key:n,value:r}},o.prototype.get=function(e){return this.evaluate(e).value},o.prototype.set=function(e,t){for(var n=e,r=1,i=this.tokens.length-1,a=this.tokens[r];r<i;r++)n=(n||{})[a];n&&(n[this.tokens[this.tokens.length-1]]=t)},o.prototype.push=function(e){this.tokens.push(e)},o.prototype.add=function(e){return new o(this.tokens.concat(String(e)))},o);function o(e){void 0===e&&(e=[""]),this.tokens=e}t.Pointer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=Object.prototype.hasOwnProperty;function i(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":typeof e}t.objectType=i,t.compare=function s(e,t){if(e===t)return!0;var n=i(e),r=i(t);return"array"==n&&"array"==r?function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!s(e[r],t[r]))return!1;return!0}(e,t):"object"==n&&"object"==r&&function(e,t){var n=Object.keys(e),r=Object.keys(t),i=n.length;if(i!==r.length)return!1;for(var a=0;a<i;a++){var o=n[a];if(!u.call(t,o)||!s(e[o],t[o]))return!1}return!0}(e,t)}},function(e,t,n){"use strict";var r=a(n(7)),i=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),s=n(134),u=o.Logger.scope("ChannelDescriptor");function c(e){try{return new Date(e)}catch(e){return null}}var l=((0,i.default)(f,[{key:"getChannel",value:function(){return this.client.getChannelBySid(this.sid)}}]),f);function f(e,t){(0,r.default)(this,f),this.client=e,(this.descriptor=t).sid?(this.sid=t.sid,this.channel=t.sid+".channel"):(this.sid=t.channel_sid,this.channel=t.channel_sid+".channel"),this.uniqueName=t.unique_name,this.friendlyName=t.friendly_name,this.attributes=function(e){try{return JSON.parse(e)}catch(e){u.warn("Failed to parse channel attributes",e)}return{}}(t.attributes),this.createdBy=t.created_by,this.dateCreated=c(t.date_created),this.dateUpdated=c(t.date_updated),this.messagesCount=t.messages_count,this.membersCount=t.members_count,this.type=t.type,this.isPrivate="private"==t.type,this.lastConsumedMessageIndex=t.last_consumed_message_index,t.notification_level&&(this.notificationLevel=t.notification_level),t.status?this.status=s.filterStatus(t.status):this.status="unknown"}t.ChannelDescriptor=l},function(e,t,n){"use strict";var s=c(n(95)),a=c(n(13)),r=c(n(18)),i=c(n(15)),f=c(n(31)),d=c(n(43)),p=c(n(140)),h=c(n(23)),m=c(n(7)),o=c(n(8)),v=c(n(24)),u=c(n(25));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),y=n(19),g=n(236),b=n(141),w=n(237),k=n(26),x=y.Logger.scope("Channel"),_={lastMessage:"lastMessage",attributes:"attributes",createdBy:"createdBy",dateCreated:"dateCreated",dateUpdated:"dateUpdated",friendlyName:"friendlyName",lastConsumedMessageIndex:"lastConsumedMessageIndex",notificationLevel:"notificationLevel",sid:"sid",status:"status",type:"type",uniqueName:"uniqueName"};function S(e){try{return new Date(e)}catch(e){return null}}function E(e){switch(e){case"notParticipating":return"known";default:return e}}t.filterStatus=E;var C,T,O,M,P,I,D,A,N,L,R,j,F,U,B,z,q,W,H,V,Y,G,$,J,Q,K,X,Z,ee=(C=l.EventEmitter,(0,u.default)(te,C),(0,o.default)(te,[{key:"_subscribe",value:function(){var t=this;return this.entityPromise?this.entityPromise:this.entityPromise=this.entityPromise||this.services.syncClient.document({id:this.entityName,mode:"open_existing"}).then(function(e){return t.entity=e,t.entity.on("updated",function(e){t._update(e.value)}),t.entity.on("removed",function(){return t.emit("removed",t)}),t._update(t.entity.value),e}).catch(function(e){throw t.entity=null,t.entityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&x.error("Failed to get channel object",e),x.debug("ERROR: Failed to get channel object",e),e})}},{key:"_subscribeStreams",value:(Z=(0,i.default)(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._subscribe();case 3:return x.trace("_subscribeStreams, this.entity.value=",this.entity.value),t=this.entity.value.messages,n=this.entity.value.roster,e.next=8,r.default.all([this.messagesEntity.subscribe(t),this.membersEntity.subscribe(n)]);case 8:e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(0),"disconnected"!==this.services.syncClient.connectionState&&x.error("Failed to subscribe on channel objects",this.sid,e.t0),x.debug("ERROR: Failed to subscribe on channel objects",this.sid,e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[0,10]])})),function(){return Z.apply(this,arguments)})},{key:"_unsubscribe",value:(X=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPrivate&&this.entity)return e.next=3,this.entity.close();e.next=5;break;case 3:this.entity=null,this.entityPromise=null;case 5:return e.abrupt("return",r.default.all([this.membersEntity.unsubscribe(),this.messagesEntity.unsubscribe()]));case 6:case"end":return e.stop()}},e,this)})),function(){return X.apply(this,arguments)})},{key:"_setStatus",value:function(t,e){var n=this;this.statusSource=e,this.state.status!==t&&("joined"===(this.state.status=t)?this._subscribeStreams().catch(function(e){if(x.debug("ERROR while setting channel status "+t,e),"disconnected"!==n.services.syncClient.connectionState)throw e}):"invited"===t?this._subscribe().catch(function(e){if(x.debug("ERROR while setting channel status "+t,e),"disconnected"!==n.services.syncClient.connectionState)throw e}):this.entityPromise&&this._unsubscribe().catch(function(e){if(x.debug("ERROR while setting channel status "+t,e),"disconnected"!==n.services.syncClient.connectionState)throw e}))}},{key:"_statusSource",value:function(){return this.statusSource}},{key:"_update",value:function(e){x.trace("_update",e);var t=[];for(var n in te.preprocessUpdate(e,this.sid),e){var r=_[n];if(r)if(r===_.status)e.status&&"unknown"!=e.status&&this.state.status!==E(e.status)&&(this.state.status=E(e.status),t.push(r));else if(r===_.attributes)k.isDeepEqual(this.state.attributes,e.attributes)||(this.state.attributes=e.attributes,t.push(r));else if(r===_.lastConsumedMessageIndex)void 0!==e.lastConsumedMessageIndex&&e.lastConsumedMessageIndex!==this.state.lastConsumedMessageIndex&&(this.state.lastConsumedMessageIndex=e.lastConsumedMessageIndex,t.push(r));else if(r===_.lastMessage){var i=!1;this.state.lastMessage&&!e.lastMessage?(delete this.state.lastMessage,i=!0):(this.state.lastMessage||(this.state.lastMessage={}),e.lastMessage&&void 0!==e.lastMessage.index&&e.lastMessage.index!==this.state.lastMessage.index&&(this.state.lastMessage.index=e.lastMessage.index,i=!0),!e.lastMessage||!e.lastMessage.timestamp||this.state.lastMessage.timestamp&&this.state.lastMessage.timestamp.getTime()===e.lastMessage.timestamp.getTime()||(this.state.lastMessage.timestamp=e.lastMessage.timestamp,i=!0),k.isDeepEqual(this.state.lastMessage,{})&&delete this.state.lastMessage),i&&t.push(r)}else e[n]instanceof Date?this.state[r]&&this.state[r].getTime()===e[n].getTime()||(this.state[r]=e[n],t.push(r)):this[r]!==e[n]&&(this.state[r]=e[n],t.push(r))}0<t.length&&this.emit("updated",{channel:this,updateReasons:t})}},{key:"_onMessageAdded",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,s.default)(this.members.values());!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.identity===e.author){o._endTyping();break}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.emit("messageAdded",e)}},{key:"add",value:(K=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Channel.add requires an <String>identity parameter");case 2:return e.abrupt("return",this.membersEntity.add(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return K.apply(this,arguments)})},{key:"advanceLastConsumedMessageIndex",value:(Q=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.default)(t)){e.next=2;break}throw new Error("Channel.advanceLastConsumedMessageIndex requires an integral <Number>index parameter");case 2:return e.next=4,this._subscribeStreams();case 4:return e.abrupt("return",this.services.consumptionHorizon.advanceLastConsumedMessageIndexForChannel(this.sid,t,this.lastConsumedMessageIndex));case 5:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"decline",value:(J=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("declineInvitation",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)})),function(){return J.apply(this,arguments)})},{key:"delete",value:($=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("destroyChannel",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)})),function(){return $.apply(this,arguments)})},{key:"getAttributes",value:(G=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return e.abrupt("return",this.attributes);case 3:case"end":return e.stop()}},e,this)})),function(){return G.apply(this,arguments)})},{key:"getMessages",value:(Y=(0,i.default)(a.default.mark(function e(t,n,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n||(0,p.default)(n)){e.next=2;break}throw new Error("Anchor should be a valid message index");case 2:return e.next=4,this._subscribeStreams();case 4:return e.abrupt("return",this.messagesEntity.getMessages(t,n,r));case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return Y.apply(this,arguments)})},{key:"getMembers",value:(V=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.membersEntity.getMembers());case 3:case"end":return e.stop()}},e,this)})),function(){return V.apply(this,arguments)})},{key:"getMembersCount",value:(H=(0,i.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new k.UriBuilder(t.publicChannelsUrl).path(this.sid).build(),e.next=6,this.services.network.get(n);case 6:return r=e.sent,e.abrupt("return",r.body.members_count);case 8:case"end":return e.stop()}},e,this)})),function(){return H.apply(this,arguments)})},{key:"getMemberBySid",value:(W=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Channel.getMemberBySid requires a <String>memberSid parameter");case 2:return e.abrupt("return",this.membersEntity.getMemberBySid(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"getMemberByIdentity",value:(q=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Channel.getMemberByIdentity requires a <String>identity parameter");case 2:return e.abrupt("return",this.membersEntity.getMemberByIdentity(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return q.apply(this,arguments)})},{key:"getMessagesCount",value:(z=(0,i.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new k.UriBuilder(t.publicChannelsUrl).path(this.sid).build(),e.next=6,this.services.network.get(n);case 6:return r=e.sent,e.abrupt("return",r.body.messages_count);case 8:case"end":return e.stop()}},e,this)})),function(){return z.apply(this,arguments)})},{key:"getUnconsumedMessagesCount",value:(B=(0,i.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new k.UriBuilder(t.myChannelsUrl).arg("ChannelSid",this.sid).build(),e.next=6,this.services.network.get(n);case 6:if(!(r=e.sent).body.channels.length||r.body.channels[0].channel_sid!=this.sid){e.next=11;break}if(void 0!==r.body.channels[0].unread_messages_count&&null!=r.body.channels[0].unread_messages_count)return e.abrupt("return",r.body.channels[0].unread_messages_count);e.next=10;break;case 10:return e.abrupt("return",null);case 11:throw new Error("Channel is not in user channels list");case 12:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"invite",value:(U=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t&&t.length){e.next=2;break}throw new Error("Channel.invite requires an <String>identity parameter");case 2:return e.next=4,this.membersEntity.invite(t);case 4:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"join",value:(F=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("joinChannelV2",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"leave",value:(j=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"===this.state.status)return e.next=3,this.services.session.addCommand("leaveChannel",{channelSid:this.sid});e.next=3;break;case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})},{key:"removeMember",value:(R=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&("string"==typeof t||t instanceof b.Member)){e.next=2;break}throw new Error("Channel.removeMember requires a <String|Member>member parameter.");case 2:if(t instanceof b.Member)return e.next=5,this.membersEntity.removeBySid(t.sid);e.next=7;break;case 5:e.next=9;break;case 7:return e.next=9,this.membersEntity.removeByIdentity(t);case 9:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"sendMessage",value:(L=(0,i.default)(a.default.mark(function e(t,n){var r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t)throw new Error("Message is required parameter");e.next=2;break;case 2:if("string"==typeof t||null===t)return e.next=5,this.messagesEntity.send(t,n);e.next=9;break;case 5:return r=e.sent,e.abrupt("return",k.parseToNumber(r.messageId));case 9:return e.next=11,this.messagesEntity.sendMedia(t,n);case 11:return i=e.sent,e.abrupt("return",k.parseToNumber(i.messageId));case 13:case"end":return e.stop()}},e,this)})),function(e,t){return L.apply(this,arguments)})},{key:"setAllMessagesConsumed",value:(N=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this.getMessages(1);case 4:if(0<(t=e.sent).items.length)return e.abrupt("return",this.advanceLastConsumedMessageIndex(t.items[0].index));e.next=7;break;case 7:return e.abrupt("return",r.default.resolve(0));case 8:case"end":return e.stop()}},e,this)})),function(){return N.apply(this,arguments)})},{key:"setNoMessagesConsumed",value:(A=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.services.consumptionHorizon.updateLastConsumedMessageIndexForChannel(this.sid,null));case 3:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"setUserNotificationLevel",value:(D=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("notificationLevel can't be null");case 2:return e.next=4,this.services.session.addCommand("editNotificationLevel",{channelSid:this.sid,notificationLevel:t});case 4:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)})},{key:"typing",value:function(){return this.services.typingIndicator.send(this.sid)}},{key:"updateAttributes",value:(I=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t)throw new Error("Attributes is required parameter");e.next=4;break;case 4:if(null===t)throw new Error("Attributes can't be null");e.next=8;break;case 8:if(t.constructor!==Object)throw new Error("Attributes must be a valid JSON object.");e.next=10;break;case 10:return e.next=12,this.services.session.addCommand("editAttributes",{channelSid:this.sid,attributes:(0,d.default)(t)});case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"updateFriendlyName",value:(P=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.friendlyName!==t)return e.next=3,this.services.session.addCommand("editFriendlyName",{channelSid:this.sid,friendlyName:t});e.next=3;break;case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"updateLastConsumedMessageIndex",value:(M=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.default)(t)||null===t){e.next=2;break}throw new Error('Incorrect argument "index": integer number or null expected');case 2:return e.next=4,this._subscribeStreams();case 4:return e.abrupt("return",this.services.consumptionHorizon.updateLastConsumedMessageIndexForChannel(this.sid,t));case 5:case"end":return e.stop()}},e,this)})),function(e){return M.apply(this,arguments)})},{key:"updateUniqueName",value:(O=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.uniqueName!==t)return t=t||"",e.next=4,this.services.session.addCommand("editUniqueName",{channelSid:this.sid,uniqueName:t});e.next=4;break;case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"getUserDescriptors",value:(T=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getChannelUserDescriptors(this.sid));case 1:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"status",get:function(){return this.state.status}},{key:"type",get:function(){return this.state.type}},{key:"uniqueName",get:function(){return this.state.uniqueName}},{key:"isPrivate",get:function(){return"private"===this.state.type}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"createdBy",get:function(){return this.state.createdBy}},{key:"attributes",get:function(){return this.state.attributes}},{key:"lastConsumedMessageIndex",get:function(){return this.state.lastConsumedMessageIndex}},{key:"lastMessage",get:function(){return this.state.lastMessage}},{key:"notificationLevel",get:function(){return this.state.notificationLevel}}],[{key:"preprocessUpdate",value:function(t,n){try{"string"==typeof t.attributes?t.attributes=JSON.parse(t.attributes):t.attributes&&(0,d.default)(t.attributes)}catch(e){x.warn("Retrieved malformed attributes from the server for channel: "+n),t.attributes={}}try{t.dateCreated&&(t.dateCreated=new Date(t.dateCreated))}catch(e){x.warn("Retrieved malformed dateCreated from the server for channel: "+n),delete t.dateCreated}try{t.dateUpdated&&(t.dateUpdated=new Date(t.dateUpdated))}catch(e){x.warn("Retrieved malformed dateUpdated from the server for channel: "+n),delete t.dateUpdated}try{t.lastMessage&&t.lastMessage.timestamp&&(t.lastMessage.timestamp=new Date(t.lastMessage.timestamp))}catch(e){x.warn("Retrieved malformed lastMessage.timestamp from the server for channel: "+n),delete t.lastMessage.timestamp}}}]),te);function te(e,t,n){(0,m.default)(this,te);var r=(0,v.default)(this,(te.__proto__||(0,h.default)(te)).call(this)),i=t.attributes||{},a=t.createdBy,o=S(t.dateCreated),s=S(t.dateUpdated),u=t.friendlyName||null,c=(0,p.default)(t.lastConsumedMessageIndex)?t.lastConsumedMessageIndex:null,l=t.uniqueName||null;try{(0,d.default)(i)}catch(e){throw new Error("Attributes must be a valid JSON object.")}return r.services=e,r.sid=n,r.entityName=t.channel,r.state={uniqueName:l,status:"known",type:t.type,attributes:i,createdBy:a,dateCreated:o,dateUpdated:s,friendlyName:u,lastConsumedMessageIndex:c},t.notificationLevel&&(r.state.notificationLevel=t.notificationLevel),r.members=new f.default,r.membersEntity=new g.Members(r,r.services,r.members),r.membersEntity.on("memberJoined",r.emit.bind(r,"memberJoined")),r.membersEntity.on("memberLeft",r.emit.bind(r,"memberLeft")),r.membersEntity.on("memberUpdated",function(e){return r.emit("memberUpdated",e)}),r.messagesEntity=new w.Messages(r,e),r.messagesEntity.on("messageAdded",function(e){return r._onMessageAdded(e)}),r.messagesEntity.on("messageUpdated",function(e){return r.emit("messageUpdated",e)}),r.messagesEntity.on("messageRemoved",r.emit.bind(r,"messageRemoved")),r}t.Channel=ee},function(e,t,n){"use strict";function o(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var s=n(20).f,u=n(60),c=n(91),l=n(28),f=n(88),d=n(62),r=n(87),i=n(113),a=n(121),p=n(22),h=n(93).fastKey,m=n(96),v=p?"_s":"size";e.exports={getConstructor:function(e,a,n,r){var i=e(function(e,t){f(e,i,a,"_i"),e._t=a,e._i=u(null),e._f=void 0,e._l=void 0,e[v]=0,null!=t&&d(t,n,e[r],e)});return c(i.prototype,{clear:function(){for(var e=m(this,a),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var t=m(this,a),n=o(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[v]--}return!!n},forEach:function(e){m(this,a);for(var t,n=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(m(this,a),e)}}),p&&s(i.prototype,"size",{get:function(){return m(this,a)[v]}}),i},def:function(e,t,n){var r,i,a=o(e,t);return a?a.v=n:(e._l=a={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[v]++,"F"!==i&&(e._i[i]=a)),e},getEntry:o,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=m(e,n),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?i(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,i(1))},t?"entries":"values",!t,!0),a(n)}}},function(e,t,n){"use strict";var f=n(14),d=n(12),p=n(93),h=n(30),m=n(29),v=n(91),y=n(62),g=n(88),b=n(17),w=n(61),k=n(20).f,x=n(226)(0),_=n(22);e.exports=function(n,e,t,r,i,a){var o=f[n],s=o,u=i?"set":"add",c=s&&s.prototype,l={};return _&&"function"==typeof s&&(a||c.forEach&&!h(function(){(new s).entries().next()}))?(s=e(function(e,t){g(e,s,n,"_c"),e._c=new o,null!=t&&y(t,i,e[u],e)}),x("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(r){var i="add"==r||"set"==r;r in c&&(!a||"clear"!=r)&&m(s.prototype,r,function(e,t){if(g(this,s,r),!i&&a&&!b(e))return"get"==r&&void 0;var n=this._c[r](0===e?0:e,t);return i?this:n})}),a||k(s.prototype,"size",{get:function(){return this._c.size}})):(s=r.getConstructor(e,n,i,u),v(s.prototype,t),p.NEED=!0),w(s,n),l[n]=s,d(d.G+d.W+d.F,l),a||r.setStrong(s,n,i),s}},function(e,t,n){var r=n(74),i=n(230);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(12);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(12),o=n(40),s=n(28),u=n(62);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,i,a=arguments[1];return o(this),(t=void 0!==a)&&o(a),null==e?new this:(n=[],t?(r=0,i=s(a,arguments[2],2),u(e,!1,function(e){n.push(i(e,r++))})):u(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(233),__esModule:!0}},function(e,t,n){"use strict";var r=d(n(43)),i=d(n(13)),a=d(n(15)),o=d(n(140)),s=d(n(23)),u=d(n(7)),c=d(n(8)),l=d(n(24)),f=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p,h,m,v,y,g=n(10),b=n(26),w=n(19).Logger.scope("Member"),k=(p=g.EventEmitter,(0,f.default)(x,p),(0,c.default)(x,[{key:"_startTyping",value:function(e){var t=this;return clearTimeout(this.state.typingTimeout),this.state.isTyping=!0,this.emit("typingStarted",this),this.channel.emit("typingStarted",this),this.state.typingTimeout=setTimeout(function(){return t._endTyping()},e),this}},{key:"_endTyping",value:function(){this.state.typingTimeout&&(this.state.isTyping=!1,this.emit("typingEnded",this),this.channel.emit("typingEnded",this),clearInterval(this.state.typingTimeout),this.state.typingTimeout=null)}},{key:"_update",value:function(e){var t=[],n=b.parseAttributes(e.attributes,"Retrieved malformed attributes from the server for member: "+this.state.sid,w);e.attributes&&!b.isDeepEqual(this.state.attributes,n)&&(this.state.attributes=n,t.push("attributes"));var r=b.parseTime(e.dateUpdated);e.dateUpdated&&r.getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=r,t.push("dateUpdated"));var i=b.parseTime(e.dateCreated);if(e.dateCreated&&i.getTime()!==(this.state.dateCreated&&this.state.dateCreated.getTime())&&(this.state.dateCreated=i,t.push("dateCreated")),e.roleSid&&this.state.roleSid!==e.roleSid&&(this.state.roleSid=e.roleSid,t.push("roleSid")),!(0,o.default)(e.lastConsumedMessageIndex)&&null!==e.lastConsumedMessageIndex||this.state.lastConsumedMessageIndex===e.lastConsumedMessageIndex||(this.state.lastConsumedMessageIndex=e.lastConsumedMessageIndex,t.push("lastConsumedMessageIndex")),e.lastConsumptionTimestamp){var a=new Date(e.lastConsumptionTimestamp);this.state.lastConsumptionTimestamp&&this.state.lastConsumptionTimestamp.getTime()===a.getTime()||(this.state.lastConsumptionTimestamp=a,t.push("lastConsumptionTimestamp"))}return 0<t.length&&this.emit("updated",{member:this,updateReasons:t}),this}},{key:"getUserDescriptor",value:(y=(0,a.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"!=this.type)throw new Error("Getting User Descriptor is not supported for this Member type: "+this.type);e.next=2;break;case 2:return e.abrupt("return",this.services.users.getUserDescriptor(this.state.identity));case 3:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"getUser",value:(v=(0,a.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"!=this.type)throw new Error("Getting User is not supported for this Member type: "+this.type);e.next=2;break;case 2:return e.abrupt("return",this.services.users.getUser(this.state.identity,this.state.userInfo));case 3:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"remove",value:(m=(0,a.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.channel.removeMember(this));case 1:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"updateAttributes",value:(h=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t)throw new Error("Attributes is required parameter");e.next=4;break;case 4:if(null===t)throw new Error("Attributes can't be null");e.next=8;break;case 8:if(t.constructor!==Object)throw new Error("Attributes must be a valid JSON object");e.next=10;break;case 10:return e.next=12,this.services.session.addCommand("editMemberAttributes",{channelSid:this.channel.sid,memberSid:this.sid,attributes:(0,r.default)(t)});case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sid",get:function(){return this.state.sid}},{key:"attributes",get:function(){return this.state.attributes}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"identity",get:function(){return this.state.identity}},{key:"isTyping",get:function(){return this.state.isTyping}},{key:"lastConsumedMessageIndex",get:function(){return this.state.lastConsumedMessageIndex}},{key:"lastConsumptionTimestamp",get:function(){return this.state.lastConsumptionTimestamp}},{key:"roleSid",get:function(){return this.state.roleSid}},{key:"type",get:function(){return this.state.type}}]),x);function x(e,t,n,r){(0,u.default)(this,x);var i=(0,l.default)(this,(x.__proto__||(0,s.default)(x)).call(this));if(i.channel=t,i.services=e,i.state={attributes:b.parseAttributes(n.attributes,"Retrieved malformed attributes from the server for member: "+r,w),dateCreated:n.dateCreated?b.parseTime(n.dateCreated):null,dateUpdated:n.dateCreated?b.parseTime(n.dateUpdated):null,sid:r,typingTimeout:null,isTyping:!1,identity:n.identity||null,roleSid:n.roleSid||null,lastConsumedMessageIndex:(0,o.default)(n.lastConsumedMessageIndex)?n.lastConsumedMessageIndex:null,lastConsumptionTimestamp:n.lastConsumptionTimestamp?b.parseTime(n.lastConsumptionTimestamp):null,type:n.type||"chat",userInfo:n.userInfo},!n.identity&&!n.type)throw new Error("Received invalid Member object from server: Missing identity or type of Member.");return i}t.Member=k},function(e,t,n){"use strict";var r=n(7),i=r&&r.__esModule?r:{default:r};Object.defineProperty(t,"__esModule",{value:!0});function a(){(0,i.default)(this,a)}(t.NotificationTypes=a).TYPING_INDICATOR="twilio.ipmsg.typing_indicator",a.NEW_MESSAGE="twilio.channel.new_message",a.ADDED_TO_CHANNEL="twilio.channel.added_to_channel",a.INVITED_TO_CHANNEL="twilio.channel.invited_to_channel",a.REMOVED_FROM_CHANNEL="twilio.channel.removed_from_channel",a.CONSUMPTION_UPDATE="twilio.channel.consumption_update"},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var s=n(45);function o(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}).length}function u(e){var t=Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("").replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(t)}function c(e){return JSON.parse(u(e))}var a=(i(l,null,[{key:"parse",value:function(t){var e=new Uint8Array(t),n=function(e){for(var t="",n=0;n<e.length;++n){var r=String.fromCharCode(e[n]);if(t+=r,"\r"===r){n+=2;break}}var i=t.split(" ");return{size:n,protocol:i[0],version:i[1],headerSize:Number(i[2])}}(e);if("TWILSOCK"===n.protocol&&"V3.0"===n.version){var r=null;try{r=c(e.subarray(n.size,n.size+n.headerSize))}catch(e){return void s.log.error("failed to parse message header",e,t)}s.log.debug("message received: ",r.method),s.log.trace("message received: ",r);var i=null;if(0<r.payload_size){var a=2+n.size+n.headerSize,o=r.payload_size;if(r.hasOwnProperty("payload_type")&&0!==r.payload_type.indexOf("application/json"))0===r.payload_type.indexOf("text/plain")&&(i=u(e.subarray(a,a+o)));else try{i=c(e.subarray(a,a+o))}catch(e){return void s.log.error("failed to parse message body",e,t)}}return{method:r.method,header:r,payload:i}}s.log.error("unsupported protocol: ".concat(n.protocol," ver ").concat(n.version))}},{key:"createPacket",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";e.payload_size=o(t);var n,r,i=JSON.stringify(e)+"\r\n",a="TWILSOCK V3.0 "+(o(i)-2)+"\r\n";return s.log.debug("send request:",a+i+t),(n=encodeURIComponent(a+i+t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),r=new Uint8Array(n.length),Array.prototype.forEach.call(n,function(e,t){r[t]=e.charCodeAt(0)}),r).buffer}}]),l);function l(){r(this,l)}t.Parser=a},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(47).TwilsockError,o(c,s),c);function c(e,t){var n;return r(this,c),(n=i(this,a(c).call(this,e))).reply=t,n}t.TwilsockReplyError=u},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(278);t.Notifications=r.Client},function(e,t,n){"use strict";var u=n(150),c=n(11),r=n(4),i=n(3),a=n(5),o=n(285),s=n(1),l=n(2);Object.defineProperty(t,"__esModule",{value:!0});var f=n(10),d=n(101),p=(l(h,[{key:"clone",value:function(){return new h(this.token,this.notificationId,new Set(this.messageTypes))}}]),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Set;s(this,h),this.token=e,this.notificationId=t,this.messageTypes=n}function m(e,t){var n,r,i=new Set;return e.notificationId!==t.notificationId&&i.add("notificationId"),e.token!==t.token&&i.add("token"),0<(n=e.messageTypes,r=t.messageTypes,[].concat(o(o(n).filter(function(e){return!r.has(e)})),o(o(r).filter(function(e){return!n.has(e)})))).length&&i.add("messageType"),[0<i.size,i]}t.RegistrationState=p;var v,y=(v=f.EventEmitter,a(g,v),l(g,[{key:"subscribe",value:function(t){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.desiredState.messageTypes.has(t))return d.log.debug("message type already registered ",t),e.abrupt("return");e.next=3;break;case 3:return this.desiredState.messageTypes.add(t),e.next=6,c.awrap(this.persistRegistration());case 6:case"end":return e.stop()}},null,this)}},{key:"unsubscribe",value:function(t){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.desiredState.messageTypes.has(t)){e.next=2;break}return e.abrupt("return");case 2:return this.desiredState.messageTypes.delete(t),e.next=5,c.awrap(this.persistRegistration());case 5:case"end":return e.stop()}},null,this)}},{key:"updateToken",value:function(e){this.desiredState.token=e,this.persistRegistration()}},{key:"persistRegistration",value:function(){var t,n,r,i,a,o,s=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.token&&0!==this.config.token.length){e.next=3;break}return d.log.trace("Can't persist registration: token is not set"),e.abrupt("return");case 3:if(this.hasActiveAttempt)return d.log.trace("One registration attempt is already in progress"),e.abrupt("return");e.next=6;break;case 6:if(t=m(this.desiredState,this.currentState),n=u(t,2),r=n[0],i=n[1],r){e.next=9;break}return e.abrupt("return");case 9:if(this.currentState.notificationId||i.delete("notificationId"),d.log.trace("Persisting registration",i,this.desiredState),e.prev=11,this.hasActiveAttempt=!0,0<(a=this.desiredState.clone()).messageTypes.size)return e.next=17,c.awrap(this.updateRegistration(a,i));e.next=24;break;case 17:o=e.sent,this.currentState.token=o.token,this.currentState.notificationId=o.notificationId,this.currentState.messageTypes=o.messageTypes,this.emit("stateChanged","registered"),e.next=30;break;case 24:return e.next=26,c.awrap(this.removeRegistration());case 26:this.currentState.token=a.token,this.currentState.notificationId=a.notificationId,this.currentState.messageTypes.clear(),this.emit("stateChanged","unregistered");case 30:return e.prev=30,this.hasActiveAttempt=!1,setTimeout(function(){return s.persistRegistration()},0),e.finish(30);case 34:case"end":return e.stop()}},null,this,[[11,,30,34]])}},{key:"setNotificationId",value:function(e){this.desiredState.notificationId=e,this.persistRegistration()}}]),g);function g(e){var t;return s(this,g),(t=r(this,i(g).call(this))).config=e,t.desiredState=new p,t.currentState=new p,t.hasActiveAttempt=!1,t}t.Connector=y},function(e,t,n){var r=n(282),i=n(283),a=n(284);e.exports=function(e,t){return r(e)||i(e,t)||a()}},function(e,t,n){"use strict";var r=n(44),i=n(54),o=n(11),a=n(1),s=n(2),u=n(4),c=n(3),l=n(5);Object.defineProperty(t,"__esModule",{value:!0});var f,d=n(33),p=n(64),h=n(34),m=n(65),v=n(102),y=n(66),g=(f=m.SyncEntity,l(b,f),s(b,[{key:"_update",value:function(e){switch(e.date_created=new Date(e.date_created),e.type){case"document_updated":e.id>this.lastEventId?(this.descriptor.last_event_id=e.id,this.descriptor.revision=e.document_revision,this.descriptor.date_updated=e.date_created,this.descriptor.data=e.document_data,this.broadcastEventToListeners("updated",{value:e.document_data,isLocal:!1}),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.id,revision:e.document_revision,date_updated:e.date_created,data:e.document_data})):h.default.trace("Document update skipped, current:",this.lastEventId,", remote:",e.id);break;case"document_removed":this.onRemoved(!1)}}},{key:"set",value:function(t,n){var r,i=this;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},p.validateOptionalTtl(r.ttl),e.abrupt("return",this.updateMergingQueue.squashAndAdd(r,function(e){return i._setUnconditionally(t,e.ttl)}));case 3:case"end":return e.stop()}},null,this)}},{key:"mutate",value:function(t,n){var r,i=this;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},p.validateOptionalTtl(r.ttl),e.abrupt("return",this.updateMergingQueue.add(r,function(e){return i._setWithIfMatch(t,e.ttl)}));case 3:case"end":return e.stop()}},null,this)}},{key:"update",value:function(t,n){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(function(e){return Object.assign(e,t)},n));case 1:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){var n;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return p.validateMandatoryTtl(t),e.next=3,o.awrap(this._postUpdateToServer({ttl:t}));case 3:n=e.sent,this.descriptor.date_expires=n.date_expires;case 5:case"end":return e.stop()}},null,this)}},{key:"_setUnconditionally",value:function(t,n){var r;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.awrap(this._postUpdateToServer({data:t,revision:void 0,ttl:n}));case 2:return r=e.sent,this._handleSuccessfulUpdateResult(r),e.abrupt("return",this.value);case 5:case"end":return e.stop()}},null,this)}},{key:"_setWithIfMatch",value:function(t,n){var r,i,a;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t(p.deepClone(this.value)))return i=this.revision,e.prev=3,e.next=6,o.awrap(this._postUpdateToServer({data:r,revision:i,ttl:n}));e.next=22;break;case 6:return a=e.sent,this._handleSuccessfulUpdateResult(a),e.abrupt("return",this.value);case 11:if(e.prev=11,e.t0=e.catch(3),412===e.t0.status)return e.next=16,o.awrap(this._softSync());e.next=19;break;case 16:return e.abrupt("return",this._setWithIfMatch(t));case 19:throw e.t0;case 20:e.next=23;break;case 22:return e.abrupt("return",this.value);case 23:case"end":return e.stop()}},null,this,[[3,11]])}},{key:"_handleSuccessfulUpdateResult",value:function(e){e.last_event_id>this.descriptor.last_event_id&&(this.descriptor.revision=e.revision,this.descriptor.data=e.data,this.descriptor.last_event_id=e.last_event_id,this.descriptor.date_expires=e.date_expires,this.descriptor.date_updated=new Date(e.date_updated),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.last_event_id,revision:e.revision,date_updated:e.date_updated,data:e.data}),this.broadcastEventToListeners("updated",{value:this.value,isLocal:!0}))}},{key:"_postUpdateToServer",value:function(t){var n,r,i;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=17;break}return n={data:t.data},"number"==typeof t.ttl&&(n.ttl=t.ttl),r=t.revision,e.prev=4,e.next=7,o.awrap(this.services.network.post(this.uri,n,r));case 7:return i=e.sent,e.abrupt("return",{revision:i.body.revision,data:t.data,last_event_id:i.body.last_event_id,date_updated:i.body.date_updated,date_expires:i.body.date_expires});case 11:throw e.prev=11,e.t0=e.catch(4),404===e.t0.status&&this.onRemoved(!1),e.t0;case 15:e.next=18;break;case 17:return e.abrupt("return",Promise.reject(new d.SyncError("The Document has been removed",404,54100)));case 18:case"end":return e.stop()}},null,this,[[4,11]])}},{key:"_softSync",value:function(){var n=this;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.network.get(this.uri).then(function(e){var t={type:"document_updated",id:e.body.last_event_id,document_revision:e.body.revision,document_data:e.body.data,date_created:e.body.date_updated};return n._update(t),n}).catch(function(e){404===e.status?n.onRemoved(!1):h.default.error("Can't get updates for ".concat(n.sid,":"),e)}));case 1:case"end":return e.stop()}},null,this)}},{key:"onRemoved",value:function(e){this.isDeleted||(this.isDeleted=!0,this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e}))}},{key:"removeDocument",value:function(){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=6;break}return e.next=3,o.awrap(this.services.network.delete(this.uri));case 3:this.onRemoved(!0),e.next=7;break;case 6:return e.abrupt("return",Promise.reject(new d.SyncError("The Document has been removed",404,54100)));case 7:case"end":return e.stop()}},null,this)}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"document"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"value",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"document"}}]),b);function b(e,t,n){var r;return a(this,b),(r=u(this,c(b).call(this,e,n))).isDeleted=!1,r.updateMergingQueue=new v.MergingQueue(function(e,t){return"number"==typeof t.ttl?{ttl:t.ttl}:e}),r.descriptor=t,r.descriptor.data=r.descriptor.data||{},r.descriptor.date_updated=new Date(r.descriptor.date_updated),r}t.SyncDocumentImpl=g;var w,k=(w=y.default,l(x,w),s(x,[{key:"set",value:function(t,n){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.set(t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"mutate",value:function(t,n){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.mutate(t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"update",value:function(t,n){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.update(t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.setTtl(t));case 2:case"end":return e.stop()}},null,this)}},{key:"removeDocument",value:function(){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.removeDocument());case 2:case"end":return e.stop()}},null,this)}},{key:"close",value:function(){i(c(x.prototype),"close",this).call(this),this.syncDocumentImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncDocumentImpl.uri}},{key:"revision",get:function(){return this.syncDocumentImpl.revision}},{key:"lastEventId",get:function(){return this.syncDocumentImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncDocumentImpl.dateExpires}},{key:"type",get:function(){return g.type}},{key:"sid",get:function(){return this.syncDocumentImpl.sid}},{key:"value",get:function(){return this.syncDocumentImpl.value}},{key:"dateUpdated",get:function(){return this.syncDocumentImpl.dateUpdated}},{key:"uniqueName",get:function(){return this.syncDocumentImpl.uniqueName}}],[{key:"type",get:function(){return g.type}}]),x);function x(e){var t;return a(this,x),(t=u(this,c(x).call(this))).syncDocumentImpl=e,t.syncDocumentImpl.attach(r(t)),t}t.SyncDocument=k,t.default=k},function(e,t,n){"use strict";var r=n(44),i=n(54),u=n(11),a=n(1),o=n(2),s=n(4),c=n(3),l=n(5);Object.defineProperty(t,"__esModule",{value:!0});var f,d=n(64),p=n(77),h=n(33),m=n(34),v=n(65),y=n(153),g=n(154),b=n(155),w=n(102),k=n(66),x=(f=v.SyncEntity,l(_,f),o(_,[{key:"_addOrUpdateItemOnServer",value:function(t,n,r,i){var a,o;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:n},"number"==typeof i&&(a.ttl=i),e.next=4,u.awrap(this.services.network.post(t,a,r));case 4:return(o=e.sent).body.data=n,o.body.date_updated=new Date(o.body.date_updated),e.abrupt("return",o.body);case 8:case"end":return e.stop()}},null,this)}},{key:"push",value:function(t,n){var r,i,a;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).ttl,d.validateOptionalTtl(r),e.next=4,u.awrap(this._addOrUpdateItemOnServer(this.links.items,t,void 0,r));case 4:return i=e.sent,a=Number(i.index),this._handleItemMutated(a,i.url,i.last_event_id,i.revision,t,i.date_updated,i.date_expires,!0,!1),e.abrupt("return",this.cache.get(a));case 8:case"end":return e.stop()}},null,this)}},{key:"set",value:function(t,n,r){var i,a=this;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},d.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,function(e){return a._updateItemUnconditionally(t,n,e.ttl)}));case 3:case"end":return e.stop()}},null,this)}},{key:"_updateItemUnconditionally",value:function(t,n,r){var i,a;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.awrap(this.get(t));case 2:return i=e.sent,e.next=5,u.awrap(this._addOrUpdateItemOnServer(i.uri,n,void 0,r));case 5:return a=e.sent,this._handleItemMutated(t,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 8:case"end":return e.stop()}},null,this)}},{key:"_updateItemWithIfMatch",value:function(t,n,r){var i,a,o,s;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.awrap(this.get(t));case 2:if(i=e.sent,a=n(d.deepClone(i.value)))return o=i.revision,e.prev=6,e.next=9,u.awrap(this._addOrUpdateItemOnServer(i.uri,a,o,r));e.next=25;break;case 9:return s=e.sent,this._handleItemMutated(t,s.url,s.last_event_id,s.revision,s.data,s.date_updated,s.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 14:if(e.prev=14,e.t0=e.catch(6),412===e.t0.status)return e.next=19,u.awrap(this._getItemFromServer(t));e.next=22;break;case 19:return e.abrupt("return",this._updateItemWithIfMatch(t,n,r));case 22:throw e.t0;case 23:e.next=26;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}},null,this,[[6,14]])}},{key:"mutate",value:function(t,n,r){var i,a=this;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},d.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.add(t,i,function(e){return a._updateItemWithIfMatch(t,n,e.ttl)}));case 3:case"end":return e.stop()}},null,this)}},{key:"update",value:function(t,n,r){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,function(e){return Object.assign(e,n)},r));case 1:case"end":return e.stop()}},null,this)}},{key:"remove",value:function(t){var n,r;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.awrap(this.get(t));case 2:return n=e.sent,e.next=5,u.awrap(this.services.network.delete(n.uri));case 5:r=e.sent,this._handleItemRemoved(t,r.body.last_event_id,void 0,new Date(r.body.date_updated),!1);case 7:case"end":return e.stop()}},null,this)}},{key:"get",value:function(t){var n;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.cache.get(t))return e.abrupt("return",n);e.next=5;break;case 5:return e.abrupt("return",this._getItemFromServer(t));case 6:case"end":return e.stop()}},null,this)}},{key:"_getItemFromServer",value:function(t){var n;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.awrap(this.queryItems({index:t}));case 2:if((n=e.sent).items.length<1)throw new h.SyncError("No item with index ".concat(t," found"),404,54151);e.next=7;break;case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}},null,this)}},{key:"queryItems",value:function(t){var n,r,i,a,o=this;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new p.UriBuilder(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Index",t.index).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,u.awrap(this.services.network.get(n));case 4:return r=e.sent,i=r.body.items.map(function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.index)?o._handleItemMutated(e.index,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(Number(e.index),new y.ListItem({index:Number(e.index),uri:e.url,revision:e.revision,lastEventId:e.last_event_id,dateUpdated:e.date_updated,dateExpires:e.date_expires,value:e.data}),e.last_event_id),o.cache.get(e.index)}),a=r.body.meta,e.abrupt("return",new g.Paginator(i,function(e){return o.queryItems({pageToken:e})},a.previous_token,a.next_token));case 8:case"end":return e.stop()}},null,this)}},{key:"getItems",value:function(t){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},d.validatePageSize(t.pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}},null,this)}},{key:"getContext",value:function(){var t;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,u.awrap(this.services.network.get(this.links.context));case 3:t=e.sent,this._updateContextIfRequired(t.body.data,t.body.last_event_id);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){var n,r;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return d.validateMandatoryTtl(t),e.prev=1,n={ttl:t},e.next=5,u.awrap(this.services.network.post(this.uri,n));case 5:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),404===e.t0.status&&this.onRemoved(!1),e.t0;case 13:case"end":return e.stop()}},null,this,[[1,9]])}},{key:"setItemTtl",value:function(t,n){var r,i,a;return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return d.validateMandatoryTtl(n),e.next=3,u.awrap(this.get(t));case 3:return r=e.sent,i={ttl:n},e.next=7,u.awrap(this.services.network.post(r.uri,i));case 7:a=e.sent,r.updateDateExpires(a.body.date_expires);case 9:case"end":return e.stop()}},null,this)}},{key:"removeList",value:function(){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.awrap(this.services.network.delete(this.uri));case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},null,this)}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){var n=Number(e.item_index);switch(e.date_created=new Date(e.date_created),e.type){case"list_item_added":case"list_item_updated":this._handleItemMutated(n,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"list_item_added"===e.type,!0);break;case"list_item_removed":this._handleItemRemoved(n,e.id,e.item_data,e.date_created,!0);break;case"list_context_updated":this._handleContextUpdate(e.context_data,e.id,e.date_created);break;case"list_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.list_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))m.default.trace("Item ",e," update skipped, current:",this.lastEventId,", remote:",n);else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(c)c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1);else{var l=new y.ListItem({index:e,uri:t,lastEventId:n,revision:r,value:i,dateUpdated:a,dateExpires:o});this.cache.store(e,l,n),this.emitItemMutationEvent(l,u,s)}}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=n?"itemAdded":"itemUpdated";this.broadcastEventToListeners(r,{item:e,isLocal:!t})}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{index:e,isLocal:!i,value:n})}},{key:"_handleContextUpdate",value:function(e,t,n){this._updateRootDateUpdated(n),this._updateContextIfRequired(e,t)&&this.broadcastEventToListeners("contextUpdated",{context:e,isLocal:!1})}},{key:"_updateContextIfRequired",value:function(e,t){return!this.contextEventId||t>this.contextEventId?(this.context=e,this.contextEventId=t,!0):(m.default.trace("Context update skipped, current:",this.lastEventId,", remote:",t),!1)}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"list"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}}],[{key:"type",get:function(){return"list"}}]),_);function _(e,t,n){var r;return a(this,_),(r=s(this,c(_).call(this,e,n))).updateMergingQueue=new w.NamespacedMergingQueue(function(e,t){return"number"==typeof t.ttl?{ttl:t.ttl}:e}),r.cache=new b.Cache,r.descriptor=t,r.descriptor.date_updated=new Date(r.descriptor.date_updated),r}t.SyncListImpl=x;var S,E=(S=k.default,l(C,S),o(C,[{key:"push",value:function(t,n){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.push(t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"set",value:function(t,n,r){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.set(t,n,r));case 2:case"end":return e.stop()}},null,this)}},{key:"mutate",value:function(t,n,r){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.mutate(t,n,r));case 2:case"end":return e.stop()}},null,this)}},{key:"update",value:function(t,n,r){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.update(t,n,r));case 2:case"end":return e.stop()}},null,this)}},{key:"remove",value:function(t){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.remove(t));case 2:case"end":return e.stop()}},null,this)}},{key:"get",value:function(t){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.get(t));case 2:case"end":return e.stop()}},null,this)}},{key:"getContext",value:function(){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getContext());case 2:case"end":return e.stop()}},null,this)}},{key:"getItems",value:function(t){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getItems(t));case 2:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setTtl(t));case 2:case"end":return e.stop()}},null,this)}},{key:"setItemTtl",value:function(t,n){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"removeList",value:function(){return u.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.removeList());case 2:case"end":return e.stop()}},null,this)}},{key:"close",value:function(){i(c(C.prototype),"close",this).call(this),this.syncListImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncListImpl.uri}},{key:"revision",get:function(){return this.syncListImpl.revision}},{key:"lastEventId",get:function(){return this.syncListImpl.lastEventId}},{key:"links",get:function(){return this.syncListImpl.links}},{key:"dateExpires",get:function(){return this.syncListImpl.dateExpires}},{key:"type",get:function(){return x.type}},{key:"sid",get:function(){return this.syncListImpl.sid}},{key:"uniqueName",get:function(){return this.syncListImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncListImpl.dateUpdated}}],[{key:"type",get:function(){return x.type}}]),C);function C(e){var t;return a(this,C),(t=s(this,c(C).call(this))).syncListImpl=e,t.syncListImpl.attach(r(t)),t}t.SyncList=E,t.default=E},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"update",value:function(e,t,n,r){return this.data.lastEventId=e,this.data.revision=t,this.data.value=n,this.data.dateUpdated=r,this}},{key:"updateDateExpires",value:function(e){this.data.dateExpires=e}},{key:"uri",get:function(){return this.data.uri}},{key:"revision",get:function(){return this.data.revision}},{key:"lastEventId",get:function(){return this.data.lastEventId}},{key:"dateUpdated",get:function(){return this.data.dateUpdated}},{key:"dateExpires",get:function(){return this.data.dateExpires}},{key:"index",get:function(){return this.data.index}},{key:"value",get:function(){return this.data.value}}]),o);function o(e){r(this,o),this.data=e}t.ListItem=a,t.default=a},function(e,t,n){"use strict";var r=n(11),i=n(1),a=n(2);Object.defineProperty(t,"__esModule",{value:!0});var o=(a(s,[{key:"nextPage",value:function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasNextPage){e.next=2;break}throw new Error("No next page");case 2:return e.abrupt("return",this.source(this.nextToken));case 3:case"end":return e.stop()}},null,this)}},{key:"prevPage",value:function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPrevPage){e.next=2;break}throw new Error("No previous page");case 2:return e.abrupt("return",this.source(this.prevToken));case 3:case"end":return e.stop()}},null,this)}},{key:"hasNextPage",get:function(){return!!this.nextToken}},{key:"hasPrevPage",get:function(){return!!this.prevToken}}]),s);function s(e,t,n,r){i(this,s),this.prevToken=n,this.nextToken=r,this.items=e,this.source=t}t.Paginator=o},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(296),o=(i(f,[{key:"isValid",get:function(){return!0}}]),f),s=(i(l,[{key:"isValid",get:function(){return!1}}]),l),u=(i(c,[{key:"store",value:function(e,t,n){var r=this.items.get(e);return r&&r.revision>n?r.isValid?r.value:null:(this.items.set(e,new o(t,n)),t)}},{key:"delete",value:function(e,t){var n=this.items.get(e);(!n||n.revision<t)&&this.items.set(e,new s(t))}},{key:"isKnown",value:function(e,t){var n=this.items.get(e);return n&&n.revision>=t}},{key:"get",value:function(e){var t=this.items.get(e);return t&&t.isValid?t.value:null}},{key:"has",value:function(e){var t=this.items.get(e);return t&&t.isValid}}]),c);function c(){r(this,c),this.items=new a.TreeMap}function l(e){r(this,l),this.revision=e}function f(e,t){r(this,f),this.value=e,this.revision=t||0}t.Cache=u,t.default=u},function(e,t,n){"use strict";var r=n(44),i=n(54),l=n(11),a=n(1),o=n(2),s=n(4),u=n(3),c=n(5);Object.defineProperty(t,"__esModule",{value:!0});var f,d=n(64),p=n(77),h=n(33),m=n(34),v=n(65),y=n(157),g=n(154),b=n(155),w=n(102),k=n(66),x=(f=v.SyncEntity,c(_,f),o(_,[{key:"set",value:function(t,n,r){var i,a=this;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},d.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,function(e){return a._putItemUnconditionally(t,n,e.ttl)}));case 3:case"end":return e.stop()}},null,this)}},{key:"get",value:function(t){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cache.has(t))return e.abrupt("return",this.cache.get(t));e.next=4;break;case 4:return e.abrupt("return",this._getItemFromServer(t));case 5:case"end":return e.stop()}},null,this)}},{key:"_getItemFromServer",value:function(t){var n;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.awrap(this.queryItems({key:t}));case 2:if((n=e.sent).items.length<1)throw new h.SyncError("No item with key ".concat(t," found"),404,54201);e.next=7;break;case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}},null,this)}},{key:"mutate",value:function(t,n,r){var i,a=this;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},d.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.add(t,i,function(e){return a._putItemWithIfMatch(t,n,e.ttl)}));case 3:case"end":return e.stop()}},null,this)}},{key:"update",value:function(t,n,r){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,function(e){return Object.assign(e,n)},r));case 1:case"end":return e.stop()}},null,this)}},{key:"_putItemUnconditionally",value:function(t,n,r){var i,a;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.awrap(this._putItemToServer(t,n,void 0,r));case 2:return i=e.sent,a=i.item,this._handleItemMutated(a.key,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,i.added,!1),e.abrupt("return",this.cache.get(a.key));case 6:case"end":return e.stop()}},null,this)}},{key:"_putItemWithIfMatch",value:function(t,n,r){var i,a,o,s,u;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.awrap(this.get(t).catch(function(e){if(404===e.status)return new y.MapItem({key:t,data:{},last_event_id:-1,revision:"-1",url:null,date_updated:null,date_expires:null});throw e}));case 2:if(i=e.sent,a=n(d.deepClone(i.value)))return o=i.revision,e.prev=6,e.next=9,l.awrap(this._putItemToServer(t,a,o,r));e.next=26;break;case 9:return s=e.sent,u=s.item,this._handleItemMutated(u.key,u.url,u.last_event_id,u.revision,u.data,u.date_updated,u.date_expires,s.added,!1),e.abrupt("return",this.cache.get(u.key));case 15:if(e.prev=15,e.t0=e.catch(6),412===e.t0.status)return e.next=20,l.awrap(this._getItemFromServer(t));e.next=23;break;case 20:return e.abrupt("return",this._putItemWithIfMatch(t,n,r));case 23:throw e.t0;case 24:e.next=27;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}},null,this,[[6,15]])}},{key:"_putItemToServer",value:function(t,n,r,i){var a,o,s,u,c;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.UriBuilder(this.links.items).pathSegment(t).build(),o={data:n},"number"==typeof i&&(o.ttl=i),e.prev=3,e.next=6,l.awrap(this.services.network.put(a,o,r));case 6:return s=e.sent,(u=s.body).data=n,u.date_updated=new Date(u.date_updated),c=201===s.status.code,e.abrupt("return",{added:c,item:u});case 14:throw e.prev=14,e.t0=e.catch(3),404===e.t0.status&&this.onRemoved(!1),e.t0;case 18:case"end":return e.stop()}},null,this,[[3,14]])}},{key:"remove",value:function(t){var n,r;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t)throw new Error("Key argument is invalid");e.next=2;break;case 2:return e.next=4,l.awrap(this.get(t));case 4:return n=e.sent,e.next=7,l.awrap(this.services.network.delete(n.uri));case 7:r=e.sent,this._handleItemRemoved(t,r.body.last_event_id,void 0,new Date(r.body.date_updated),!1);case 9:case"end":return e.stop()}},null,this)}},{key:"queryItems",value:function(t){var n,r,i,a,o=this;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new p.UriBuilder(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Key",t.key).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,l.awrap(this.services.network.get(n));case 4:return r=e.sent,i=r.body.items.map(function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.key)?o._handleItemMutated(e.key,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(e.key,new y.MapItem(e),e.last_event_id),o.cache.get(e.key)}),a=r.body.meta,e.abrupt("return",new g.Paginator(i,function(e){return o.queryItems({pageToken:e})},a.previous_token,a.next_token));case 8:case"end":return e.stop()}},null,this)}},{key:"getItems",value:function(t){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},d.validatePageSize(t.pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}},null,this)}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){switch(e.date_created=new Date(e.date_created),e.type){case"map_item_added":case"map_item_updated":this._handleItemMutated(e.item_key,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"map_item_added"===e.type,!0);break;case"map_item_removed":this._handleItemRemoved(e.item_key,e.id,e.item_data,e.date_created,!0);break;case"map_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.map_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))m.default.trace("Item ",e," update skipped, current:",this.lastEventId,", remote:",n);else{this._updateRootDateUpdated(a);var c=this.cache.get(e);c?(c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1)):(c=new y.MapItem({key:e,url:t,last_event_id:n,revision:r,data:i,date_updated:a,date_expires:o}),this.cache.store(e,c,n),this.emitItemMutationEvent(c,u,s))}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=n?"itemAdded":"itemUpdated";this.broadcastEventToListeners(r,{item:e,isLocal:!t})}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{key:e,isLocal:!i,value:n})}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"setTtl",value:function(t){var n,r;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return d.validateMandatoryTtl(t),e.prev=1,n={ttl:t},e.next=5,l.awrap(this.services.network.post(this.uri,n));case 5:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),404===e.t0.status&&this.onRemoved(!1),e.t0;case 13:case"end":return e.stop()}},null,this,[[1,9]])}},{key:"setItemTtl",value:function(t,n){var r,i,a;return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return d.validateMandatoryTtl(n),e.next=3,l.awrap(this.get(t));case 3:return r=e.sent,i={ttl:n},e.next=7,l.awrap(this.services.network.post(r.uri,i));case 7:a=e.sent,r.updateDateExpires(a.body.date_expires);case 9:case"end":return e.stop()}},null,this)}},{key:"removeMap",value:function(){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.awrap(this.services.network.delete(this.uri));case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},null,this)}},{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"map"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}}],[{key:"type",get:function(){return"map"}}]),_);function _(e,t,n){var r;return a(this,_),(r=s(this,u(_).call(this,e,n))).updateMergingQueue=new w.NamespacedMergingQueue(function(e,t){return"number"==typeof t.ttl?{ttl:t.ttl}:e}),r.cache=new b.Cache,r.descriptor=t,r.descriptor.date_updated=new Date(r.descriptor.date_updated),t.items&&t.items.forEach(function(e){e.date_updated=new Date(e.date_updated),r.cache.store(e.key,new y.MapItem(e),e.last_event_id)}),r}t.SyncMapImpl=x;var S,E=(S=k.Closeable,c(C,S),o(C,[{key:"set",value:function(t,n,r){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.set(t,n,r));case 2:case"end":return e.stop()}},null,this)}},{key:"get",value:function(t){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.get(t));case 2:case"end":return e.stop()}},null,this)}},{key:"mutate",value:function(t,n,r){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.mutate(t,n,r));case 2:case"end":return e.stop()}},null,this)}},{key:"update",value:function(t,n,r){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.update(t,n,r));case 2:case"end":return e.stop()}},null,this)}},{key:"remove",value:function(t){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.remove(t));case 2:case"end":return e.stop()}},null,this)}},{key:"getItems",value:function(t){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.getItems(t));case 2:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setTtl(t));case 2:case"end":return e.stop()}},null,this)}},{key:"setItemTtl",value:function(t,n){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"removeMap",value:function(){return l.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.next=3,l.awrap(this.syncMapImpl.removeMap());case 3:case"end":return e.stop()}},null,this)}},{key:"close",value:function(){i(u(C.prototype),"close",this).call(this),this.syncMapImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncMapImpl.uri}},{key:"links",get:function(){return this.syncMapImpl.links}},{key:"revision",get:function(){return this.syncMapImpl.revision}},{key:"lastEventId",get:function(){return this.syncMapImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncMapImpl.dateExpires}},{key:"type",get:function(){return x.type}},{key:"sid",get:function(){return this.syncMapImpl.sid}},{key:"uniqueName",get:function(){return this.syncMapImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncMapImpl.dateUpdated}}],[{key:"type",get:function(){return x.type}}]),C);function C(e){var t;return a(this,C),(t=s(this,u(C).call(this))).syncMapImpl=e,t.syncMapImpl.attach(r(t)),t}t.SyncMap=E,t.default=E},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"update",value:function(e,t,n,r){return this.descriptor.last_event_id=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.date_updated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.date_expires=e}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"key",get:function(){return this.descriptor.key}},{key:"value",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}}]),o);function o(e){r(this,o),this.descriptor=e}t.MapItem=a},function(e,t,n){"use strict";var r=n(44),i=n(54),s=n(11),a=n(2),o=n(4),u=n(3),c=n(5),l=n(1);Object.defineProperty(t,"__esModule",{value:!0});var f=n(77),d=n(33),p=n(34),h=n(10),m=n(65),v=n(66);t.InsightsItem=function e(){l(this,e)};var y,g=(y=m.SyncEntity,c(b,y),a(b,[{key:"onRemoved",value:function(){}},{key:"getItems",value:function(){var n=this,r={};return this.items&&Object.keys(this.items).map(function(e,t){r[e]=n.items[e].value}),r}},{key:"_update",value:function(e){var t=e.item_key,n=e.item_revision;switch(e.type){case"live_query_item_updated":var r=this.items[t];if(!r||n>r.revision){var i={key:t,revision:n,value:e.item_data};this.items[t]=i,this.broadcastEventToListeners("itemUpdated",i)}break;case"live_query_item_removed":delete this.items[t],this.broadcastEventToListeners("itemRemoved",{key:t})}}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return null}},{key:"type",get:function(){return b.type}},{key:"lastEventId",get:function(){return null}},{key:"indexName",get:function(){return this.descriptor.indexName}},{key:"queryString",get:function(){return this.descriptor.queryExpression}},{key:"queryUri",get:function(){return this.descriptor.queryUri}},{key:"liveQueryDescriptor",get:function(){return this.descriptor}},{key:"network",get:function(){return this.services.network}}],[{key:"type",get:function(){return"live_query"}}]),b);function b(e,t,n,r){var i;return l(this,b),(i=o(this,u(b).call(this,t,n))).descriptor=e,i.items=k(r),i}function w(t){var n,r,i,a,o;return s.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.network,r=t.queryString,i=t.uri,null==r)throw new d.SyncError("Invalid query",400,54507);e.next=3;break;case 3:return a={query_string:r},e.next=6,s.awrap(n.post(i,a,void 0,!0));case 6:return o=e.sent,e.abrupt("return",o.body);case 8:case"end":return e.stop()}})}function k(e){if(e)return e.reduce(function(e,t){return e[t.key]={key:t.key,value:t.data,revision:t.revision},e},{})}t.LiveQueryImpl=g,t.queryItems=w;var x,_=(x=v.default,c(S,x),a(S,[{key:"close",value:function(){i(u(S.prototype),"close",this).call(this),this.liveQueryImpl.detach(this.listenerUuid)}},{key:"getItems",value:function(){return this.ensureNotClosed(),this.liveQueryImpl.getItems()}},{key:"type",get:function(){return g.type}},{key:"sid",get:function(){return this.liveQueryImpl.sid}}],[{key:"type",get:function(){return g.type}}]),S);function S(e){var t;return l(this,S),(t=o(this,u(S).call(this))).liveQueryImpl=e,t.liveQueryImpl.attach(r(t)),t}t.LiveQuery=_;var E,C=(E=h.EventEmitter,c(T,E),a(T,[{key:"search",value:function(t){var n=this;return s.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w({network:this.network,uri:this.queryUri,queryString:t}).then(function(e){n.queryExpression=t,n.items=k(e.items),n.emit("searchResult",n.getItems())}).catch(function(e){throw p.default.error("Error '".concat(e.message,"' while executing query '").concat(t,"'")),n.queryExpression=null,n.items=null,e}));case 1:case"end":return e.stop()}},null,this)}},{key:"subscribe",value:function(){return s.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.queryExpression)return e.abrupt("return",Promise.reject(new d.SyncError("Invalid query",400,54507)));e.next=2;break;case 2:return e.abrupt("return",this.liveQueryCreator(this.indexName,this.queryExpression));case 3:case"end":return e.stop()}},null,this)}},{key:"getItems",value:function(){var n=this,r={};return this.items&&Object.keys(this.items).map(function(e,t){r[e]=n.items[e].value}),r}},{key:"updateIndexName",value:function(e){if(!e||"string"!=typeof e)throw new Error("Index name must contain a non-empty string value");this.indexName=e,this.queryUri=this.generateQueryUri(this.indexName)}},{key:"generateQueryUri",value:function(e){return new f.UriBuilder(this.insightsUri).pathSegment(e).pathSegment("Items").build()}},{key:"type",get:function(){return T.type}}],[{key:"type",get:function(){return"instant_query"}}]),T);function T(e){var t;return l(this,T),(t=o(this,u(T).call(this))).queryExpression=null,Object.assign(r(t),e),t.updateIndexName(e.indexName),t}t.InstantQuery=C,t.default=_},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(63);function o(e,t){return["".concat((new Date).toISOString()," MCS Client ").concat(e,":")].concat(Array.from(t))}var s=(i(u,[{key:"setLevel",value:function(e){a.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trace.apply(null,o(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,o(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,o(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,o(this.prefix+"E",t))}}],[{key:"scope",value:function(e){return new u(e)}},{key:"setLevel",value:function(e){a.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trace.apply(null,o("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,o("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,o("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,o("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,o("E",t))}}]),u);function u(e){r(this,u),this.prefix="",this.prefix=null!=e&&0<e.length?e+" ":""}t.Logger=s},function(e,t,n){"use strict";var i=n(1),r=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(r(o,[{key:"updateToken",value:function(e){this.token=e}}],[{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"retryWhenThrottledDefault",get:function(){return!0}}]),o);function o(e,t,n){i(this,o);var r=n.MCS||n||{};this.region=r.region||n.region,this.baseUrl=(void 0===this.region?"https://mcs.us1.twilio.com":"https://mcs.".concat(this.region,".twilio.com"))+t,this.token=e,this.retryWhenThrottledOverride=r.retryWhenThrottledOverride,this.backoffConfigOverride=r.backoffConfigOverride}t.Configuration=a},function(e,t,n){"use strict";var r=f(n(128)),i=f(n(127)),a=f(n(129)),o=f(n(312)),s=f(n(23)),u=f(n(7)),c=f(n(24)),l=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,p,h=(p=Error,v.prototype=(0,r.default)(p.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),i.default?(0,i.default)(v,p):v.__proto__=p,d=v,(0,l.default)(m,d),m);function m(e,t){(0,u.default)(this,m);var n=(0,c.default)(this,(m.__proto__||(0,s.default)(m)).call(this));return n.name=n.constructor.name,n.message=e,n.code=t,Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=(new Error).stack,n}function v(){var e=(0,o.default)(p,(0,a.default)(arguments));return(0,i.default)(e,(0,s.default)(this)),e}t.SessionError=h},function(e,t,n){"use strict";var r=o(n(18)),i=o(n(7)),a=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=((0,a.default)(u,[{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}},{key:"promise",get:function(){return this._promise}}]),u);function u(){var n=this;(0,i.default)(this,u),this._promise=new r.default(function(e,t){n._resolve=e,n._reject=t})}t.Deferred=s},function(e){e.exports=JSON.parse('{"_from":"twilio-chat@^3.3.2","_id":"twilio-chat@3.3.3","_inBundle":false,"_integrity":"sha512-qC+UaPLJV7I+ObbOz1BCQkwffdfyG6nqXTXbXry5UJwug0uZb5Re68HSCWQAxE+NcdK+ckOlMs7kxxgwdZxkYA==","_location":"/twilio-chat","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"twilio-chat@^3.3.2","name":"twilio-chat","escapedName":"twilio-chat","rawSpec":"^3.3.2","saveSpec":null,"fetchSpec":"^3.3.2"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/twilio-chat/-/twilio-chat-3.3.3.tgz","_shasum":"3fcad71fafbde76f6540d2ed8be270e2a7a7d13f","_spec":"twilio-chat@^3.3.2","_where":"/Users/aartyushkevich/Documents/Repos/ridecharge/chat_webapp","author":{"name":"Twilio"},"browser":"browser/index.js","browserslist":["IE 11","last 3 Chrome versions","last 3 Firefox versions","last 3 Safari versions","last 3 Edge versions","last 2 iOS version","last 2 ChromeAndroid version","last 2 FirefoxAndroid version","last 2 Samsung versions","last 2 UCAndroid versions"],"bundleDependencies":false,"dependencies":{"iso8601-duration":"^1.2.0","loglevel":"^1.6.6","operation-retrier":"^3.0.0","platform":"^1.3.5","rfc6902":"^3.0.2","twilio-mcs-client":"^0.3.1","twilio-notifications":"^0.5.8","twilio-sync":"^0.11.5","twilsock":"^0.5.11","uuid":"^3.3.2"},"deprecated":false,"description":"Twilio Chat service client library","devDependencies":{"@types/chai":"^4.2.5","@types/chai-as-promised":"^7.1.2","@types/chai-string":"^1.4.1","@types/core-js":"^2.5.0","@types/mocha":"^5.2.7","@types/node":"^12.12.12","@types/sinon":"^7.5.1","@types/sinon-chai":"^3.2.2","async":"^3.0.1","async-test-tools":"^1.0.7","babel-core":"^6.26.0","babel-plugin-transform-builtin-extend":"^1.1.2","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-runtime":"^6.26.0","babelify":"^8.0.0","backoff":"^2.5.0","browserify":"^16.2.3","browserify-replace":"^1.0.0","browserslist":"^4.7.3","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-string":"^1.5.0","cheerio":"^1.0.0-rc.2","cross-env":"^5.2.0","del":"^5.1.0","fancy-log":"^1.3.3","fs":"0.0.2","gulp":"^4.0.2","gulp-babel":"^7.0.1","gulp-derequire":"^2.1.0","gulp-if":"^2.0.2","gulp-insert":"^0.5.0","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.5","gulp-tap":"^1.0.1","gulp-tslint":"^8.1.4","gulp-typescript":"^5.0.1","gulp-uglify-es":"^1.0.4","ink-docstrap":"^1.3.2","isomorphic-form-data":"^2.0.0","jsdoc":"~3.5.5","jsdoc-strip-async-await":"^0.1.0","mocha":"^6.2.2","mocha.parallel":"^0.15.6","nyc":"^14.1.1","path":"^0.12.7","sinon":"^7.5.0","sinon-chai":"^3.3.0","source-map-explorer":"^2.1.1","ts-node":"^8.5.2","tslint":"^5.20.1","twilio":"^3.37.1","typescript":"^3.7.2","uglify-save-license":"^0.4.1","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},"engines":{"node":">=6"},"license":"MIT","main":"lib/index.js","name":"twilio-chat","types":"./lib/client.d.ts","version":"3.3.3"}')},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}},,function(e,t,n){"use strict";var l=n(106),r="function"==typeof Symbol&&Symbol.for,f=r?Symbol.for("react.element"):60103,c=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var h=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function k(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var _=x.prototype=new k;_.constructor=x,l(_,w.prototype),_.isPureReactComponent=!0;var S={current:null},E={current:null},C=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:f,type:e,key:a,ref:o,props:i,_owner:E.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var P=/\/+/g,I=[];function D(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,I.length<10&&I.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var o=!1;if(null===t)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case f:case c:o=!0}}if(o)return r(i,t,""===n?"."+L(t,0):n),1;if(o=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var u=n+L(a=t[s],s);o+=e(a,u,r,i)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=v&&t[v]||t["@@iterator"])?u:null))for(t=u.call(t),s=0;!(a=t.next()).done;)o+=e(a=a.value,u=n+L(a,s++),r,i);else if("object"===a)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return o}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function R(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r,i,a=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,a,n,function(e){return e}):null!=e&&(M(e)&&(i=o+(!(r=e).key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n,e={$$typeof:f,type:r.type,key:i,ref:r.ref,props:r.props,_owner:r._owner}),a.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(P,"$&/")+"/"),N(e,j,t=D(t,a,r,i)),A(t)}function U(){var e=S.current;if(null===e)throw Error(y(321));return e}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,R,t=D(null,null,t,n)),A(t)},count:function(e){return N(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){if(!M(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:w,PureComponent:x,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:i,Profiler:o,StrictMode:a,Suspense:p,createElement:O,cloneElement:function(e,t,n){if(null==e)throw Error(y(267,e));var r=l({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)C.call(t,u)&&!T.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:f,type:e.type,key:i,ref:a,props:r,_owner:o}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:l}};e.exports=B.default||B},function(e,t,n){"use strict";var i=n(0),m=n(106),a=n(168);function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(N(227));var c=null,l={};function o(){if(c)for(var e in l){var t=l[e],n=c.indexOf(e);if(!(-1<n))throw Error(N(96,e));if(!d[n]){if(!t.extractEvents)throw Error(N(97,e));for(var r in n=(d[n]=t).eventTypes){var i=void 0,a=n[r],o=t,s=r;if(p.hasOwnProperty(s))throw Error(N(99,s));var u=(p[s]=a).phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&f(u[i],o,s);i=!0}else i=!!a.registrationName&&(f(a.registrationName,o,s),!0);if(!i)throw Error(N(98,r,e))}}}}function f(e,t,n){if(v[e])throw Error(N(100,e));v[e]=t,s[e]=t.eventTypes[n].dependencies}var d=[],p={},v={},s={};var h=!1,y=null,g=!1,b=null,w={onError:function(e){h=!0,y=e}};function k(e,t,n,r,i,a,o,s,u){h=!1,y=null,function(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(w,arguments)}var u=null,r=null,x=null;function _(e,t,n){var r=e.type||"unknown-event";e.currentTarget=x(n),function(e,t,n,r,i,a,o,s,u){if(k.apply(this,arguments),h){if(!h)throw Error(N(198));var c=y;h=!1,y=null,g||(g=!0,b=c)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){if(null==t)throw Error(N(30));return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function T(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)_(e,t[r],n[r]);else t&&_(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){if(null!==e&&(C=S(C,e)),e=C,C=null,e){if(E(e,T),C)throw Error(N(95));if(g)throw e=b,g=!1,b=null,e}}var M={injectEventPluginOrder:function(e){if(c)throw Error(N(101));c=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw Error(N(102,t));l[t]=r,n=!0}}n&&o()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=u(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(N(231,t,typeof n));return n}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;I.hasOwnProperty("ReactCurrentDispatcher")||(I.ReactCurrentDispatcher={current:null}),I.hasOwnProperty("ReactCurrentBatchConfig")||(I.ReactCurrentBatchConfig={suspense:null});var D=/^(.*)[\\\/]/,A="function"==typeof Symbol&&Symbol.for,L=A?Symbol.for("react.element"):60103,R=A?Symbol.for("react.portal"):60106,j=A?Symbol.for("react.fragment"):60107,F=A?Symbol.for("react.strict_mode"):60108,U=A?Symbol.for("react.profiler"):60114,B=A?Symbol.for("react.provider"):60109,z=A?Symbol.for("react.context"):60110,q=A?Symbol.for("react.concurrent_mode"):60111,W=A?Symbol.for("react.forward_ref"):60112,H=A?Symbol.for("react.suspense"):60113,V=A?Symbol.for("react.suspense_list"):60120,Y=A?Symbol.for("react.memo"):60115,G=A?Symbol.for("react.lazy"):60116;A&&Symbol.for("react.fundamental"),A&&Symbol.for("react.responder"),A&&Symbol.for("react.scope");var $="function"==typeof Symbol&&Symbol.iterator;function J(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case j:return"Fragment";case R:return"Portal";case U:return"Profiler";case F:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case z:return"Context.Consumer";case B:return"Context.Provider";case W:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Y:return Q(e.type);case G:if(e=1===e._status?e._result:null)return Q(e)}return null}function K(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=Q(e.type);n=null,r&&(n=Q(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(D,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var X=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Z=null,ee=null,te=null;function ne(e){if(e=r(e)){if("function"!=typeof Z)throw Error(N(280));var t=u(e.stateNode);Z(e.stateNode,e.type,t)}}function re(e){ee?te?te.push(e):te=[e]:ee=e}function ie(){if(ee){var e=ee,t=te;if(te=ee=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function ae(e,t){return e(t)}function oe(e,t,n,r){return e(t,n,r)}function se(){}var ue=ae,ce=!1,le=!1;function fe(){null===ee&&null===te||(se(),ie())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,he={},me={};function ve(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new ve(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new ve(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new ve(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new ve(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ye[e]=new ve(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ye[e]=new ve(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ye[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)});var ge=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e,r,t,n){var i,a=ye.hasOwnProperty(r)?ye[r]:null;(null!==a?0!==a.type:n||!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&(function(e,t,n){if(null==e||function(e,t,n,r){if(null!==n&&0===n.type)return 0;switch(typeof t){case"function":case"symbol":return 1;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return 0}}(r,e,t,n))return!0;if(n)return!1;if(null!==t)switch(t.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||e<1}return!1}(t,a,n)&&(t=null),n||null===a?(i=r,(pe.call(me,i)||!pe.call(he,i)&&(de.test(i)?me[i]=!0:(he[i]=!0,0)))&&(null===t?e.removeAttribute(r):e.setAttribute(r,""+t))):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(r=a.attributeName,n=a.attributeNamespace,null===t?e.removeAttribute(r):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,n?e.setAttributeNS(n,r,t):e.setAttribute(r,t))))}function xe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return m({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&ke(e,"checked",t,!1)}function Oe(e,t){Te(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=m({children:void 0},t),n=t.children,r="",i.Children.forEach(n,function(e){null!=e&&(r+=e)}),(t=r)&&(e.children=t),e;var n,r}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(N(91));return m({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(N(92));if(Array.isArray(t)){if(!(t.length<=1))throw Error(N(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:we(n)}}function Le(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ge,be);ye[t]=new ve(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ge,be);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ge,be);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)}),ye.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)});var je={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,ze,qe=(ze=function(e,t){if(e.namespaceURI!==je.svg||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ze(e,t)})}:ze);function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},Ye={},Ge={};function $e(e){if(Ye[e])return Ye[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ye[e]=n[t];return e}X&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Je=$e("animationend"),Qe=$e("animationiteration"),Ke=$e("animationstart"),Xe=$e("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(N(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null!==a){if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}else{if(null===(r=i.return))break;n=r}}if(3!==n.tag)throw Error(N(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,at,ot,st=!1,ut=[],ct=null,lt=null,ft=null,dt=new Map,pt=new Map,ht=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),vt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function yt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function gt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ft=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function bt(e,t,n,r,i){return null===e||e.nativeEvent!==i?(e=yt(t,n,r,i),null!==t&&null!==(t=fr(t))&&at(t)):e.eventSystemFlags|=r,e}function wt(e){var t=lr(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,function(){ot(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kt(e){if(null!==e.blockedOn)return!1;var t=Mn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null===t)return!0;var n=fr(t);return null!==n&&at(n),e.blockedOn=t,!1}function xt(e,t,n){kt(e)&&n.delete(t)}function _t(){for(st=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=fr(e.blockedOn))&&it(e);break}var t=Mn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&kt(ct)&&(ct=null),null!==lt&&kt(lt)&&(lt=null),null!==ft&&kt(ft)&&(ft=null),dt.forEach(xt),pt.forEach(xt)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_t)))}function Et(t){function e(e){return St(e,t)}if(0<ut.length){St(ut[0],t);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ct&&St(ct,t),null!==lt&&St(lt,t),null!==ft&&St(ft,t),dt.forEach(e),pt.forEach(e),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===t&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)wt(n),null===n.blockedOn&&ht.shift()}function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function Ot(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function Mt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tt(t);for(t=n.length;0<t--;)Ot(n[t],"captured",e);for(t=0;t<n.length;t++)Ot(n[t],"bubbled",e)}}function Pt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function It(e){e&&e.dispatchConfig.registrationName&&Pt(e._targetInst,null,e)}function Dt(e){E(e,Mt)}function At(){return!0}function Nt(){return!1}function Lt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?At:Nt,this.isPropagationStopped=Nt,this}function Rt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function jt(e){if(!(e instanceof this))throw Error(N(279));e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function Ft(e){e.eventPool=[],e.getPooled=Rt,e.release=jt}m(Lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:Nt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Nt,this._dispatchInstances=this._dispatchListeners=null}}),Lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Lt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return m(i,n.prototype),((n.prototype=i).constructor=n).Interface=m({},r.Interface,e),n.extend=r.extend,Ft(n),n},Ft(Lt);var Ut=Lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Bt=Lt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zt=Lt.extend({view:null,detail:null}),qt=zt.extend({relatedTarget:null});function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ht={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Yt[e])&&!!t[e]}function $t(){return Gt}for(var Jt=zt.extend({key:function(e){if(e.key){var t=Ht[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Vt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:$t,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,Kt=0,Xt=!1,Zt=!1,en=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$t,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Xt?"mousemove"===e.type?e.screenX-t:0:(Xt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Kt;return Kt=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$t}),an=Lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),on=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Je,"animationEnd",2],[Qe,"animationIteration",2],[Ke,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Xe,"transitionEnd",2],["waiting","waiting",2]],un={},cn={},ln=0;ln<sn.length;ln++){var fn=sn[ln],dn=fn[0],pn=fn[1],hn=fn[2],mn="on"+(pn[0].toUpperCase()+pn.slice(1)),vn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[dn],eventPriority:hn};un[pn]=vn,cn[dn]=vn}var yn={eventTypes:un,getEventPriority:function(e){return void 0!==(e=cn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=cn[e];if(!i)return null;switch(e){case"keypress":if(0===Wt(n))return null;case"keydown":case"keyup":e=Jt;break;case"blur":case"focus":e=qt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Je:case Qe:case Ke:e=Ut;break;case Xe:e=an;break;case"scroll":e=zt;break;case"wheel":e=on;break;case"copy":case"cut":case"paste":e=Bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Lt}return Dt(t=e.getPooled(i,t,n,r)),t}},gn=a.unstable_UserBlockingPriority,bn=a.unstable_runWithPriority,wn=yn.getEventPriority,kn=10,xn=[];function _n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ct(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=e.eventSystemFlags,s=null,u=0;u<d.length;u++){var c=d[u];(c=c&&c.extractEvents(r,t,a,i,o))&&(s=S(s,c))}O(s)}}var Sn=!0;function En(e,t){Cn(t,e,!1)}function Cn(e,t,n){switch(wn(t)){case 0:var r=function(e,t,n){ce||se();var r=On,i=ce;ce=!0;try{oe(r,e,t,n)}finally{(ce=i)||fe()}}.bind(null,t,1);break;case 1:r=function(e,t,n){bn(gn,On.bind(null,e,t,n))}.bind(null,t,1);break;default:r=On.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Tn(e,t,n,r){if(xn.length){var i=xn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=_n,n=e,le)t(n,void 0);else{le=!0;try{ue(t,n,void 0)}finally{le=!1,fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,xn.length<kn&&xn.push(e)}}function On(e,t,n){if(Sn)if(0<ut.length&&-1<mt.indexOf(e))e=yt(null,e,t,n),ut.push(e);else{var r=Mn(e,t,n);null===r?gt(e,n):-1<mt.indexOf(e)?(e=yt(r,e,t,n),ut.push(e)):function(e,t,n,r){switch(t){case"focus":return ct=bt(ct,e,t,n,r),1;case"dragenter":return lt=bt(lt,e,t,n,r),1;case"mouseover":return ft=bt(ft,e,t,n,r),1;case"pointerover":var i=r.pointerId;return dt.set(i,bt(dt.get(i)||null,e,t,n,r)),1;case"gotpointercapture":return i=r.pointerId,pt.set(i,bt(pt.get(i)||null,e,t,n,r)),1}return 0}(r,e,t,n)||(gt(e,n),Tn(e,t,n,null))}}function Mn(e,t,n){var r=Ct(n);if(null!==(r=lr(r))){var i=et(r);if(null===i)r=null;else{var a=i.tag;if(13===a){if(null!==(r=tt(i)))return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Tn(e,t,n,r),null}function Pn(e){if(!X)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var In=new("function"==typeof WeakMap?WeakMap:Map);function Dn(e){var t=In.get(e);return void 0===t&&(t=new Set,In.set(e,t)),t}function An(e,t,n){if(!n.has(e)){switch(e){case"scroll":Cn(t,"scroll",!0);break;case"focus":case"blur":Cn(t,"focus",!0),Cn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Pn(e)&&Cn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&En(e,t)}n.add(e)}}var Nn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];function Rn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function jn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Rn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Nn).forEach(function(t){Ln.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nn[e]=Nn[t]})});var Fn=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(e,t){if(t){if(Fn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(N(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(N(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(N(62,""))}}function Bn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zn(e,t){var n=Dn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=s[t];for(var r=0;r<t.length;r++)An(t[r],e,n)}function qn(){}function Wn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vn(e,t){var n,r=Hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hn(r)}}function Yn(){for(var e=window,t=Wn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Wn((e=t.contentWindow).document)}return t}function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n="$",Jn="/$",Qn="$?",Kn="$!",Xn=null,Zn=null;function er(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function tr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"==typeof setTimeout?setTimeout:void 0,rr="function"==typeof clearTimeout?clearTimeout:void 0;function ir(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function ar(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===$n||n===Kn||n===Qn){if(0===t)return e;t--}else n===Jn&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),sr="__reactInternalInstance$"+or,ur="__reactEventHandlers$"+or,cr="__reactContainere$"+or;function lr(e){var t=e[sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cr]||n[sr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ar(e);null!==e;){if(n=e[sr])return n;e=ar(e)}return t}n=(e=n).parentNode}return null}function fr(e){return!(e=e[sr]||e[cr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function dr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(N(33))}function pr(e){return e[ur]||null}var hr=null,mr=null,vr=null;function yr(){if(vr)return vr;var e,t,n=mr,r=n.length,i="value"in hr?hr.value:hr.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return vr=i.slice(e,1<t?1-t:void 0)}var gr=Lt.extend({data:null}),br=Lt.extend({data:null}),wr=[9,13,27,32],kr=X&&"CompositionEvent"in window,xr=null;X&&"documentMode"in document&&(xr=document.documentMode);var _r=X&&"TextEvent"in window&&!xr,Sr=X&&(!kr||xr&&8<xr&&xr<=11),Er=String.fromCharCode(32),Cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tr=!1;function Or(e,t){switch(e){case"keyup":return-1!==wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Mr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pr=!1,Ir={eventTypes:Cr,extractEvents:function(e,t,n,r){var i;if(kr)e:{switch(e){case"compositionstart":var a=Cr.compositionStart;break e;case"compositionend":a=Cr.compositionEnd;break e;case"compositionupdate":a=Cr.compositionUpdate;break e}a=void 0}else Pr?Or(e,n)&&(a=Cr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Cr.compositionStart);return i=a?(Sr&&"ko"!==n.locale&&(Pr||a!==Cr.compositionStart?a===Cr.compositionEnd&&Pr&&(i=yr()):(mr="value"in(hr=r)?hr.value:hr.textContent,Pr=!0)),a=gr.getPooled(a,t,n,r),i?a.data=i:null!==(i=Mr(n))&&(a.data=i),Dt(a),a):null,(e=_r?function(e,t){switch(e){case"compositionend":return Mr(t);case"keypress":return 32!==t.which?null:(Tr=!0,Er);case"textInput":return(e=t.data)===Er&&Tr?null:e;default:return null}}(e,n):function(e,t){if(Pr)return"compositionend"===e||!kr&&Or(e,t)?(e=yr(),vr=mr=hr=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=br.getPooled(Cr.beforeInput,t,n,r)).data=e,Dt(t)):t=null,null===i?t:null===t?i:[i,t]}},Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dr[e.type]:"textarea"===t}var Nr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Lr(e,t,n){return(e=Lt.getPooled(Nr.change,e,t,n)).type="change",re(n),Dt(e),e}var Rr=null,jr=null;function Fr(e){O(e)}function Ur(e){if(Se(dr(e)))return e}function Br(e,t){if("change"===e)return t}var zr=!1;function qr(){Rr&&(Rr.detachEvent("onpropertychange",Wr),jr=Rr=null)}function Wr(e){if("value"===e.propertyName&&Ur(jr))if(e=Lr(jr,e,Ct(e)),ce)O(e);else{ce=!0;try{ae(Fr,e)}finally{ce=!1,fe()}}}function Hr(e,t,n){"focus"===e?(qr(),jr=n,(Rr=t).attachEvent("onpropertychange",Wr)):"blur"===e&&qr()}function Vr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ur(jr)}function Yr(e,t){if("click"===e)return Ur(t)}function Gr(e,t){if("input"===e||"change"===e)return Ur(t)}X&&(zr=Pn("input")&&(!document.documentMode||9<document.documentMode));var $r,Jr={eventTypes:Nr,_isInputEventSupported:zr,extractEvents:function(e,t,n,r){var i=t?dr(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Br;else if(Ar(i))if(zr)o=Gr;else{o=Vr;var s=Hr}else!(a=i.nodeName)||"input"!==a.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=Yr);if(o=o&&o(e,t))return Lr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pe(i,"number",i.value)}},Qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Kr={eventTypes:Qr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?lr(t):null)&&(t!==(a=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):o=null,o===t)return null;if("mouseout"===e||"mouseover"===e)var s=en,u=Qr.mouseLeave,c=Qr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=tn,u=Qr.pointerLeave,c=Qr.pointerEnter,l="pointer");if(e=null==o?i:dr(o),i=null==t?i:dr(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=i,(r=s.getPooled(c,t,n,r)).type=l+"enter",r.target=i,r.relatedTarget=e,l=t,(s=o)&&l)e:{for(e=l,o=0,t=c=s;t;t=Tt(t))o++;for(t=0,i=e;i;i=Tt(i))t++;for(;0<o-t;)c=Tt(c),o--;for(;0<t-o;)e=Tt(e),t--;for(;o--;){if(c===e||c===e.alternate)break e;c=Tt(c),e=Tt(e)}c=null}else c=null;for(e=c,c=[];s&&s!==e&&(null===(o=s.alternate)||o!==e);)c.push(s),s=Tt(s);for(s=[];l&&l!==e&&(null===(o=l.alternate)||o!==e);)s.push(l),l=Tt(l);for(l=0;l<c.length;l++)Pt(c[l],"bubbled",u);for(l=s.length;0<l--;)Pt(s[l],"captured",r);return n===$r?($r=null,[u]):($r=n,[u,r])}},Xr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Zr=Object.prototype.hasOwnProperty;function ei(e,t){if(Xr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zr.call(t,n[r])||!Xr(e[n[r]],t[n[r]]))return!1;return!0}var ti=X&&"documentMode"in document&&document.documentMode<=11,ni={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ri=null,ii=null,ai=null,oi=!1;function si(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return oi||null==ri||ri!==Wn(n)?null:(n="selectionStart"in(n=ri)&&Gn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ai&&ei(ai,n)?null:(ai=n,(e=Lt.getPooled(ni.select,ii,e,t)).type="select",e.target=ri,Dt(e),e))}var ui={eventTypes:ni,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Dn(a),i=s.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?dr(t):window,e){case"focus":!Ar(a)&&"true"!==a.contentEditable||(ri=a,ii=t,ai=null);break;case"blur":ai=ii=ri=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":return oi=!1,si(n,r);case"selectionchange":if(ti)break;case"keydown":case"keyup":return si(n,r)}return null}};M.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),u=pr,r=fr,x=dr,M.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:Kr,ChangeEventPlugin:Jr,SelectEventPlugin:ui,BeforeInputEventPlugin:Ir}),new Set;var ci=[],li=-1;function fi(e){li<0||(e.current=ci[li],ci[li]=null,li--)}function di(e,t){ci[++li]=e.current,e.current=t}var pi={},hi={current:pi},mi={current:!1},vi=pi;function yi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bi(){fi(mi),fi(hi)}function wi(){fi(mi),fi(hi)}function ki(e,t,n){if(hi.current!==pi)throw Error(N(168));di(hi,t),di(mi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(N(108,Q(t)||"Unknown",i));return m({},n,{},r)}function _i(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||pi,vi=hi.current,di(hi,t),di(mi,mi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(t=xi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=t,fi(mi),fi(hi),di(hi,t)):fi(mi),di(mi,n)}var Ei=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Oi=a.unstable_shouldYield,Mi=a.unstable_requestPaint,Pi=a.unstable_now,Ii=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,Ni=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,ji={},Fi=void 0!==Mi?Mi:function(){},Ui=null,Bi=null,zi=!1,qi=Pi(),Wi=qi<1e4?Pi:function(){return Pi()-qi};function Hi(){switch(Ii()){case Di:return 99;case Ai:return 98;case Ni:return 97;case Li:return 96;case Ri:return 95;default:throw Error(N(332))}}function Vi(e){switch(e){case 99:return Di;case 98:return Ai;case 97:return Ni;case 96:return Li;case 95:return Ri;default:throw Error(N(332))}}function Yi(e,t){return e=Vi(e),Ei(e,t)}function Gi(e,t,n){return e=Vi(e),Ci(e,t,n)}function $i(e){return null===Ui?(Ui=[e],Bi=Ci(Di,Qi)):Ui.push(e),ji}function Ji(){if(null!==Bi){var e=Bi;Bi=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==Ui){zi=!0;var t=0;try{var n=Ui;Yi(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),Ui=null}catch(e){throw null!==Ui&&(Ui=Ui.slice(t+1)),Ci(Di,Ji),e}finally{zi=!1}}}var Ki=3;function Xi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Zi(e,t){if(e&&e.defaultProps)for(var n in t=m({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ea={current:null},ta=null,na=null,ra=null;function ia(){ra=na=ta=null}function aa(e,t){var n=e.type._context;di(ea,n._currentValue),n._currentValue=t}function oa(e){var t=ea.current;fi(ea),e.type._context._currentValue=t}function sa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ua(e,t){ra=na=null,null!==(e=(ta=e).dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wo=!0),e.firstContext=null)}function ca(e,t){if(ra!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ra=e,t=1073741823),t={context:e,observedBits:t,next:null},null===na){if(null===ta)throw Error(N(308));na=t,ta.dependencies={expirationTime:0,firstContext:t,responders:null}}else na=na.next=t;return e._currentValue}var la=!1;function fa(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function da(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function pa(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ha(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function ma(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=fa(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=fa(e.memoizedState),i=n.updateQueue=fa(n.memoizedState)):r=e.updateQueue=da(i):null===i&&(i=n.updateQueue=da(r));null===i||r===i?ha(r,t):null===r.lastUpdate||null===i.lastUpdate?(ha(r,t),ha(i,t)):(ha(r,t),i.lastUpdate=t)}function va(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=fa(e.memoizedState):ya(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ya(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=da(t)),t}function ga(e,t,n,r,i,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,i):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(i="function"==typeof(e=n.payload)?e.call(a,r,i):e)||void 0===i)break;return m({},r,i);case 2:la=!0}return r}function ba(e,t,n,r,i){la=!1;for(var a=(t=ya(e,t)).baseState,o=null,s=0,u=t.firstUpdate,c=a;null!==u;){var l=u.expirationTime;l<i?(null===o&&(o=u,a=c),s<l&&(s=l)):(Su(l,u.suspenseConfig),c=ga(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,(u.nextEffect=null)===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===o&&(a=c)),s<f&&(s=f)):(c=ga(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,(u.nextEffect=null)===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===o&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===l&&(a=c),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=l,Eu(s),e.expirationTime=s,e.memoizedState=c}function wa(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ka(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ka(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ka(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(N(191,n));n.call(r)}e=e.nextEffect}}var xa=I.ReactCurrentBatchConfig,_a=(new i.Component).refs;function Sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Ea={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=du(),i=xa.suspense;(i=pa(r=pu(r,e,i),i)).payload=t,null!=n&&(i.callback=n),ma(e,i),hu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=du(),i=xa.suspense;(i=pa(r=pu(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),ma(e,i),hu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=du(),r=xa.suspense;(r=pa(n=pu(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ma(e,r),hu(e,n)}};function Ca(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&ei(n,r)&&ei(i,a))}function Ta(e,t,n){var r=!1,i=pi,a=t.contextType;return t=new t(n,a="object"==typeof a&&null!==a?ca(a):(i=gi(t)?vi:hi.current,(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):pi)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ea,(e.stateNode=t)._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ea.enqueueReplaceState(t,t.state,null)}function Ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_a;var a=t.contextType;"object"==typeof a&&null!==a?i.context=ca(a):(a=gi(t)?vi:hi.current,i.context=yi(e,a)),null!==(a=e.updateQueue)&&(ba(e,a,n,i,r),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(Sa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ea.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(ba(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Pa=Array.isArray;function Ia(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===_a&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Da(e,t){if("textarea"!==e.type)throw Error(N(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Aa(f){function d(e,t){if(f){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function p(e,t){if(!f)return null;for(;null!==t;)d(e,t),t=t.sibling;return null}function h(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,f?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function s(e){return f&&null===e.alternate&&(e.effectTag=2),e}function a(e,t,n,r){return null===t||6!==t.tag?(t=Yu(n,e.mode,r)).return=e:(t=o(t,n)).return=e,t}function u(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props)).ref=Ia(e,t,n):(r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=Ia(e,t,n),r.return=e,r}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Gu(n,e.mode,r)).return=e:(t=o(t,n.children||[])).return=e,t}function l(e,t,n,r,i){return null===t||7!==t.tag?(t=Vu(n,e.mode,r,i)).return=e:(t=o(t,n)).return=e,t}function v(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case L:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=Ia(e,null,t),n.return=e,n;case R:return(t=Gu(t,e.mode,n)).return=e,t}if(Pa(t)||J(t))return(t=Vu(t,e.mode,n,null)).return=e,t;Da(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case L:return n.key===i?n.type===j?l(e,t,n.props.children,r,i):u(e,t,n,r):null;case R:return n.key===i?c(e,t,n,r):null}if(Pa(n)||J(n))return null!==i?null:l(e,t,n,r,null);Da(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case L:return e=e.get(null===r.key?n:r.key)||null,r.type===j?l(t,e,r.props.children,i,r.key):u(t,e,r,i);case R:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Pa(r)||J(r))return l(t,e=e.get(n)||null,r,i,null);Da(t,r)}return null}return function(e,t,n,r){var i="object"==typeof n&&null!==n&&n.type===j&&null===n.key;i&&(n=n.props.children);var a="object"==typeof n&&null!==n;if(a)switch(n.$$typeof){case L:e:{for(a=n.key,i=t;null!==i;){if(i.key===a){if(7===i.tag?n.type===j:i.elementType===n.type){p(e,i.sibling),(t=o(i,n.type===j?n.props.children:n.props)).ref=Ia(e,i,n),t.return=e,e=t;break e}p(e,i);break}d(e,i),i=i.sibling}e=n.type===j?((t=Vu(n.props.children,e.mode,r,n.key)).return=e,t):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=Ia(e,t,n),r.return=e,r)}return s(e);case R:e:{for(i=n.key;null!==t;){if(t.key===i){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){p(e,t.sibling),(t=o(t,n.children||[])).return=e,e=t;break e}p(e,t);break}d(e,t),t=t.sibling}(t=Gu(n,e.mode,r)).return=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(e=(null!==t&&6===t.tag?(p(e,t.sibling),(t=o(t,n)).return=e):(p(e,t),(t=Yu(n,e.mode,r)).return=e),t));if(Pa(n))return function(t,e,n,r){for(var i=null,a=null,o=e,s=e=0,u=null;null!==o&&s<n.length;s++){o.index>s?(u=o,o=null):u=o.sibling;var c=y(t,o,n[s],r);if(null===c){null===o&&(o=u);break}f&&o&&null===c.alternate&&d(t,o),e=m(c,e,s),null===a?i=c:a.sibling=c,a=c,o=u}if(s===n.length)return p(t,o),i;if(null===o){for(;s<n.length;s++)null!==(o=v(t,n[s],r))&&(e=m(o,e,s),null===a?i=o:a.sibling=o,a=o);return i}for(o=h(t,o);s<n.length;s++)null!==(u=g(o,t,s,n[s],r))&&(f&&null!==u.alternate&&o.delete(null===u.key?s:u.key),e=m(u,e,s),null===a?i=u:a.sibling=u,a=u);return f&&o.forEach(function(e){return d(t,e)}),i}(e,t,n,r);if(J(n))return function(t,e,n,r){var i=J(n);if("function"!=typeof i)throw Error(N(150));if(null==(n=i.call(n)))throw Error(N(151));for(var a=i=null,o=e,s=e=0,u=null,c=n.next();null!==o&&!c.done;s++,c=n.next()){o.index>s?(u=o,o=null):u=o.sibling;var l=y(t,o,c.value,r);if(null===l){null===o&&(o=u);break}f&&o&&null===l.alternate&&d(t,o),e=m(l,e,s),null===a?i=l:a.sibling=l,a=l,o=u}if(c.done)return p(t,o),i;if(null===o){for(;!c.done;s++,c=n.next())null!==(c=v(t,c.value,r))&&(e=m(c,e,s),null===a?i=c:a.sibling=c,a=c);return i}for(o=h(t,o);!c.done;s++,c=n.next())null!==(c=g(o,t,s,c.value,r))&&(f&&null!==c.alternate&&o.delete(null===c.key?s:c.key),e=m(c,e,s),null===a?i=c:a.sibling=c,a=c);return f&&o.forEach(function(e){return d(t,e)}),i}(e,t,n,r);if(a&&Da(e,n),void 0===n&&!i)switch(e.tag){case 1:case 0:throw e=e.type,Error(N(152,e.displayName||e.name||"Component"))}return p(e,t)}}var Na=Aa(!0),La=Aa(!1),Ra={},ja={current:Ra},Fa={current:Ra},Ua={current:Ra};function Ba(e){if(e===Ra)throw Error(N(174));return e}function za(e,t){di(Ua,t),di(Fa,e),di(ja,Ra);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}fi(ja),di(ja,t)}function qa(){fi(ja),fi(Fa),fi(Ua)}function Wa(e){Ba(Ua.current);var t=Ba(ja.current),n=Ue(t,e.type);t!==n&&(di(Fa,e),di(ja,n))}function Ha(e){Fa.current===e&&(fi(ja),fi(Fa))}var Va={current:0};function Ya(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Qn||n.data===Kn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ga(e,t){return{responder:e,props:t}}var $a=I.ReactCurrentDispatcher,Ja=I.ReactCurrentBatchConfig,Qa=0,Ka=null,Xa=null,Za=null,eo=null,to=null,no=null,ro=0,io=null,ao=0,oo=!1,so=null,uo=0;function co(){throw Error(N(321))}function lo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,a){if(Qa=a,Ka=t,Za=null!==e?e.memoizedState:null,$a.current=null===Za?Io:Do,t=n(r,i),oo){for(;oo=!1,uo+=1,Za=null!==e?e.memoizedState:null,no=eo,io=to=Xa=null,$a.current=Do,t=n(r,i),oo;);so=null,uo=0}if($a.current=Po,(e=Ka).memoizedState=eo,e.expirationTime=ro,e.updateQueue=io,e.effectTag|=ao,e=null!==Xa&&null!==Xa.next,no=to=eo=Za=Xa=Ka=null,io=null,ao=ro=Qa=0,e)throw Error(N(300));return t}function po(){$a.current=Po,no=to=eo=Za=Xa=Ka=null,oo=!1,so=io=null,uo=ao=ro=Qa=0}function ho(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===to?eo=to=e:to=to.next=e,to}function mo(){if(null!==no)no=(to=no).next,Za=null!==(Xa=Za)?Xa.next:null;else{if(null===Za)throw Error(N(310));var e={memoizedState:(Xa=Za).memoizedState,baseState:Xa.baseState,queue:Xa.queue,baseUpdate:Xa.baseUpdate,next:null};to=null===to?eo=e:to.next=e,Za=Xa.next}return to}function vo(e,t){return"function"==typeof t?t(e):t}function yo(e){var t=mo(),n=t.queue;if(null===n)throw Error(N(311));if(n.lastRenderedReducer=e,0<uo){var r=n.dispatch;if(null!==so){var i=so.get(n);if(void 0!==i){so.delete(n);for(var a=t.memoizedState;a=e(a,i.action),null!==(i=i.next););return Xr(a,t.memoizedState)||(Wo=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),[n.lastRenderedState=a,r]}}return[t.memoizedState,r]}r=n.last;var o=t.baseUpdate;if(a=t.baseState,null!==(r=null!==o?(null!==r&&(r.next=null),o.next):null!==r?r.next:null)){var s=i=null,u=r,c=!1;do{var l=u.expirationTime;l<Qa?(c||(c=!0,s=o,i=a),ro<l&&Eu(ro=l)):(Su(l,u.suspenseConfig),a=u.eagerReducer===e?u.eagerState:e(a,u.action)),u=(o=u).next}while(null!==u&&u!==r);c||(s=o,i=a),Xr(a,t.memoizedState)||(Wo=!0),t.memoizedState=a,t.baseUpdate=s,t.baseState=i,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function go(e){var t=ho();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e}).dispatch=Mo.bind(null,Ka,e),[t.memoizedState,e]}function bo(e){return yo(vo)}function wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===io?(io={lastEffect:null}).lastEffect=e.next=e:null===(t=io.lastEffect)?io.lastEffect=e.next=e:(n=t.next,(t.next=e).next=n,io.lastEffect=e),e}function ko(e,t,n,r){var i=ho();ao|=e,i.memoizedState=wo(t,n,void 0,void 0===r?null:r)}function xo(e,t,n,r){var i=mo();r=void 0===r?null:r;var a=void 0;if(null!==Xa){var o=Xa.memoizedState;if(a=o.destroy,null!==r&&lo(r,o.deps))return void wo(0,n,a,r)}ao|=e,i.memoizedState=wo(t,n,a,r)}function _o(e,t){return ko(516,192,e,t)}function So(e,t){return xo(516,192,e,t)}function Eo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(){}function To(e,t){return ho().memoizedState=[e,void 0===t?null:t],e}function Oo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&lo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mo(e,t,n){if(!(uo<25))throw Error(N(301));var r=e.alternate;if(e===Ka||null!==r&&r===Ka)if(oo=!0,e={expirationTime:Qa,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===so&&(so=new Map),void 0===(n=so.get(t)))so.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=du(),a=xa.suspense;a={expirationTime:i=pu(i,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)a.next=a;else{var s=o.next;null!==s&&(a.next=s),o.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(a.eagerReducer=r,a.eagerState=c,Xr(c,u))return}catch(e){}hu(e,i)}}var Po={readContext:ca,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useResponder:co,useDeferredValue:co,useTransition:co},Io={readContext:ca,useCallback:To,useContext:ca,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ko(4,36,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,36,e,t)},useMemo:function(e,t){var n=ho();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ho();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Mo.bind(null,Ka,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ho().memoizedState=e},useState:go,useDebugValue:Co,useResponder:Ga,useDeferredValue:function(t,n){var e=go(t),r=e[0],i=e[1];return _o(function(){a.unstable_next(function(){var e=Ja.suspense;Ja.suspense=void 0===n?null:n;try{i(t)}finally{Ja.suspense=e}})},[t,n]),r},useTransition:function(n){var e=go(!1),t=e[0],r=e[1];return[To(function(t){r(!0),a.unstable_next(function(){var e=Ja.suspense;Ja.suspense=void 0===n?null:n;try{r(!1),t()}finally{Ja.suspense=e}})},[n,t]),t]}},Do={readContext:ca,useCallback:Oo,useContext:ca,useEffect:So,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xo(4,36,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,36,e,t)},useMemo:function(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&lo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:yo,useRef:function(){return mo().memoizedState},useState:bo,useDebugValue:Co,useResponder:Ga,useDeferredValue:function(t,n){var e=bo(),r=e[0],i=e[1];return So(function(){a.unstable_next(function(){var e=Ja.suspense;Ja.suspense=void 0===n?null:n;try{i(t)}finally{Ja.suspense=e}})},[t,n]),r},useTransition:function(n){var e=bo(),t=e[0],r=e[1];return[Oo(function(t){r(!0),a.unstable_next(function(){var e=Ja.suspense;Ja.suspense=void 0===n?null:n;try{r(!1),t()}finally{Ja.suspense=e}})},[n,t]),t]}},Ao=null,No=null,Lo=!1;function Ro(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function jo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fo(e){if(Lo){var t=No;if(t){var n=t;if(!jo(e,t)){if(!(t=ir(n.nextSibling))||!jo(e,t))return e.effectTag=-1025&e.effectTag|2,Lo=!1,void(Ao=e);Ro(Ao,n)}Ao=e,No=ir(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Lo=!1,Ao=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ao=e}function Bo(e){if(e!==Ao)return!1;if(!Lo)return Uo(e),!(Lo=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!tr(t,e.memoizedProps))for(t=No;t;)Ro(e,t),t=ir(t.nextSibling);if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Jn){if(0===t){No=ir(e.nextSibling);break e}t--}else n!==$n&&n!==Kn&&n!==Qn||t++}e=e.nextSibling}No=null}}else No=Ao?ir(e.stateNode.nextSibling):null;return!0}function zo(){No=Ao=null,Lo=!1}var qo=I.ReactCurrentOwner,Wo=!1;function Ho(e,t,n,r){t.child=null===e?La(t,null,n,r):Na(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return ua(t,i),r=fo(e,t,n,r,a,i),null===e||Wo?(t.effectTag|=1,Ho(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),us(e,t,i))}function Yo(e,t,n,r,i,a){if(null!==e)return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ei)(i,r)&&e.ref===t.ref)?us(e,t,a):(t.effectTag|=1,(e=Wu(o,r)).ref=t.ref,(e.return=t).child=e);var o=n.type;return"function"!=typeof o||qu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,null,t.mode,a)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=o,Go(e,t,o,r,i,a))}function Go(e,t,n,r,i,a){return null!==e&&ei(e.memoizedProps,r)&&e.ref===t.ref&&(Wo=!1,i<a)?us(e,t,a):Jo(e,t,n,r,a)}function $o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Jo(e,t,n,r,i){var a=gi(n)?vi:hi.current;return a=yi(t,a),ua(t,i),n=fo(e,t,n,r,a,i),null===e||Wo?(t.effectTag|=1,Ho(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),us(e,t,i))}function Qo(e,t,n,r,i){if(gi(n)){var a=!0;_i(t)}else a=!1;if(ua(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ta(t,n,r),Ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;c="object"==typeof c&&null!==c?ca(c):yi(t,c=gi(n)?vi:hi.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s===r&&u===c||Oa(t,o,r,c)),la=!1;var d=t.memoizedState;u=o.state=d;var p=t.updateQueue;null!==p&&(ba(t,p,r,o,i),u=t.memoizedState),r=s!==r||d!==u||mi.current||la?("function"==typeof l&&(Sa(t,n,l,r),u=t.memoizedState),(s=la||Ca(t,n,s,r,d,u,c))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:Zi(t.type,s),u=o.context,c="object"==typeof(c=n.contextType)&&null!==c?ca(c):yi(t,c=gi(n)?vi:hi.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s===r&&u===c||Oa(t,o,r,c)),la=!1,u=t.memoizedState,d=o.state=u,null!==(p=t.updateQueue)&&(ba(t,p,r,o,i),d=t.memoizedState),r=s!==r||u!==d||mi.current||la?("function"==typeof l&&(Sa(t,n,l,r),d=t.memoizedState),(l=la||Ca(t,n,s,r,u,d,c))?(f||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=c,l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),!1);return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){$o(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Si(t,n,!1),us(e,t,a);r=t.stateNode,qo.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,s,a)):Ho(e,t,s,a),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Xo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),za(e,t.containerInfo)}var Zo,es,ts,ns,rs={dehydrated:null,retryTime:0};function is(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Va.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(Va,1&o),null===e){if(void 0!==a.fallback&&Fo(t),s){if(s=a.fallback,0==(2&((a=Vu(null,i,0,null)).return=t).mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Vu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=rs,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=La(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,0==(2&((n=Wu(e,e.pendingProps)).return=t).mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Wu(i,a,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=rs,t.child=n,i}return n=Na(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Vu(null,i,0,null)).return=t,null!==(a.child=e)&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Vu(s,i,n,null)).return=t,(a.sibling=n).effectTag|=2,a.childExpirationTime=0,t.memoizedState=rs,t.child=a,n}return t.memoizedState=null,t.child=Na(t,e,a.children,n)}function as(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),sa(e.return,t)}function os(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function ss(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ho(e,t,r.children,n),0!=(2&(r=Va.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&as(e,n);else if(19===e.tag)as(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Va,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ya(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),os(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ya(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}os(t,!0,n,null,a,t.lastEffect);break;case"together":os(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function us(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Eu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(N(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps,e.expirationTime),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function cs(e){e.effectTag|=4}function ls(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fs(e){switch(e.tag){case 1:gi(e.type)&&bi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(qa(),wi(),0!=(64&(t=e.effectTag)))throw Error(N(285));return e.effectTag=-4097&t|64,e;case 5:return Ha(e),null;case 13:return fi(Va),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(Va),null;case 4:return qa(),null;case 10:return oa(e),null;default:return null}}function ds(e,t){return{value:e,source:t,stack:K(t)}}Zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},es=function(){},ts=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o,s,u=t.stateNode;switch(Ba(ja.current),e=null,n){case"input":a=Ee(u,a),r=Ee(u,r),e=[];break;case"option":a=Ie(u,a),r=Ie(u,r),e=[];break;case"select":a=m({},a,{value:void 0}),r=m({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(u,a),r=Ae(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=qn)}for(o in Un(n,r),n=null,a)if(!r.hasOwnProperty(o)&&a.hasOwnProperty(o)&&null!=a[o])if("style"===o)for(s in u=a[o])u.hasOwnProperty(s)&&((n=n||{})[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(v.hasOwnProperty(o)?e=e||[]:(e=e||[]).push(o,null));for(o in r){var c=r[o];if(u=null!=a?a[o]:void 0,r.hasOwnProperty(o)&&c!==u&&(null!=c||null!=u))if("style"===o)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||((n=n||{})[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&((n=n||{})[s]=c[s])}else n||(e=e||[]).push(o,n),n=c;else"dangerouslySetInnerHTML"===o?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(o,""+c)):"children"===o?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(o,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(v.hasOwnProperty(o)?(null!=c&&zn(i,o),e||u===c||(e=[])):(e=e||[]).push(o,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&cs(t)}},ns=function(e,t,n,r){n!==r&&cs(t)};var ps="function"==typeof WeakSet?WeakSet:Set;function hs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=K(n)),null!==n&&Q(n.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ms(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ru(t,e)}else e.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:ys(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}function ys(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;(r.destroy=void 0)!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function gs(e,r,t){switch("function"==typeof Uu&&Uu(r),r.tag){case 0:case 11:case 14:case 15:if(null!==(e=r.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Yi(97<t?97:t,function(){var e=i;do{var t=e.destroy;if(void 0!==t){var n=r;try{t()}catch(e){Ru(n,e)}}e=e.next}while(e!==i)})}break;case 1:ms(r),"function"==typeof(t=r.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ru(t,e)}}(r,t);break;case 5:ms(r);break;case 4:xs(e,r,t)}}function bs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,(e.memoizedProps=null)!==t&&bs(t)}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function ks(e){e:{for(var t=e.return;null!==t;){if(ws(t)){var n=t;break e}t=t.return}throw Error(N(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(N(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var a=5===i.tag||6===i.tag;if(a){var o=a?i.stateNode:i.stateNode.instance;if(n)if(r){var s=o;o=n,8===(a=t).nodeType?a.parentNode.insertBefore(s,o):a.insertBefore(s,o)}else t.insertBefore(o,n);else r?(8===(s=t).nodeType?(a=s.parentNode).insertBefore(o,s):(a=s).appendChild(o),null!==(s=s._reactRootContainer)&&void 0!==s||null!==a.onclick||(a.onclick=qn)):t.appendChild(o)}else if(4!==i.tag&&null!==i.child){i=(i.child.return=i).child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function xs(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(N(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,c=n,l=u;;)if(gs(s,l,c),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=r,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a=(a.child.return=a).child;continue}}else if(gs(e,a,n),null!==a.child){a=(a.child.return=a).child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ys(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if((t.updateQueue=null)!==a){for(n[ur]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),Bn(e,i),t=Bn(e,r),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];"style"===o?jn(n,s):"dangerouslySetInnerHTML"===o?qe(n,s):"children"===o?We(n,s):ke(n,o,s,t)}switch(e){case"input":Oe(n,r);break;case"textarea":Le(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(N(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Et(t.containerInfo));break;case 12:break;case 13:if(null===(n=t).memoizedState?r=!1:(r=!0,n=t.child,Zs=Wi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=Rn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e=(e.child.return=e).child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ss(t);break;case 19:Ss(t);break;case 17:case 20:case 21:break;default:throw Error(N(163))}}function Ss(n){var e=n.updateQueue;if(null!==e){n.updateQueue=null;var r=n.stateNode;null===r&&(r=n.stateNode=new ps),e.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=pu(t=du(),e,null)),null!==(e=mu(e,t))&&yu(e)}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))})}}var Es="function"==typeof WeakMap?WeakMap:Map;function Cs(e,t,n){(n=pa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nu||(nu=!0,ru=r),hs(e,t)},n}function Ts(t,n,e){(e=pa(e,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=n.value;e.payload=function(){return hs(t,n),r(i)}}var a=t.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){"function"!=typeof r&&(null===iu?iu=new Set([this]):iu.add(this),hs(t,n));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),e}var Os,Ms=Math.ceil,Ps=I.ReactCurrentDispatcher,Is=I.ReactCurrentOwner,Ds=0,As=8,Ns=16,Ls=32,Rs=0,js=1,Fs=2,Us=3,Bs=4,zs=5,qs=Ds,Ws=null,Hs=null,Vs=0,Ys=Rs,Gs=null,$s=1073741823,Js=1073741823,Qs=null,Ks=0,Xs=!1,Zs=0,eu=500,tu=null,nu=!1,ru=null,iu=null,au=!1,ou=null,su=90,uu=null,cu=0,lu=null,fu=0;function du(){return(qs&(Ns|Ls))!==Ds?1073741821-(Wi()/10|0):0!==fu?fu:fu=1073741821-(Wi()/10|0)}function pu(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Hi();if(0==(4&t))return 99===r?1073741823:1073741822;if((qs&Ns)!==Ds)return Vs;if(null!==n)e=Xi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xi(e,150,100);break;case 97:case 96:e=Xi(e,5e3,250);break;case 95:e=2;break;default:throw Error(N(326))}return null!==Ws&&e===Vs&&--e,e}function hu(e,t){if(50<cu)throw cu=0,lu=null,Error(N(185));if(null!==(e=mu(e,t))){var n=Hi();1073741823===t?(qs&As)!==Ds&&(qs&(Ns|Ls))===Ds?gu(e):(yu(e),qs===Ds&&Ji()):yu(e),(4&qs)===Ds||98!==n&&99!==n||(null===uu?uu=new Map([[e,t]]):(void 0===(n=uu.get(e))||t<n)&&uu.set(e,t))}}function mu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ws===i&&(Eu(t),Ys===Bs&&Qu(i,Vs)),Ku(i,t)),i}function vu(e){var t=e.lastExpiredTime;return 0!==t?t:Ju(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function yu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=$i(gu.bind(null,e));else{var t=vu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=du();if(r=1073741823===t?99:1===t||2===t?95:(r=10*(1073741821-t)-10*(1073741821-r))<=0?99:r<=250?98:r<=5250?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&r<=i)return;n!==ji&&Ti(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?$i(gu.bind(null,e)):Gi(r,function e(t,n){if(fu=0,n)return Xu(t,n=du()),yu(t),null;var r=vu(t);if(0!==r){if(n=t.callbackNode,(qs&(Ns|Ls))!==Ds)throw Error(N(327));if(Au(),t===Ws&&r===Vs||ku(t,r),null!==Hs){var i=qs;qs|=Ns;for(var a=_u();;)try{Tu();break}catch(e){xu(t,e)}if(ia(),qs=i,Ps.current=a,Ys===js)throw n=Gs,ku(t,r),Qu(t,r),yu(t),n;if(null===Hs)switch(a=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,i=Ys,Ws=null,i){case Rs:case js:throw Error(N(345));case Fs:Xu(t,2<r?2:r);break;case Us:if(Qu(t,r),r===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Pu(a)),1073741823===$s&&10<(a=Zs+eu-Wi())){if(Xs){var o=t.lastPingedTime;if(0===o||r<=o){t.lastPingedTime=r,ku(t,r);break}}if(0!==(o=vu(t))&&o!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}t.timeoutHandle=nr(Iu.bind(null,t),a);break}Iu(t);break;case Bs:if(Qu(t,r),r===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Pu(a)),Xs&&(0===(a=t.lastPingedTime)||r<=a)){t.lastPingedTime=r,ku(t,r);break}if(0!==(a=vu(t))&&a!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}if(1073741823!==Js?i=10*(1073741821-Js)-Wi():1073741823===$s?i=0:(i=10*(1073741821-$s)-5e3,(i=(a=Wi())-i)<0&&(i=0),(r=10*(1073741821-r)-a)<(i=(i<120?120:i<480?480:i<1080?1080:i<1920?1920:i<3e3?3e3:i<4320?4320:1960*Ms(i/1960))-i)&&(i=r)),10<i){t.timeoutHandle=nr(Iu.bind(null,t),i);break}Iu(t);break;case zs:if(1073741823!==$s&&null!==Qs){o=$s;var s=Qs;if(10<(i=(i=0|s.busyMinDurationMs)<=0?0:(a=0|s.busyDelayMs,(o=Wi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=a?0:a+i-o))){Qu(t,r),t.timeoutHandle=nr(Iu.bind(null,t),i);break}}Iu(t);break;default:throw Error(N(329))}if(yu(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function gu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)Iu(t);else{if((qs&(Ns|Ls))!==Ds)throw Error(N(327));if(Au(),t===Ws&&e===Vs||ku(t,e),null!==Hs){var n=qs;qs|=Ns;for(var r=_u();;)try{Cu();break}catch(e){xu(t,e)}if(ia(),qs=n,Ps.current=r,Ys===js)throw n=Gs,ku(t,e),Qu(t,e),yu(t),n;if(null!==Hs)throw Error(N(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ws=null,Iu(t),yu(t)}}return null}function bu(e,t){var n=qs;qs|=1;try{return e(t)}finally{(qs=n)===Ds&&Ji()}}function wu(e,t){var n=qs;qs&=-2,qs|=As;try{return e(t)}finally{(qs=n)===Ds&&Ji()}}function ku(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Hs)for(n=Hs.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&bi();break;case 3:qa(),wi();break;case 5:Ha(r);break;case 4:qa();break;case 13:case 19:fi(Va);break;case 10:oa(r)}n=n.return}Hs=Wu((Ws=e).current,null),Vs=t,Ys=Rs,Js=$s=1073741823,Qs=Gs=null,Ks=0,Xs=!1}function xu(e,t){for(;;){try{if(ia(),po(),null===Hs||null===Hs.return)return Ys=js,Gs=t,null;e:{var n=e,r=Hs.return,i=Hs,a=t;if(t=Vs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var o=a,s=0!=(1&Va.current),u=r;do{var c;if(c=13===u.tag){var l=u.memoizedState;if(null!==l)c=null!==l.dehydrated;else{var f=u.memoizedProps;c=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!s)}}if(c){var d=u.updateQueue;if(null===d){var p=new Set;p.add(o),u.updateQueue=p}else d.add(o);if(0==(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var h=pa(1073741823,null);h.tag=2,ma(i,h)}i.expirationTime=1073741823;break e}a=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new Es,a=new Set,m.set(o,a)):void 0===(a=m.get(o))&&(a=new Set,m.set(o,a)),!a.has(i)){a.add(i);var v=ju.bind(null,n,o,i);o.then(v,v)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);a=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+K(i))}Ys!==zs&&(Ys=Fs),a=ds(a,i),u=r;do{switch(u.tag){case 3:o=a,u.effectTag|=4096,u.expirationTime=t,va(u,Cs(u,o,t));break e;case 1:o=a;var y=u.type,g=u.stateNode;if(0==(64&u.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===iu||!iu.has(g)))){u.effectTag|=4096,u.expirationTime=t,va(u,Ts(u,o,t));break e}}u=u.return}while(null!==u)}Hs=Mu(Hs)}catch(e){t=e;continue}break}}function _u(){var e=Ps.current;return Ps.current=Po,null===e?Po:e}function Su(e,t){e<$s&&2<e&&($s=e),null!==t&&e<Js&&2<e&&(Js=e,Qs=t)}function Eu(e){Ks<e&&(Ks=e)}function Cu(){for(;null!==Hs;)Hs=Ou(Hs)}function Tu(){for(;null!==Hs&&!Oi();)Hs=Ou(Hs)}function Ou(e){var t=Os(e.alternate,e,Vs);return e.memoizedProps=e.pendingProps,null===t&&(t=Mu(e)),Is.current=null,t}function Mu(e){Hs=e;do{var t=Hs.alternate;if(e=Hs.return,0==(2048&Hs.effectTag)){e:{var n=t,r=Vs,i=(t=Hs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:gi(t.type)&&bi();break;case 3:qa(),wi(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==n&&null!==n.child||!Bo(t)||cs(t),es(t);break;case 5:Ha(t),r=Ba(Ua.current);var a=t.type;if(null!==n&&null!=t.stateNode)ts(n,t,a,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){var o=Ba(ja.current);if(Bo(t)){var s=(i=t).stateNode;n=i.type;var u=i.memoizedProps,c=r;switch(s[sr]=i,s[ur]=u,a=void 0,r=s,n){case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(s=0;s<Ze.length;s++)En(Ze[s],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"form":En("reset",r),En("submit",r);break;case"details":En("toggle",r);break;case"input":Ce(r,u),En("invalid",r),zn(c,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},En("invalid",r),zn(c,"onChange");break;case"textarea":Ne(r,u),En("invalid",r),zn(c,"onChange")}for(a in Un(n,u),s=null,u)u.hasOwnProperty(a)&&(o=u[a],"children"===a?"string"==typeof o?r.textContent!==o&&(s=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(s=["children",""+o]):v.hasOwnProperty(a)&&null!=o&&zn(c,a));switch(n){case"input":_e(r),Me(r,u,!0);break;case"textarea":_e(r),Re(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=qn)}a=s,i.updateQueue=a,(i=null!==a)&&cs(t)}else{n=t,c=a,u=i,s=9===r.nodeType?r:r.ownerDocument,o===je.html&&(o=Fe(c)),o===je.html?"script"===c?((u=s.createElement("div")).innerHTML="<script><\/script>",s=u.removeChild(u.firstChild)):"string"==typeof u.is?s=s.createElement(c,{is:u.is}):(s=s.createElement(c),"select"===c&&(c=s,u.multiple?c.multiple=!0:u.size&&(c.size=u.size))):s=s.createElementNS(o,c),(u=s)[sr]=n,u[ur]=i,Zo(u,t,!1,!1),t.stateNode=u;var l=r,f=Bn(c=a,n=i);switch(c){case"iframe":case"object":case"embed":En("load",u),r=n;break;case"video":case"audio":for(r=0;r<Ze.length;r++)En(Ze[r],u);r=n;break;case"source":En("error",u),r=n;break;case"img":case"image":case"link":En("error",u),En("load",u),r=n;break;case"form":En("reset",u),En("submit",u),r=n;break;case"details":En("toggle",u),r=n;break;case"input":Ce(u,n),r=Ee(u,n),En("invalid",u),zn(l,"onChange");break;case"option":r=Ie(u,n);break;case"select":u._wrapperState={wasMultiple:!!n.multiple},r=m({},n,{value:void 0}),En("invalid",u),zn(l,"onChange");break;case"textarea":Ne(u,n),r=Ae(u,n),En("invalid",u),zn(l,"onChange");break;default:r=n}Un(c,r),s=void 0,o=c;var d=u,p=r;for(s in p)if(p.hasOwnProperty(s)){var h=p[s];"style"===s?jn(d,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&qe(d,h):"children"===s?"string"==typeof h?"textarea"===o&&""===h||We(d,h):"number"==typeof h&&We(d,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(v.hasOwnProperty(s)?null!=h&&zn(l,s):null!=h&&ke(d,s,h,f))}switch(c){case"input":_e(u),Me(u,n,!1);break;case"textarea":_e(u),Re(u);break;case"option":null!=n.value&&u.setAttribute("value",""+we(n.value));break;case"select":(r=u).multiple=!!n.multiple,null!=(u=n.value)?De(r,!!n.multiple,u,!1):null!=n.defaultValue&&De(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(u.onclick=qn)}(i=er(a,i))&&cs(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(N(166));break;case 6:if(n&&null!=t.stateNode)ns(n,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(N(166));r=Ba(Ua.current),Ba(ja.current),Bo(t)?(a=(i=t).stateNode,r=i.memoizedProps,a[sr]=i,(i=a.nodeValue!==r)&&cs(t)):(a=t,(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[sr]=a,t.stateNode=i)}break;case 11:break;case 13:if(fi(Va),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,a=!1,null===n?void 0!==t.memoizedProps.fallback&&Bo(t):(a=null!==(r=n.memoizedState),i||null===r||null!==(r=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=r).nextEffect=u:(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),i&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Va.current)?Ys===Rs&&(Ys=Us):(Ys!==Rs&&Ys!==Us||(Ys=Bs),0!==Ks&&null!==Ws&&(Qu(Ws,Vs),Ku(Ws,Ks)))),(i||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:qa(),es(t);break;case 10:oa(t);break;case 9:case 14:break;case 17:gi(t.type)&&bi();break;case 19:if(fi(Va),null===(i=t.memoizedState))break;if(a=0!=(64&t.effectTag),null===(u=i.rendering)){if(a)ls(i,!1);else if(Ys!==Rs||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=Ya(n))){for(t.effectTag|=64,ls(i,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,a=t.child;null!==a;)n=i,(r=a).effectTag&=2,r.nextEffect=null,r.firstEffect=null,(r.lastEffect=null)===(u=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=u.childExpirationTime,r.expirationTime=u.expirationTime,r.child=u.child,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,n=u.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;di(Va,1&Va.current|2),t=t.child;break e}n=n.sibling}}else{if(!a)if(null!==(n=Ya(u))){if(t.effectTag|=64,a=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ls(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate){null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else Wi()>i.tailExpiration&&1<r&&(t.effectTag|=64,ls(i,!(a=!0)),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=i.last)?r.sibling=u:t.child=u,i.last=u)}if(null===i.tail)break;0===i.tailExpiration&&(i.tailExpiration=Wi()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,r.sibling=null,i=Va.current,di(Va,i=a?1&i|2:1&i),t=r;break e;case 20:case 21:break;default:throw Error(N(156,t.tag))}t=null}if(i=Hs,1===Vs||1!==i.childExpirationTime){for(a=0,r=i.child;null!==r;)(n=r.expirationTime)>a&&(a=n),(u=r.childExpirationTime)>a&&(a=u),r=r.sibling;i.childExpirationTime=a}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Hs.firstEffect),null!==Hs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Hs.firstEffect),e.lastEffect=Hs.lastEffect),1<Hs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Hs:e.firstEffect=Hs,e.lastEffect=Hs))}else{if(null!==(t=fs(Hs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Hs.sibling))return t;Hs=e}while(null!==Hs);return Ys===Rs&&(Ys=zs),null}function Pu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Iu(e){var t=Hi();return Yi(99,function(e,t){for(;Au(),null!==ou;);if((qs&(Ns|Ls))!==Ds)throw Error(N(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Pu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ws&&(Hs=Ws=null,Vs=0),i=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==i){var a=qs;qs|=Ls,Is.current=null,Xn=Sn;var o=Yn();if(Gn(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var u=(s=(s=o.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(u&&0!==u.rangeCount){s=u.anchorNode;var c=u.anchorOffset,l=u.focusNode;u=u.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var f=0,d=-1,p=-1,h=0,m=0,v=o,y=null;t:for(;;){for(var g;v!==s||0!==c&&3!==v.nodeType||(d=f+c),v!==l||0!==u&&3!==v.nodeType||(p=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(g=v.firstChild);)y=v,v=g;for(;;){if(v===o)break t;if(y===s&&++h===c&&(d=f),y===l&&++m===u&&(p=f),null!==(g=v.nextSibling))break;y=(v=y).parentNode}v=g}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;Sn=!(Zn={focusedElem:o,selectionRange:s}),tu=i;do{try{Du()}catch(e){if(null===tu)throw Error(N(330));Ru(tu,e),tu=tu.nextEffect}}while(null!==tu);tu=i;do{try{for(o=e,s=t;null!==tu;){var b=tu.effectTag;if(16&b&&We(tu.stateNode,""),128&b){var w=tu.alternate;if(null!==w){var k=w.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&b){case 2:ks(tu),tu.effectTag&=-3;break;case 6:ks(tu),tu.effectTag&=-3,_s(tu.alternate,tu);break;case 1024:tu.effectTag&=-1025;break;case 1028:tu.effectTag&=-1025,_s(tu.alternate,tu);break;case 4:_s(tu.alternate,tu);break;case 8:xs(o,c=tu,s),bs(c)}tu=tu.nextEffect}}catch(e){if(null===tu)throw Error(N(330));Ru(tu,e),tu=tu.nextEffect}}while(null!==tu);if(k=Zn,w=Yn(),b=k.focusedElem,s=k.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&Gn(b)&&(w=s.start,void 0===(k=s.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),c=b.textContent.length,o=Math.min(s.start,c),s=void 0===s.end?o:Math.min(s.end,c),!k.extend&&s<o&&(c=s,s=o,o=c),c=Vn(b,o),l=Vn(b,s),c&&l&&(1!==k.rangeCount||k.anchorNode!==c.node||k.anchorOffset!==c.offset||k.focusNode!==l.node||k.focusOffset!==l.offset)&&((w=w.createRange()).setStart(c.node,c.offset),k.removeAllRanges(),s<o?(k.addRange(w),k.extend(l.node,l.offset)):(w.setEnd(l.node,l.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Sn=!!Xn,Xn=Zn=null,e.current=n,tu=i;do{try{for(b=r;null!==tu;){var x=tu.effectTag;if(36&x){var _=tu.alternate;switch(k=b,(w=tu).tag){case 0:case 11:case 15:ys(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===_)S.componentDidMount();else{var E=w.elementType===w.type?_.memoizedProps:Zi(w.type,_.memoizedProps);S.componentDidUpdate(E,_.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var C=w.updateQueue;null!==C&&wa(0,C,S);break;case 3:var T=w.updateQueue;if(null!==T){if((o=null)!==w.child)switch(w.child.tag){case 5:o=w.child.stateNode;break;case 1:o=w.child.stateNode}wa(0,T,o)}break;case 5:var O=w.stateNode;null===_&&4&w.effectTag&&er(w.type,w.memoizedProps)&&O.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var M=w.alternate;if(null!==M){var P=M.memoizedState;if(null!==P){var I=P.dehydrated;null!==I&&Et(I)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(N(163))}}if(128&x){w=void 0;var D=tu.ref;if(null!==D){var A=tu.stateNode;switch(tu.tag){case 5:w=A;break;default:w=A}"function"==typeof D?D(w):D.current=w}}tu=tu.nextEffect}}catch(e){if(null===tu)throw Error(N(330));Ru(tu,e),tu=tu.nextEffect}}while(null!==tu);tu=null,Fi(),qs=a}else e.current=n;if(au)au=!1,ou=e,su=t;else for(tu=i;null!==tu;)t=tu.nextEffect,tu.nextEffect=null,tu=t;if(0===(t=e.firstPendingTime)&&(iu=null),1073741823===t?e===lu?cu++:(cu=0,lu=e):cu=0,"function"==typeof Fu&&Fu(n.stateNode,r),yu(e),nu)throw nu=!1,e=ru,ru=null,e;return(qs&As)!==Ds||Ji(),null}.bind(null,e,t)),null}function Du(){for(;null!==tu;){var e=tu.effectTag;0!=(256&e)&&vs(tu.alternate,tu),0==(512&e)||au||(au=!0,Gi(97,function(){return Au(),null})),tu=tu.nextEffect}}function Au(){if(90!==su){var e=97<su?97:su;return su=90,Yi(e,Nu)}}function Nu(){if(null===ou)return!1;var t=ou;if(ou=null,(qs&(Ns|Ls))!==Ds)throw Error(N(331));var e=qs;for(qs|=Ls,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ys(128,0,n),ys(0,64,n)}}catch(e){if(null===t)throw Error(N(330));Ru(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return qs=e,Ji(),!0}function Lu(e,t,n){ma(e,t=Cs(e,t=ds(n,t),1073741823)),null!==(e=mu(e,1073741823))&&yu(e)}function Ru(e,t){if(3===e.tag)Lu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===iu||!iu.has(r))){ma(n,e=Ts(n,e=ds(t,e),1073741823)),null!==(n=mu(n,1073741823))&&yu(n);break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ws===e&&Vs===n?Ys===Bs||Ys===Us&&1073741823===$s&&Wi()-Zs<eu?ku(e,Vs):Xs=!0:Ju(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),yu(e)))}Os=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)Wo=!0;else{if(r<n){switch(Wo=!1,t.tag){case 3:Xo(t),zo();break;case 5:if(Wa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&_i(t);break;case 4:za(t,t.stateNode.containerInfo);break;case 10:aa(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&n<=r?is(e,t,n):(di(Va,1&Va.current),null!==(t=us(e,t,n))?t.sibling:null);di(Va,1&Va.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ss(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(Va,Va.current),!r)return null}return us(e,t,n)}Wo=!1}}else Wo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,hi.current),ua(t,n),i=fo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,po(),gi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=r.getDerivedStateFromProps;"function"==typeof o&&Sa(t,r,o,e),i.updater=Ea,Ma((t.stateNode=i)._reactInternalFiber=t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Ho(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),(t._result=e).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"==typeof e)return qu(e)?1:0;if(null!=e){if((e=e.$$typeof)===W)return 11;if(e===Y)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=Jo(null,t,i,e,n);break;case 1:t=Qo(null,t,i,e,n);break;case 11:t=Vo(null,t,i,e,n);break;case 14:t=Yo(null,t,i,Zi(i.type,e),r,n);break;default:throw Error(N(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Jo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Xo(t),null===(r=t.updateQueue))throw Error(N(282));if(i=null!==(i=t.memoizedState)?i.element:null,ba(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)zo(),t=us(e,t,n);else{if((i=t.stateNode.hydrate)&&(No=ir(t.stateNode.containerInfo.firstChild),Ao=t,i=Lo=!0),i)for(n=La(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ho(e,t,r,n),zo();t=t.child}return t;case 5:return Wa(t),null===e&&Fo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,tr(r,i)?o=null:null!==a&&tr(r,a)&&(t.effectTag|=16),$o(e,t),t=4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,null):(Ho(e,t,o,n),t.child);case 6:return null===e&&Fo(t),null;case 13:return is(e,t,n);case 4:return za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Na(t,null,r,n):Ho(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Ho(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ho(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,aa(t,a=i.value),null!==o){var s=o.value;if(0==(a=Xr(s,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(o.children===i.children&&!mi.current){t=us(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){o=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===s.tag&&((c=pa(n,null)).tag=2,ma(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),sa(s.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else o=10===s.tag&&s.type===t.type?null:s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}Ho(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ua(t,n),r=r(i=ca(i,a.unstable_observedBits)),t.effectTag|=1,Ho(e,t,r,n),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),Yo(e,t,i,a=Zi(i.type,a),r,n);case 15:return Go(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,ua(t,n),Ta(t,r,i),Ma(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return ss(e,t,n)}throw Error(N(156,t.tag))};var Fu=null,Uu=null;function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zu(e,t,n,r){return new Bu(e,t,n,r)}function qu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,a){var o=2;if("function"==typeof(r=e))qu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case j:return Vu(n.children,i,a,t);case q:o=8,i|=7;break;case F:o=8,i|=1;break;case U:return(e=zu(12,n,t,8|i)).elementType=U,e.type=U,e.expirationTime=a,e;case H:return(e=zu(13,n,t,i)).type=H,e.elementType=H,e.expirationTime=a,e;case V:return(e=zu(19,n,t,i)).elementType=V,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case B:o=10;break e;case z:o=9;break e;case W:o=11;break e;case Y:o=14;break e;case G:o=16,r=null;break e}throw Error(N(130,null==e?e:typeof e,""))}return(t=zu(o,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Vu(e,t,n,r){return(e=zu(7,e,r,t)).expirationTime=n,e}function Yu(e,t,n){return(e=zu(6,e,null,t)).expirationTime=n,e}function Gu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ju(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&t<=n&&e<=t}function Qu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(t<r||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ku(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(n<=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Xu(e,t){var n=e.lastExpiredTime;(0===n||t<n)&&(e.lastExpiredTime=t)}function Zu(e,t,n,r){var i=t.current,a=du(),o=xa.suspense;a=pu(a,i,o);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(N(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(N(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=xi(n,u,s);break e}}n=s}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ma(i,t),hu(i,a),a}function ec(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r,i,a=new $u(e,t,n=null!=n&&!0===n.hydrate),o=zu(3,null,null,2===t?7:1===t?3:0);(a.current=o).stateNode=a,e[cr]=a.current,n&&0!==t&&(r=9===e.nodeType?e:e.ownerDocument,i=Dn(r),mt.forEach(function(e){An(e,r,i)}),vt.forEach(function(e){An(e,r,i)})),this._internalRoot=a}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(!(t=t||!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))))for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"==typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}wu(function(){Zu(t,o,e,i)})}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(N(200));return function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:null;return{$$typeof:R,key:null==i?null:""+i,children:e,containerInfo:t,implementation:null}}(e,t,null,n)}rc.prototype.render=function(e,t){Zu(e,this._internalRoot,null,void 0===t?null:t)},rc.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;Zu(null,t,null,function(){(r[cr]=null)!==n&&n()})},it=function(e){if(13===e.tag){var t=Xi(du(),150,100);hu(e,t),nc(e,t)}},at=function(e){if(13===e.tag){du();var t=Ki++;hu(e,t),nc(e,t)}},ot=function(e){if(13===e.tag){var t=du();hu(e,t=pu(t,e,null)),nc(e,t)}},Z=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pr(r);if(!i)throw Error(N(90));Se(r),Oe(r,i)}}}break;case"textarea":Le(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},oe=function(e,t,n,r){var i=qs;qs|=4;try{return Yi(98,e.bind(null,t,n,r))}finally{(qs=i)===Ds&&Ji()}},se=function(){(qs&(1|Ns|Ls))===Ds&&(function(){if(null!==uu){var e=uu;uu=null,e.forEach(function(e,t){Xu(t,e),yu(t)}),Ji()}}(),Au())};var sc,uc,cc={createPortal:oc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0!==t)return null===(e=rt(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(N(188));throw Error(N(268,Object.keys(e)))},hydrate:function(e,t,n){if(!ic(t))throw Error(N(200));return ac(null,e,t,!0,n)},render:function(e,t,n){if(!ic(t))throw Error(N(200));return ac(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!ic(n))throw Error(N(200));if(null==e||void 0===e._reactInternalFiber)throw Error(N(38));return ac(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!ic(e))throw Error(N(40));return!!e._reactRootContainer&&(wu(function(){ac(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0)},unstable_createPortal:function(){return oc.apply(void 0,arguments)},unstable_batchedUpdates:ae=bu,flushSync:function(e,t){if((qs&(Ns|Ls))!==Ds)throw Error(N(187));var n=qs;qs|=1;try{return Yi(99,e.bind(null,t))}finally{qs=n,Ji()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[fr,dr,pr,M.injectEventPluginsByName,p,Dt,function(e){E(e,It)},re,ie,On,O,Au,{current:!(ue=function(e,t){var n=qs;qs|=2;try{return e(t)}finally{(qs=n)===Ds&&Ji()}})}]}};uc=(sc={findFiberByHostInstance:lr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return;try{var n=t.inject(e);Fu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Uu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(m({},sc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return uc?uc(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));e.exports=cc.default||cc},function(e,t,n){"use strict";e.exports=n(169)},function(e,s,t){"use strict";var a,u,c,l,n;if(Object.defineProperty(s,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var r=null,i=null,o=function t(){if(null!==r)try{var e=s.unstable_now();r(!0,e),r=null}catch(e){throw setTimeout(t,0),e}},f=Date.now();s.unstable_now=function(){return Date.now()-f},a=function(e){null!==r?setTimeout(a,0,e):(r=e,setTimeout(o,0))},u=function(e,t){i=setTimeout(e,t)},c=function(){clearTimeout(i)},l=function(){return!1},n=s.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)s.unstable_now=function(){return d.now()};else{var y=p.now();s.unstable_now=function(){return p.now()-y}}var g=!1,b=null,w=-1,k=5,x=0;l=function(){return s.unstable_now()>=x},n=function(){},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,S=_.port2;_.port1.onmessage=function(){if(null!==b){var e=s.unstable_now();x=e+k;try{b(!0,e)?S.postMessage(null):(g=!1,b=null)}catch(e){throw S.postMessage(null),e}}else g=!1},a=function(e){b=e,g||(g=!0,S.postMessage(null))},u=function(e,t){w=h(function(){e(s.unstable_now())},t)},c=function(){m(w),w=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0===t)return null;var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=1+a,u=e[s];if(void 0!==o&&O(o,n)<0)r=void 0!==u&&O(u,o)<0?(e[r]=u,e[s]=n,s):(e[r]=o,e[a]=n,a);else{if(!(void 0!==u&&O(u,n)<0))break e;e[r]=u,e[s]=n,r=s}}}return t}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}var M=[],P=[],I=1,D=null,A=3,N=!1,L=!1,R=!1;function j(e){for(var t=C(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,E(M,t)}t=C(P)}}function F(e){if(R=!1,j(e),!L)if(null!==C(M))L=!0,a(U);else{var t=C(P);null!==t&&u(F,t.startTime-e)}}function U(e,t){L=!1,R&&(R=!1,c()),N=!0;var n=A;try{for(j(t),D=C(M);null!==D&&(!(D.expirationTime>t)||e&&!l());){var r=D.callback;if(null!==r){D.callback=null,A=D.priorityLevel;var i=r(D.expirationTime<=t);t=s.unstable_now(),"function"==typeof i?D.callback=i:D===C(M)&&T(M),j(t)}else T(M);D=C(M)}if(null!==D)var a=!0;else{var o=C(P);null!==o&&u(F,o.startTime-t),a=!1}return a}finally{D=null,A=n,N=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=n;s.unstable_ImmediatePriority=1,s.unstable_UserBlockingPriority=2,s.unstable_NormalPriority=3,s.unstable_IdlePriority=5,s.unstable_LowPriority=4,s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},s.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();if("object"==typeof n&&null!==n){var i=n.delay;i="number"==typeof i&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:B(e)}else n=B(e),i=r;return e={id:I++,callback:t,priorityLevel:e,startTime:i,expirationTime:n=i+n,sortIndex:-1},r<i?(e.sortIndex=i,E(P,e),null===C(M)&&e===C(P)&&(R?c():R=!0,u(F,i-r))):(e.sortIndex=n,E(M,e),L||N||(L=!0,a(U))),e},s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_wrapCallback=function(t){var n=A;return function(){var e=A;A=n;try{return t.apply(this,arguments)}finally{A=e}}},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_shouldYield=function(){var e=s.unstable_now();j(e);var t=C(M);return t!==D&&null!==D&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<D.expirationTime||l()},s.unstable_requestPaint=z,s.unstable_continueExecution=function(){L||N||(L=!0,a(U))},s.unstable_pauseExecution=function(){},s.unstable_getFirstCallbackNode=function(){return C(M)},s.unstable_Profiling=null},,,function(e,t,n){"use strict";var r=n(173);e.exports=r},function(e,t,n){"use strict";var i=d(n(13)),a=d(n(107)),r=d(n(15)),o=d(n(18)),s=d(n(23)),u=d(n(8)),c=d(n(24)),l=d(n(25)),f=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p=n(10),h=n(19),m=n(215),v=n(130);t.User=v.User;var y=n(221),g=n(240),b=n(142),w=n(248),k=n(32),x=n(148),_=n(290),S=n(302),E=n(310),C=n(317),T=n(324),O=n(327),M=n(328),P=n(329),I=n(330);t.PushNotification=I.PushNotification;function D(){(0,f.default)(this,D)}var A,N,L,R,j,F,U,B,z,q,W,H,V=n(26),Y=h.Logger.scope("Client"),G=n(163).version,$="A valid Twilio token should be provided",J=(A=p.EventEmitter,(0,l.default)(Q,A),(0,u.default)(Q,[{key:"subscribeToPushNotifications",value:function(t){var n=this,r=[];return[b.NotificationTypes.NEW_MESSAGE,b.NotificationTypes.ADDED_TO_CHANNEL,b.NotificationTypes.INVITED_TO_CHANNEL,b.NotificationTypes.REMOVED_FROM_CHANNEL,b.NotificationTypes.TYPING_INDICATOR,b.NotificationTypes.CONSUMPTION_UPDATE].forEach(function(e){r.push(n.services.notificationClient.subscribe(e,t))}),o.default.all(r)}},{key:"unsubscribeFromPushNotifications",value:function(t){var n=this,r=[];return[b.NotificationTypes.NEW_MESSAGE,b.NotificationTypes.ADDED_TO_CHANNEL,b.NotificationTypes.INVITED_TO_CHANNEL,b.NotificationTypes.REMOVED_FROM_CHANNEL,b.NotificationTypes.TYPING_INDICATOR,b.NotificationTypes.CONSUMPTION_UPDATE].forEach(function(e){r.push(n.services.notificationClient.unsubscribe(e,t))}),o.default.all(r)}},{key:"initialize",value:(H=(0,r.default)(i.default.mark(function e(){var t,n,r=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionPromise;case 2:return Q.supportedPushChannels.forEach(function(e){return r.subscribeToPushNotifications(e)}),e.next=5,this.services.session.getSessionLinks();case 5:return t=e.sent,this.services.publicChannels=new y.PublicChannels(this,this.services,t.publicChannelsUrl),this.services.userChannels=new P.UserChannels(this,this.services,t.myChannelsUrl),(n=(0,a.default)(this.options)).transport=null,this.services.mcsClient=new S.McsClient(this.fpaToken,t.mediaServiceUrl,n),e.next=13,this.services.typingIndicator.initialize();case 13:case"end":return e.stop()}},e,this)})),function(){return H.apply(this,arguments)})},{key:"shutdown",value:(W=(0,r.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.twilsockClient.disconnect();case 2:case"end":return e.stop()}},e,this)})),function(){return W.apply(this,arguments)})},{key:"updateToken",value:(q=(0,r.default)(i.default.mark(function e(t){var n=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Y.info("updateToken"),t){e.next=3;break}throw new Error($);case 3:if(this.fpaToken===t)return e.abrupt("return",this);e.next=5;break;case 5:return e.next=7,this.services.twilsockClient.updateToken(t).then(function(){return n.fpaToken=t}).then(function(){return n.services.mcsClient.updateToken(t)}).then(function(){return n.sessionPromise});case 7:return e.abrupt("return",this);case 8:case"end":return e.stop()}},e,this)})),function(e){return q.apply(this,arguments)})},{key:"getChannelBySid",value:(z=(0,r.default)(i.default.mark(function e(t){var n=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Client.getChannelBySid requires a <String>channelSid parameter");case 2:return e.abrupt("return",this.channels.syncListRead.promise.then(function(){return n.channels.getChannel(t).then(function(e){return e||n.services.publicChannels.getChannelBySid(t).then(function(e){return n.channels.pushChannel(e)})})}));case 3:case"end":return e.stop()}},e,this)})),function(e){return z.apply(this,arguments)})},{key:"getChannelByUniqueName",value:(B=(0,r.default)(i.default.mark(function e(t){var n=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Client.getChannelByUniqueName requires a <String>uniqueName parameter");case 2:return e.abrupt("return",this.channels.syncListRead.promise.then(function(){return n.services.publicChannels.getChannelByUniqueName(t).then(function(e){return n.channels.pushChannel(e)})}));case 3:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"getSubscribedChannels",value:function(t){return this.channelsPromise.then(function(e){return e.getChannels(t)})}},{key:"getLocalChannels",value:function(r){return this.channelsPromise.then(function(e){var t=[];e.channels.forEach(function(e){t.push(e)});var n="ascending";if(r&&r.order)if("descending"===r.order)n="descending";else if("ascending"!==r.order)throw new Error("Sorting order should be `ascending` or `descending`");if(r&&r.criteria)if("lastMessage"===r.criteria)t.sort(function(e,t){return Q.compareChannelsByLastMessage(e,t,n)});else if("uniqueName"===r.criteria)t.sort(function(e,t){return Q.compareChannelsByStringProperty(e.uniqueName,t.uniqueName,n)});else{if("friendlyName"!==r.criteria)throw new Error("Sorting criteria should be one of `lastMessage`, `uniqueName` or `friendlyName`");t.sort(function(e,t){return Q.compareChannelsByStringProperty(e.friendlyName,t.friendlyName,n)})}return t})}},{key:"getPublicChannelDescriptors",value:function(){return this.services.publicChannels.getChannels()}},{key:"getUserChannelDescriptors",value:function(){return this.services.userChannels.getChannels()}},{key:"createChannel",value:function(t){return t=t||{},this.channelsPromise.then(function(e){return e.addChannel(t)})}},{key:"setPushRegistrationId",value:(U=(0,r.default)(i.default.mark(function e(t,n){var r=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===Q.supportedPushChannels.indexOf(t))throw new Error("Invalid or unsupported channelType: "+t);e.next=2;break;case 2:return e.next=4,this.subscribeToPushNotifications(t).then(function(){return r.services.notificationClient.setPushRegistrationId(n,t)});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return U.apply(this,arguments)})},{key:"unsetPushRegistrationId",value:(F=(0,r.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===Q.supportedPushChannels.indexOf(t))throw new Error("Invalid or unsupported channelType: "+t);e.next=2;break;case 2:return e.next=4,this.unsubscribeFromPushNotifications(t);case 4:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"handlePushNotification",value:(j=(0,r.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Y.debug("handlePushNotification, notificationPayload=",t),this.emit("pushNotification",Q.parsePushNotification(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"getUser",value:function(e){return this.services.users.getUser(e)}},{key:"getUserDescriptor",value:(R=(0,r.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getUserDescriptor(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"getSubscribedUsers",value:(L=(0,r.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getSubscribedUsers());case 1:case"end":return e.stop()}},e,this)})),function(){return L.apply(this,arguments)})},{key:"user",get:function(){return this.services.users.myself}},{key:"reachabilityEnabled",get:function(){return this.services.session.reachabilityEnabled}},{key:"token",get:function(){return this.fpaToken}}],[{key:"create",value:(N=(0,r.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Q(t,n),e.next=3,r.initialize();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return N.apply(this,arguments)})},{key:"compareChannelsByLastMessage",value:function(e,t,n){if(e.lastMessage&&t.lastMessage){if(e.lastMessage.timestamp&&t.lastMessage.timestamp)return e.lastMessage.timestamp.getTime()<t.lastMessage.timestamp.getTime()?"ascending"===n?-1:1:"ascending"===n?1:-1;if(e.lastMessage.timestamp)return-1;if(t.lastMessage.timestamp)return 1}return e.lastMessage?-1:t.lastMessage?1:0}},{key:"compareChannelsByStringProperty",value:function(e,t,n){return e&&t?"ascending"===n?e.localeCompare(t):-1*e.localeCompare(t):e?-1:t?1:0}},{key:"parsePushNotificationChatData",value:function(e){var t={};for(var n in Q.supportedPushDataFields)void 0!==e[n]&&null!==e[n]&&("message_index"===n?null!==V.parseToNumber(e[n])&&(t[Q.supportedPushDataFields[n]]=Number(e[n])):t[Q.supportedPushDataFields[n]]=e[n]);return t}},{key:"parsePushNotification",value:function(e){if(Y.debug("parsePushNotification, notificationPayload=",e),null==e)throw new Error("Push notification payload should be provided");if(void 0!==e.aps){if(!e.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var t=Q.parsePushNotificationChatData(e),n=e.aps,r=null,i=null;return"string"==typeof n.alert?r=n.alert||null:(r=n.alert.body||null,i=n.alert.title||null),new I.PushNotification({title:i,body:r,sound:n.sound||null,badge:n.badge||null,action:n.category||null,type:e.twi_message_type,data:t})}if(void 0===e.data)throw new Error("Provided push notification payload is not Programmable Chat notification");var a=e.data;if(!a.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var o=Q.parsePushNotificationChatData(e.data);return new I.PushNotification({title:a.twi_title||null,body:a.twi_body||null,sound:a.twi_sound||null,badge:null,action:a.twi_action||null,type:a.twi_message_type,data:o})}}]),Q);function Q(e,t){(0,f.default)(this,Q);var n=(0,c.default)(this,(Q.__proto__||(0,s.default)(Q)).call(this));n.connectionState="connecting",n.sessionPromise=null,n.channelsPromise=null,n.version=G,n.parsePushNotification=Q.parsePushNotification,n.options=t||{},n.options.disableDeepClone||(n.options=V.deepClone(n.options)),n.options.logLevel=n.options.logLevel||"silent",Y.setLevel(n.options.logLevel);var r=n.options.productId="ip_messaging";if(n.options.Sync=n.options.Sync||{},void 0===n.options.Sync.enableSessionStorage&&(n.options.Sync.enableSessionStorage=!0),n.options.region&&(n.options.Sync.region=n.options.region),!e)throw new Error($);return n.services=new D,n.config=new m.Configuration(n.options),n.options.twilsockClient=n.options.twilsockClient||new k.Twilsock(e,r,n.options),n.options.transport=n.options.transport||n.options.twilsockClient,n.options.notificationsClient=n.options.notificationsClient||new x.Notifications(e,n.options),n.options.syncClient=n.options.syncClient||new _.SyncClient(e,n.options),n.services.syncClient=n.options.syncClient,n.services.transport=n.options.transport,n.services.twilsockClient=n.options.twilsockClient,n.services.notificationClient=n.options.notificationsClient,n.services.session=new E.Session(n.services,n.config),n.sessionPromise=n.services.session.initialize(),n.services.network=new g.Network(n.config,n.services),n.services.users=new T.Users({session:n.services.session,network:n.services.network,syncClient:n.services.syncClient}),n.services.users.on("userSubscribed",n.emit.bind(n,"userSubscribed")),n.services.users.on("userUpdated",function(e){return n.emit("userUpdated",e)}),n.services.users.on("userUnsubscribed",n.emit.bind(n,"userUnsubscribed")),n.services.twilsockClient.on("tokenAboutToExpire",function(e){return n.emit("tokenAboutToExpire",e)}),n.services.twilsockClient.on("tokenExpired",function(){return n.emit("tokenExpired")}),n.services.twilsockClient.on("connectionError",function(e){return n.emit("connectionError",e)}),n.services.consumptionHorizon=new M.ConsumptionHorizon(n.services),n.services.typingIndicator=new O.TypingIndicator(n.config,{transport:n.services.twilsockClient,notificationClient:n.services.notificationClient},n.getChannelBySid.bind(n)),n.services.syncList=new w.SyncList(n.services),n.channels=new C.Channels(n.services),n.channelsPromise=n.sessionPromise.then(function(){return n.channels.on("channelAdded",n.emit.bind(n,"channelAdded")),n.channels.on("channelRemoved",n.emit.bind(n,"channelRemoved")),n.channels.on("channelInvited",n.emit.bind(n,"channelInvited")),n.channels.on("channelJoined",n.emit.bind(n,"channelJoined")),n.channels.on("channelLeft",n.emit.bind(n,"channelLeft")),n.channels.on("channelUpdated",function(e){return n.emit("channelUpdated",e)}),n.channels.on("memberJoined",n.emit.bind(n,"memberJoined")),n.channels.on("memberLeft",n.emit.bind(n,"memberLeft")),n.channels.on("memberUpdated",function(e){return n.emit("memberUpdated",e)}),n.channels.on("messageAdded",n.emit.bind(n,"messageAdded")),n.channels.on("messageUpdated",function(e){return n.emit("messageUpdated",e)}),n.channels.on("messageRemoved",n.emit.bind(n,"messageRemoved")),n.channels.on("typingStarted",n.emit.bind(n,"typingStarted")),n.channels.on("typingEnded",n.emit.bind(n,"typingEnded")),n.channels.fetchChannels()}).then(function(){return n.channels}),n.services.notificationClient.on("connectionStateChanged",function(e){var t=null;switch(e){case"connected":t="connected";break;case"denied":t="denied";break;case"disconnecting":t="disconnecting";break;case"disconnected":t="disconnected";break;default:t="connecting"}t!==n.connectionState&&(n.connectionState=t,n.emit("connectionStateChanged",n.connectionState))}),n.fpaToken=e,n}(t.Client=J).version=G,J.supportedPushChannels=["fcm","apn","gcm"],J.supportedPushDataFields={channel_sid:"channelSid",message_sid:"messageSid",message_index:"messageIndex"},t.default=J},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(175),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(D,e){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag",o="object"==typeof D,s=e.regeneratorRuntime;if(s)o&&(D.exports=s);else{(s=e.regeneratorRuntime=o?D.exports:{}).wrap=b;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={},l={};l[i]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&c.call(y,i)&&(l=y);var g=_.prototype=k.prototype=Object.create(l);x.prototype=g.constructor=_,_.constructor=x,_[a]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},s.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[r]=function(){return this},s.AsyncIterator=E,s.async=function(e,t,n,r){var i=new E(b(e,t,n,r));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(g),g[a]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),m}}}function b(e,t,n,r){var a,o,s,u,i=t&&t.prototype instanceof k?t:k,c=Object.create(i.prototype),l=new M(r||[]);return c._invoke=(a=e,o=n,s=l,u=f,function(e,t){if(u===p)throw new Error("Generator is already running");if(u===h){if("throw"===e)throw t;return I()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=C(n,s);if(r){if(r===m)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===f)throw u=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=p;var i=w(a,o,s);if("normal"===i.type){if(u=s.done?h:d,i.arg===m)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=h,s.method="throw",s.arg=i.arg)}}),c}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function x(){}function _(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(u){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,i){var a=w(u[e],u,n);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):Promise.resolve(s).then(function(e){o.value=e,r(o)},i)}i(a.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function C(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,C(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=w(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:I}}function I(){return{value:u,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){n(177),e.exports=n(9).Object.assign},function(e,t,n){var r=n(12);r(r.S+r.F,"Object",{assign:n(178)})},function(e,t,n){"use strict";var d=n(22),p=n(69),h=n(86),m=n(72),v=n(50),y=n(80),i=Object.assign;e.exports=!i||n(30)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,i=1,a=h.f,o=m.f;i<r;)for(var s,u=y(arguments[i++]),c=a?p(u).concat(a(u)):p(u),l=c.length,f=0;f<l;)s=c[f++],d&&!o.call(u,s)||(n[s]=u[s]);return n}:i},function(e,t,n){var u=n(49),c=n(70),l=n(180);e.exports=function(s){return function(e,t,n){var r,i=u(e),a=c(i.length),o=l(n,a);if(s&&t!=t){for(;o<a;)if((r=i[o++])!=r)return!0}else for(;o<a;o++)if((s||o in i)&&i[o]===t)return s||o||0;return!s&&-1}}},function(e,t,n){var r=n(82),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){n(73),n(42),n(52),n(187),n(190),n(191),e.exports=n(9).Promise},function(e,t,n){var u=n(82),c=n(81);e.exports=function(s){return function(e,t){var n,r,i=String(c(e)),a=u(t),o=i.length;return a<0||o<=a?s?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===o||(r=i.charCodeAt(a+1))<56320||57343<r?s?i.charAt(a):n:s?i.slice(a,a+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(60),i=n(57),a=n(61),o={};n(29)(o,n(16)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var o=n(20),s=n(21),u=n(69);e.exports=n(22)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,a=0;a<i;)o.f(e,n=r[a++],t[n]);return e}},function(e,t,n){"use strict";var r=n(186),i=n(113),a=n(51),o=n(49);e.exports=n(87)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";function r(){}function f(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t}function i(l,n){if(!l._n){l._n=!0;var r=l._c;_(function(){for(var u=l._v,c=1==l._s,e=0,t=function(e){var t,n,r,i=c?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain;try{i?(c||(2==l._h&&F(l),l._h=1),!0===i?t=u:(s&&s.enter(),t=i(u),s&&(s.exit(),r=!0)),t===e.promise?o(O("Promise-chain cycle")):(n=f(t))?n.call(t,a,o):a(t)):o(u)}catch(e){s&&!r&&s.exit(),o(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&R(l)})}}function a(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),i(t,!0))}function o(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw O("Promise can't be resolved itself");(n=f(e))?_(function(){var t={_w:r,_d:!1};try{n.call(e,h(o,t,1),h(a,t,1))}catch(e){a.call(t,e)}}):(r._v=e,r._s=1,i(r,!1))}catch(e){a.call({_w:r,_d:!1},e)}}}var s,u,c,l,d=n(59),p=n(14),h=n(28),m=n(74),v=n(12),y=n(17),g=n(40),b=n(88),w=n(62),k=n(116),x=n(117).set,_=n(188)(),S=n(90),E=n(119),C=n(189),T=n(120),O=p.TypeError,M=p.process,P=M&&M.versions,I=P&&P.v8||"",D=p.Promise,A="process"==m(M),N=u=S.f,L=!!function(){try{var e=D.resolve(1),t=(e.constructor={})[n(16)("species")]=function(e){e(r,r)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==I.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),R=function(a){x.call(p,function(){var e,t,n,r=a._v,i=j(a);if(i&&(e=E(function(){A?M.emit("unhandledRejection",r,a):(t=p.onunhandledrejection)?t({promise:a,reason:r}):(n=p.console)&&n.error&&n.error("Unhandled promise rejection",r)}),a._h=A||j(a)?2:1),a._a=void 0,i&&e.e)throw e.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(t){x.call(p,function(){var e;A?M.emit("rejectionHandled",t):(e=p.onrejectionhandled)&&e({promise:t,reason:t._v})})};L||(D=function(e){b(this,D,"Promise","_h"),g(e),s.call(this);try{e(h(o,this,1),h(a,this,1))}catch(e){a.call(this,e)}},(s=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(91)(D.prototype,{then:function(e,t){var n=N(k(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&i(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),c=function(){var e=new s;this.promise=e,this.resolve=h(o,e,1),this.reject=h(a,e,1)},S.f=N=function(e){return e===D||e===l?new c(e):u(e)}),v(v.G+v.W+v.F*!L,{Promise:D}),n(61)(D,"Promise"),n(121)("Promise"),l=n(9).Promise,v(v.S+v.F*!L,"Promise",{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),v(v.S+v.F*(d||!L),"Promise",{resolve:function(e){return T(d&&this===l?D:this,e)}}),v(v.S+v.F*!(L&&n(122)(function(e){D.all(e).catch(r)})),"Promise",{all:function(e){var o=this,t=N(o),s=t.resolve,u=t.reject,n=E(function(){var r=[],i=0,a=1;w(e,!1,function(e){var t=i++,n=!1;r.push(void 0),a++,o.resolve(e).then(function(e){n||(n=!0,r[t]=e,--a||s(r))},u)}),--a||s(r)});return n.e&&u(n.v),t.promise},race:function(e){var t=this,n=N(t),r=n.reject,i=E(function(){w(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var s=n(14),u=n(117).set,c=s.MutationObserver||s.WebKitMutationObserver,l=s.process,f=s.Promise,d="process"==n(58)(l);e.exports=function(){function e(){var e,t;for(d&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,i;if(d)i=function(){l.nextTick(e)};else if(!c||s.navigator&&s.navigator.standalone)if(f&&f.resolve){var t=f.resolve(void 0);i=function(){t.then(e)}}else i=function(){u.call(s,e)};else{var a=!0,o=document.createTextNode("");new c(e).observe(o,{characterData:!0}),i=function(){o.data=a=!a}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},function(e,t,n){var r=n(14).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(12),i=n(9),a=n(14),o=n(116),s=n(120);r(r.P+r.R,"Promise",{finally:function(t){var n=o(this,i.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(12),i=n(90),a=n(119);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(193),e.exports=n(9).Object.getPrototypeOf},function(e,t,n){var r=n(50),i=n(112);n(194)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var i=n(12),a=n(9),o=n(30);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",r)}},function(e,t,n){e.exports={default:n(196),__esModule:!0}},function(e,t,n){n(197);var r=n(9).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(12);r(r.S+r.F*!n(22),"Object",{defineProperty:n(20).f})},function(e,t,n){e.exports={default:n(199),__esModule:!0}},function(e,t,n){n(42),n(52),e.exports=n(92).f("iterator")},function(e,t,n){e.exports={default:n(201),__esModule:!0}},function(e,t,n){n(202),n(73),n(205),n(206),e.exports=n(9).Symbol},function(e,t,n){"use strict";function r(e){var t=Y[e]=P(U.prototype);return t._k=e,t}function i(e,t){S(e);for(var n,r=x(t=T(t)),i=0,a=r.length;i<a;)ee(e,n=r[i++],t[n]);return e}function a(e){var t=H.call(this,e=O(e,!0));return!(this===$&&l(Y,e)&&!l(G,e))&&(!(t||!l(this,e)||!l(Y,e)||l(this,q)&&this[q][e])||t)}function o(e,t){if(e=T(e),t=O(t,!0),e!==$||!l(Y,t)||l(G,t)){var n=R(e,t);return!n||!l(Y,t)||l(e,q)&&e[q][t]||(n.enumerable=!0),n}}function s(e){for(var t,n=F(T(e)),r=[],i=0;n.length>i;)l(Y,t=n[i++])||t==q||t==h||r.push(t);return r}function u(e){for(var t,n=e===$,r=F(n?G:T(e)),i=[],a=0;r.length>a;)!l(Y,t=r[a++])||n&&!l($,t)||i.push(Y[t]);return i}var c=n(14),l=n(41),f=n(22),d=n(12),p=n(110),h=n(93).KEY,m=n(30),v=n(84),y=n(61),g=n(71),b=n(16),w=n(92),k=n(94),x=n(203),_=n(124),S=n(21),E=n(17),C=n(50),T=n(49),O=n(79),M=n(57),P=n(60),I=n(204),D=n(126),A=n(86),N=n(20),L=n(69),R=D.f,j=N.f,F=I.f,U=c.Symbol,B=c.JSON,z=B&&B.stringify,q=b("_hidden"),W=b("toPrimitive"),H={}.propertyIsEnumerable,V=v("symbol-registry"),Y=v("symbols"),G=v("op-symbols"),$=Object.prototype,J="function"==typeof U&&!!A.f,Q=c.QObject,K=!Q||!Q.prototype||!Q.prototype.findChild,X=f&&m(function(){return 7!=P(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R($,t);r&&delete $[t],j(e,t,n),r&&e!==$&&j($,t,r)}:j,Z=J&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},ee=function(e,t,n){return e===$&&ee(G,t,n),S(e),t=O(t,!0),S(n),l(Y,t)?(n.enumerable?(l(e,q)&&e[q][t]&&(e[q][t]=!1),n=P(n,{enumerable:M(0,!1)})):(l(e,q)||j(e,q,M(1,{})),e[q][t]=!0),X(e,t,n)):j(e,t,n)};J||(p((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var n=g(0<arguments.length?arguments[0]:void 0);return f&&K&&X($,n,{configurable:!0,set:function e(t){this===$&&e.call(G,t),l(this,q)&&l(this[q],n)&&(this[q][n]=!1),X(this,n,M(1,t))}}),r(n)}).prototype,"toString",function(){return this._k}),D.f=o,N.f=ee,n(125).f=I.f=s,n(72).f=a,A.f=u,f&&!n(59)&&p($,"propertyIsEnumerable",a,!0),w.f=function(e){return r(b(e))}),d(d.G+d.W+d.F*!J,{Symbol:U});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)b(te[ne++]);for(var re=L(b.store),ie=0;re.length>ie;)k(re[ie++]);d(d.S+d.F*!J,"Symbol",{for:function(e){return l(V,e+="")?V[e]:V[e]=U(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),d(d.S+d.F*!J,"Object",{create:function(e,t){return void 0===t?P(e):i(P(e),t)},defineProperty:ee,defineProperties:i,getOwnPropertyDescriptor:o,getOwnPropertyNames:s,getOwnPropertySymbols:u});var ae=m(function(){A.f(1)});d(d.S+d.F*ae,"Object",{getOwnPropertySymbols:function(e){return A.f(C(e))}}),B&&d(d.S+d.F*(!J||m(function(){var e=U();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(E(t)||void 0!==e)&&!Z(e))return _(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,z.apply(B,r)}}),U.prototype[W]||n(29)(U.prototype,W,U.prototype.valueOf),y(U,"Symbol"),y(Math,"Math",!0),y(c.JSON,"JSON",!0)},function(e,t,n){var s=n(69),u=n(86),c=n(72);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),a=c.f,o=0;i.length>o;)a.call(e,r=i[o++])&&t.push(r);return t}},function(e,t,n){var r=n(49),i=n(125).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){n(94)("asyncIterator")},function(e,t,n){n(94)("observable")},function(e,t,n){n(208),e.exports=n(9).Object.setPrototypeOf},function(e,t,n){var r=n(12);r(r.S,"Object",{setPrototypeOf:n(209).set})},function(e,t,i){function a(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=i(17),r=i(21);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i(28)(Function.call,i(126).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:a}},function(e,t,n){n(211);var r=n(9).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(12);r(r.S,"Object",{create:n(60)})},function(e,t,n){n(42),n(213),e.exports=n(9).Array.from},function(e,t,n){"use strict";var d=n(28),r=n(12),p=n(50),h=n(114),m=n(115),v=n(70),y=n(214),g=n(89);r(r.S+r.F*!n(122)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,a=p(e),o="function"==typeof this?this:Array,s=arguments.length,u=1<s?arguments[1]:void 0,c=void 0!==u,l=0,f=g(a);if(c&&(u=d(u,2<s?arguments[2]:void 0,2)),null==f||o==Array&&m(f))for(n=new o(t=v(a.length));l<t;l++)y(n,l,c?u(a[l],l):a[l]);else for(i=f.call(a),n=new o;!(r=i.next()).done;l++)y(n,l,c?h(i,u,[r.value,l],!0):r.value);return n.length=l,n}})},function(e,t,n){"use strict";var r=n(20),i=n(57);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=a(n(7)),i=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=((0,i.default)(s,[{key:"typingIndicatorTimeoutDefault",get:function(){return 5e3}},{key:"httpCacheIntervalDefault",get:function(){return"PT5S"}},{key:"consumptionReportIntervalDefault",get:function(){return"PT5S"}},{key:"userInfosToSubscribeDefault",get:function(){return 100}},{key:"retryWhenThrottledDefault",get:function(){return!0}},{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}}]),s);function s(e){(0,r.default)(this,s);var t=(e=e||{}).Chat||e.IPMessaging||e||{};this.region=t.region||e.region,this.baseUrl=t.apiUri||t.typingUri||(this.region&&"us1"!==this.region?"https://aim."+this.region+".twilio.com":"https://aim.twilio.com"),this.typingIndicatorUri=this.baseUrl+"/v1/typing",this.typingIndicatorTimeoutOverride=t.typingIndicatorTimeoutOverride,this.httpCacheIntervalOverride=t.httpCacheIntervalOverride,this.consumptionReportIntervalOverride=t.consumptionReportIntervalOverride,this.userInfosToSubscribeOverride=t.userInfosToSubscribeOverride,this.retryWhenThrottledOverride=t.retryWhenThrottledOverride,this.backoffConfigOverride=t.backoffConfigOverride}t.Configuration=o},function(e,t,n){var r=n(9),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(131),r=n(218),o=n(220);function a(e,t){var n=i.Pointer.fromJSON(t).evaluate(e);if(void 0!==n)return{op:"test",path:t,value:n.value}}t.applyPatch=function(t,e){return e.map(function(e){return r.apply(t,e)})},t.createPatch=function(e,t,n){var a,r=new i.Pointer;return(n?(a=n,function e(t,n,r){var i=a(t,n,r);return Array.isArray(i)?i:o.diffAny(t,n,r,e)}):o.diffAny)(e,t,r)},t.createTests=function(r,e){var i=new Array;return e.filter(o.isDestructive).forEach(function(e){var t=a(r,e.path);if(t&&i.push(t),"from"in e){var n=a(r,e.from);n&&i.push(n)}}),i}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(131),s=n(219),u=n(132),c=(a=Error,i(l,a),l);function l(e){var t=a.call(this,"Value required at path: "+e)||this;return t.path=e,t.name="MissingError",t}t.MissingError=c;var f,d=(f=Error,i(p,f),p);function p(e,t){var n=f.call(this,"Test failed: "+e+" != "+t)||this;return n.actual=e,n.expected=t,n.name="TestError",n.actual=e,n.expected=t,n}function h(e,t,n){if(Array.isArray(e))if("-"==t)e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function m(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function v(e,t){var n=o.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.parent?new c(t.path):(h(n.parent,n.key,s.clone(t.value)),null)}function y(e,t){var n=o.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.value?new c(t.path):(m(n.parent,n.key),null)}function g(e,t){var n=o.Pointer.fromJSON(t.path).evaluate(e);if(null===n.parent)return new c(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new c(t.path)}else if(void 0===n.value)return new c(t.path);return n.parent[n.key]=t.value,null}function b(e,t){var n=o.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new c(t.from);var r=o.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new c(t.path):(m(n.parent,n.key),h(r.parent,r.key,n.value),null)}function w(e,t){var n=o.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new c(t.from);var r=o.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new c(t.path):(h(r.parent,r.key,s.clone(n.value)),null)}function k(e,t){var n=o.Pointer.fromJSON(t.path).evaluate(e);return u.compare(n.value,t.value)?null:new d(n.value,t.value)}t.TestError=d,t.add=v,t.remove=y,t.replace=g,t.move=b,t.copy=w,t.test=k;var x,_=(x=Error,i(S,x),S);function S(e){var t=x.call(this,"Invalid operation: "+e.op)||this;return t.operation=e,t.name="InvalidOperationError",t}t.InvalidOperationError=_,t.apply=function(e,t){switch(t.op){case"add":return v(e,t);case"remove":return y(e,t);case"replace":return g(e,t);case"move":return b(e,t);case"copy":return w(e,t);case"test":return k(e,t)}return new _(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.prototype.hasOwnProperty;t.clone=function e(t){if(null==t||"object"!=typeof t)return t;if(t.constructor==Array){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i]);return r}var a={};for(var o in t)s.call(t,o)&&(a[o]=e(t[o]));return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=n(132),o=Object.prototype.hasOwnProperty;function s(e,t){var n={};for(var r in e)o.call(e,r)&&void 0!==e[r]&&(n[r]=1);for(var i in t)o.call(t,i)&&void 0!==t[i]&&delete n[i];return Object.keys(n)}function u(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];for(var a in i)o.call(i,a)&&void 0!==i[a]&&(n[a]=(n[a]||0)+1)}for(var a in n)n[a]<t&&delete n[a];return Object.keys(n)}function v(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function c(d,p,c,l){void 0===l&&(l=y);var h={"0,0":{operations:[],cost:0}},f=isNaN(d.length)||d.length<=0?0:d.length,e=isNaN(p.length)||p.length<=0?0:p.length;return function e(t,n){var r=t+","+n,i=h[r];if(void 0===i){if(0<t&&0<n&&m.compare(d[t-1],p[n-1]))i=e(t-1,n-1);else{var a=[];if(0<t){var o=e(t-1,n),s={op:"remove",index:t-1};a.push(v(o,s))}if(0<n){var u=e(t,n-1),c={op:"add",index:t-1,value:p[n-1]};a.push(v(u,c))}if(0<t&&0<n){var l=e(t-1,n-1),f={op:"replace",index:t-1,original:d[t-1],value:p[n-1]};a.push(v(l,f))}i=a.sort(function(e,t){return e.cost-t.cost})[0]}h[r]=i}return i}(f,e).operations.reduce(function(e,t){var n=e[0],r=e[1];if("add"===t.op){var i=t.index+1+r,a=i<f+r?String(i):"-",o={op:t.op,path:c.add(a).toString(),value:t.value};return[n.concat(o),r+1]}if("remove"===t.op)return o={op:t.op,path:c.add(String(t.index+r)).toString()},[n.concat(o),r-1];var s=c.add(String(t.index+r)),u=l(t.original,t.value,s);return[n.concat.apply(n,u),r]},[[],0])[0]}function l(t,n,r,i){void 0===i&&(i=y);var a=[];return s(t,n).forEach(function(e){a.push({op:"remove",path:r.add(e).toString()})}),s(n,t).forEach(function(e){a.push({op:"add",path:r.add(e).toString(),value:n[e]})}),u([t,n]).forEach(function(e){a.push.apply(a,i(t[e],n[e],r.add(e)))}),a}function f(e,t,n){return m.compare(e,t)?[]:[{op:"replace",path:n.toString(),value:t}]}function y(e,t,n,r){void 0===r&&(r=y);var i=m.objectType(e),a=m.objectType(t);return"array"==i&&"array"==a?c(e,t,n,r):"object"==i&&"object"==a?l(e,t,n,r):f(e,t,n)}t.isDestructive=function(e){var t=e.op;return"remove"===t||"replace"===t||"copy"===t||"move"===t},t.subtract=s,t.intersection=u,t.diffArrays=c,t.diffObjects=l,t.diffValues=f,t.diffAny=y},function(e,t,n){"use strict";var a=s(n(13)),r=s(n(15)),i=s(n(7)),o=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l,f=n(26),d=n(75),p=n(133),h=((0,o.default)(m,[{key:"getChannels",value:(l=(0,r.default)(a.default.mark(function e(){var t,n,r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.UriBuilder(this.url).arg("PageToken",i.pageToken).build(),e.next=3,this.services.network.get(t);case 3:return n=e.sent,e.abrupt("return",new d.RestPaginator(n.body.channels.map(function(e){return new p.ChannelDescriptor(r.client,e)}),function(e){return r.getChannels({pageToken:e})},n.body.meta.previous_token,n.body.meta.next_token));case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getChannelBySid",value:(c=(0,r.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.UriBuilder(this.url).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new p.ChannelDescriptor(this.client,r.body));case 5:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"getChannelByUniqueName",value:(u=(0,r.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.UriBuilder(this.url).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new p.ChannelDescriptor(this.client,r.body));case 5:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})}]),m);function m(e,t,n){(0,i.default)(this,m),this.client=e,this.services=t,this.url=n}t.PublicChannels=h},function(e,t,n){n(52),n(42),e.exports=n(223)},function(e,t,n){var r=n(21),i=n(89);e.exports=n(9).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(73),n(42),n(52),n(225),n(229),n(231),n(232),e.exports=n(9).Map},function(e,t,n){"use strict";var r=n(135),i=n(96);e.exports=n(136)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var b=n(28),w=n(80),k=n(50),x=n(70),r=n(227);e.exports=function(f,e){var d=1==f,p=2==f,h=3==f,m=4==f,v=6==f,y=5==f||v,g=e||r;return function(e,t,n){for(var r,i,a=k(e),o=w(a),s=b(t,n,3),u=x(o.length),c=0,l=d?g(e,u):p?g(e,0):void 0;c<u;c++)if((y||c in o)&&(i=s(r=o[c],c,a),f))if(d)l[c]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:l.push(r)}else if(m)return!1;return v?-1:h||m?m:l}}},function(e,t,n){var r=n(228);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(17),i=n(124),a=n(16)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(12);r(r.P+r.R,"Map",{toJSON:n(137)("Map")})},function(e,t,n){var r=n(62);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(138)("Map")},function(e,t,n){n(139)("Map")},function(e,t,n){n(234),e.exports=n(9).Number.isInteger},function(e,t,n){var r=n(12);r(r.S,"Number",{isInteger:n(235)})},function(e,t,n){var r=n(17),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";var a=f(n(18)),o=f(n(13)),r=f(n(15)),i=f(n(23)),s=f(n(7)),u=f(n(8)),c=f(n(24)),l=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,p,h,m,v,y=n(10),g=n(141),b=n(19).Logger.scope("Members"),w=(d=y.EventEmitter,(0,l.default)(k,d),(0,u.default)(k,[{key:"unsubscribe",value:(v=(0,r.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rosterEntityPromise)return e.next=3,this.rosterEntityPromise;e.next=6;break;case 3:e.sent.close(),this.rosterEntityPromise=null;case 6:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"subscribe",value:function(e){var i=this;return this.rosterEntityPromise=this.rosterEntityPromise||this.services.syncClient.map({id:e,mode:"open_existing"}).then(function(e){e.on("itemAdded",function(e){b.debug(i.channel.sid+" itemAdded: "+e.item.key),i.upsertMember(e.item.key,e.item.value).then(function(e){i.emit("memberJoined",e)})}),e.on("itemRemoved",function(e){b.debug(i.channel.sid+" itemRemoved: "+e.key);var t=e.key;if(i.members.has(t)){var n=i.members.get(t);i.members.delete(t),i.emit("memberLeft",n)}}),e.on("itemUpdated",function(e){b.debug(i.channel.sid+" itemUpdated: "+e.item.key),i.upsertMember(e.item.key,e.item.value)});var n=[],r=i;return e.getItems().then(function e(t){return t.items.forEach(function(e){n.push(r.upsertMember(e.key,e.value))}),t.hasNextPage?t.nextPage().then(e):null}).then(function(){return a.default.all(n)}).then(function(){return e})}).catch(function(e){throw i.rosterEntityPromise=null,"disconnected"!=i.services.syncClient.connectionState&&b.error("Failed to get roster object for channel",i.channel.sid,e),b.debug("ERROR: Failed to get roster object for channel",i.channel.sid,e),e})}},{key:"upsertMember",value:(m=(0,r.default)(o.default.mark(function e(t,n){var r,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.members.get(t))return e.abrupt("return",r._update(n));e.next=3;break;case 3:return r=new g.Member(this.services,this.channel,n,t),this.members.set(t,r),r.on("updated",function(e){return i.emit("memberUpdated",e)}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"getMembers",value:function(){var e=this;return this.rosterEntityPromise.then(function(){var t=[];return e.members.forEach(function(e){return t.push(e)}),t})}},{key:"getMemberBySid",value:(h=(0,r.default)(o.default.mark(function e(t){var n=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise.then(function(){var e=n.members.get(t);if(!e)throw new Error("Member with SID "+t+" was not found");return e}));case 1:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getMemberByIdentity",value:(p=(0,r.default)(o.default.mark(function e(t){var n,r=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.abrupt("return",this.rosterEntityPromise.then(function(){if(r.members.forEach(function(e){e.identity===t&&(n=e)}),!n)throw new Error("Member with identity "+t+" was not found");return n}));case 2:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"add",value:function(e){return this.services.session.addCommand("addMemberV2",{channelSid:this.channel.sid,username:e})}},{key:"invite",value:function(e){return this.services.session.addCommand("inviteMember",{channelSid:this.channel.sid,username:e})}},{key:"removeByIdentity",value:function(e){return this.services.session.addCommand("removeMember",{channelSid:this.channel.sid,username:e})}},{key:"removeBySid",value:function(e){return this.services.session.addCommand("removeMember",{channelSid:this.channel.sid,memberSid:e})}}]),k);function k(e,t,n){(0,s.default)(this,k);var r=(0,c.default)(this,(k.__proto__||(0,i.default)(k)).call(this));return r.services=t,r.channel=e,r.members=n,r}t.Members=w},function(e,t,n){"use strict";var a=p(n(18)),o=p(n(43)),s=p(n(13)),r=p(n(15)),i=p(n(31)),u=p(n(23)),c=p(n(7)),l=p(n(8)),f=p(n(24)),d=p(n(25));function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var h,m,v,y,g=n(10),b=n(19),w=n(238),k=b.Logger.scope("Messages"),x=(h=g.EventEmitter,(0,d.default)(_,h),(0,l.default)(_,[{key:"subscribe",value:function(e){var r=this;return this.messagesListPromise=this.messagesListPromise||this.services.syncClient.list({id:e,mode:"open_existing"}).then(function(e){return e.on("itemAdded",function(e){k.debug(r.channel.sid+" itemAdded: "+e.item.index);var t=new w.Message(r.channel,r.services,e.item.index,e.item.value);r.messagesByIndex.has(t.index)?k.debug("Message arrived, but already known and ignored",r.channel.sid,t.index):(r.messagesByIndex.set(t.index,t),t.on("updated",function(e){return r.emit("messageUpdated",e)}),r.emit("messageAdded",t))}),e.on("itemRemoved",function(e){k.debug(r.channel.sid+" itemRemoved: "+e.index);var t=e.index;if(r.messagesByIndex.has(t)){var n=r.messagesByIndex.get(t);r.messagesByIndex.delete(n.index),n.removeAllListeners("updated"),r.emit("messageRemoved",n)}}),e.on("itemUpdated",function(e){k.debug(r.channel.sid+" itemUpdated: "+e.item.index);var t=r.messagesByIndex.get(e.item.index);t&&t._update(e.item.value)}),e}).catch(function(e){throw r.messagesListPromise=null,"disconnected"!=r.services.syncClient.connectionState&&k.error("Failed to get messages object for channel",r.channel.sid,e),k.debug("ERROR: Failed to get messages object for channel",r.channel.sid,e),e})}},{key:"unsubscribe",value:(y=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messagesListPromise)return e.next=3,this.messagesListPromise;e.next=6;break;case 3:e.sent.close(),this.messagesListPromise=null;case 6:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"send",value:(v=(0,r.default)(s.default.mark(function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k.debug("Sending text message",t,n),null===n)throw new Error("Attributes can't be null");e.next=3;break;case 3:if(n.constructor!==Object)throw new Error("Attributes must be a valid JSON object");e.next=5;break;case 5:return e.abrupt("return",this.services.session.addCommand("sendMessage",{channelSid:this.channel.sid,text:t,attributes:(0,o.default)(n)}));case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"sendMedia",value:(m=(0,r.default)(s.default.mark(function e(t){var n,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k.debug("Sending media message",t,i),i.constructor!==Object)throw new Error("Attributes must be a valid JSON object");e.next=3;break;case 3:if(n=void 0,t instanceof FormData)return k.debug("Sending media message as FormData",t,i),e.next=8,this.services.mcsClient.postFormData(t);e.next=11;break;case 8:n=e.sent,e.next=18;break;case 11:if(k.debug("Sending media message as SendMediaOptions",t,i),(r=t).contentType&&r.media){e.next=15;break}throw new Error("Media content <Channel#SendMediaOptions> must contain non-empty contentType and media");case 15:return e.next=17,this.services.mcsClient.post(r.contentType,r.media);case 17:n=e.sent;case 18:return e.abrupt("return",this.services.session.addCommand("sendMediaMessage",{channelSid:this.channel.sid,mediaSid:n.sid,attributes:(0,o.default)(i)}));case 19:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"getMessages",value:function(e,t,n){return t=void 0!==t?t:"end",n=n||"backwards",this._getMessages(e,t,n)}},{key:"wrapPaginator",value:function(t,n,r){function i(){return n.nextPage().then(function(e){return o.wrapPaginator(t,e,r)})}function a(){return n.prevPage().then(function(e){return o.wrapPaginator(t,e,r)})}var o=this,s="desc"===t;return r(n.items).then(function(e){return{items:e.sort(function(e,t){return e.index-t.index}),hasPrevPage:s?n.hasNextPage:n.hasPrevPage,hasNextPage:s?n.hasPrevPage:n.hasNextPage,prevPage:s?i:a,nextPage:s?a:i}})}},{key:"_upsertMessage",value:function(e,t){var n=this,r=this.messagesByIndex.get(e);if(r)return r;var i=new w.Message(this.channel,this.services,e,t);return this.messagesByIndex.set(i.index,i),i.on("updated",function(e){return n.emit("messageUpdated",e)}),i}},{key:"_getMessages",value:function(t,n,e){var r=this;n=void 0!==n?n:"end",t=t||30;var i="backwards"===e?"desc":"asc";return this.messagesListPromise.then(function(e){return e.getItems({from:"end"!==n?n:void 0,pageSize:t,order:i})}).then(function(e){return r.wrapPaginator(i,e,function(e){return a.default.all(e.map(function(e){return r._upsertMessage(e.index,e.value)}))})})}}]),_);function _(e,t){(0,c.default)(this,_);var n=(0,f.default)(this,(_.__proto__||(0,u.default)(_)).call(this));return n.channel=e,n.services=t,n.messagesByIndex=new i.default,n.messagesListPromise=null,n}t.Messages=x},function(e,t,n){"use strict";var r=f(n(43)),i=f(n(13)),a=f(n(15)),o=f(n(23)),s=f(n(7)),u=f(n(8)),c=f(n(24)),l=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=n(10),p=n(26),h=n(19),m=n(239),v=h.Logger.scope("Message");function y(t,e){try{return e?JSON.parse(e):{}}catch(e){return v.warn("Got malformed attributes for the message",t),{}}}var g,b,w,k,x,_=(g=d.EventEmitter,(0,l.default)(S,g),(0,u.default)(S,[{key:"_update",value:function(e){var t=[];!e.text&&"string"!=typeof e.text||e.text===this.state.body||(this.state.body=e.text,t.push("body")),e.lastUpdatedBy&&e.lastUpdatedBy!==this.state.lastUpdatedBy&&(this.state.lastUpdatedBy=e.lastUpdatedBy,t.push("lastUpdatedBy")),e.author&&e.author!==this.state.author&&(this.state.author=e.author,t.push("author")),e.dateUpdated&&new Date(e.dateUpdated).getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=new Date(e.dateUpdated),t.push("dateUpdated")),e.timestamp&&new Date(e.timestamp).getTime()!==(this.state.timestamp&&this.state.timestamp.getTime())&&(this.state.timestamp=new Date(e.timestamp),t.push("timestamp"));var n=y(this.sid,e.attributes);p.isDeepEqual(this.state.attributes,n)||(this.state.attributes=n,t.push("attributes")),0<t.length&&this.emit("updated",{message:this,updateReasons:t})}},{key:"getMember",value:(x=(0,a.default)(i.default.mark(function e(){var t,n,r=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,this.state.memberSid)return e.next=4,this.channel.getMemberBySid(this.memberSid).catch(function(){return v.debug('Member with sid "'+r.memberSid+'" not found for message '+r.sid),null});e.next=5;break;case 4:t=e.sent;case 5:if(!t&&this.state.author)return e.next=8,this.channel.getMemberByIdentity(this.state.author).catch(function(){return v.debug('Member with identity "'+r.author+'" not found for message '+r.sid),null});e.next=9;break;case 8:t=e.sent;case 9:if(t)return e.abrupt("return",t);e.next=11;break;case 11:throw n="Member with ",this.state.memberSid&&(n+="SID '"+this.state.memberSid+"' "),this.state.author&&(this.state.memberSid&&(n+="or "),n+="identity '"+this.state.author+"' "),"Member with "===n&&(n="Member "),n+="was not found",new Error(n);case 17:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"remove",value:(k=(0,a.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("deleteMessage",{channelSid:this.channel.sid,messageIdx:this.index.toString()});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"updateBody",value:(w=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t)throw new Error("Body <String> is a required parameter for updateBody");e.next=2;break;case 2:return e.next=4,this.services.session.addCommand("editMessage",{channelSid:this.channel.sid,messageIdx:this.index.toString(),text:t});case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"updateAttributes",value:(b=(0,a.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t)throw new Error("Attributes is required parameter");e.next=4;break;case 4:if(null===t)throw new Error("Attributes can't be null");e.next=8;break;case 8:if(t.constructor!==Object)throw new Error("Attributes must be a valid JSON object");e.next=10;break;case 10:return e.next=12,this.services.session.addCommand("editMessageAttributes",{channelSid:this.channel.sid,messageIdx:this.index,attributes:(0,r.default)(t)});case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"sid",get:function(){return this.state.sid}},{key:"author",get:function(){return this.state.author}},{key:"body",get:function(){return"media"===this.type?null:this.state.body}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"index",get:function(){return this.state.index}},{key:"lastUpdatedBy",get:function(){return this.state.lastUpdatedBy}},{key:"timestamp",get:function(){return this.state.timestamp}},{key:"attributes",get:function(){return this.state.attributes}},{key:"type",get:function(){return this.state.type}},{key:"media",get:function(){return this.state.media}},{key:"memberSid",get:function(){return this.state.memberSid}}]),S);function S(e,t,n,r){(0,s.default)(this,S);var i=(0,c.default)(this,(S.__proto__||(0,o.default)(S)).call(this));return i.channel=e,i.services=t,i.state={sid:r.sid,index:n,author:null==r.author?null:r.author,body:r.text,timestamp:r.timestamp?new Date(r.timestamp):null,dateUpdated:r.dateUpdated?new Date(r.dateUpdated):null,lastUpdatedBy:r.lastUpdatedBy?r.lastUpdatedBy:null,attributes:y(r.sid,r.attributes),type:r.type?r.type:"text",media:r.type&&"media"===r.type&&r.media?new m.Media(r.media,i.services):null,memberSid:null==r.memberSid?null:r.memberSid},i}t.Message=_},function(e,t,n){"use strict";var r=s(n(13)),i=s(n(15)),a=s(n(7)),o=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,c=((0,o.default)(l,[{key:"getContentUrl",value:(u=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mcsMedia){e.next=8;break}if(this.services.mcsClient)return e.next=4,this.services.mcsClient.get(this.state.sid);e.next=7;break;case 4:this.mcsMedia=e.sent,e.next=8;break;case 7:throw new Error("Media Content Service is unavailable");case 8:return e.abrupt("return",this.mcsMedia.getContentUrl());case 9:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"sid",get:function(){return this.state.sid}},{key:"filename",get:function(){return this.state.filename}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}}]),l);function l(e,t){(0,a.default)(this,l),this.mcsMedia=null,this.services=t,this.state={sid:e.sid,filename:e.filename,contentType:e.contentType,size:e.size}}t.Media=c},function(e,t,n){"use strict";var o=d(n(13)),r=d(n(15)),i=d(n(18)),c=d(n(95)),l=d(n(241)),a=d(n(107)),s=d(n(31)),u=d(n(7)),f=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p,h=n(53),m=((0,f.default)(v,[{key:"backoffConfig",value:function(){return(0,a.default)(this.config.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){return void 0!==this.config.retryWhenThrottledOverride?this.config.retryWhenThrottledOverride:void 0!==this.config.retryWhenThrottledDefault&&this.config.retryWhenThrottledDefault}},{key:"isExpired",value:function(e){return!this.cacheLifetime||Date.now()-e>this.cacheLifetime}},{key:"cleanupCache",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,c.default)(this.cache);!(e=(r=i.next()).done);e=!0){var a=r.value,o=(0,l.default)(a,2),s=o[0],u=o[1];this.isExpired(u.timestamp)&&this.cache.delete(s)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}0===this.cache.size&&clearInterval(this.timer)}},{key:"pokeTimer",value:function(){var e=this;this.timer=this.timer||setInterval(function(){return e.cleanupCache()},2*this.cacheLifetime)}},{key:"executeWithRetry",value:function(e){var a=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new i.default(function(t,n){var r=[502,503,504];o&&r.push(429);var i=new h.Retrier(a.backoffConfig());i.on("attempt",function(){e().then(function(e){return i.succeeded(e)}).catch(function(e){-1<r.indexOf(e.status)?i.failed(e):"Twilsock disconnected"===e.message?i.failed(e):(i.removeAllListeners(),i.cancel(),n(e))})}),i.on("succeeded",function(e){t(e)}),i.on("cancelled",function(e){return n(e)}),i.on("failed",function(e){return n(e)}),i.start()})}},{key:"get",value:(p=(0,r.default)(o.default.mark(function e(t){var n,r,i,a=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.cache.get(t))&&!this.isExpired(n.timestamp))return e.abrupt("return",n.response);e.next=3;break;case 3:return r={},e.next=6,this.executeWithRetry(function(){return a.services.transport.get(t,r)},this.retryWhenThrottled());case 6:return i=e.sent,this.cache.set(t,{response:i,timestamp:Date.now()}),this.pokeTimer(),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})}]),v);function v(e,t){var n=this;(0,u.default)(this,v),this.config=e,this.services=t,this.cache=new s.default,this.cacheLifetime=0,this.services.session.getHttpCacheInterval().then(function(e){n.cacheLifetime=1e3*e,n.cleanupCache()})}t.Network=m},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(242)),u=i(n(95));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=(0,u.default)(e);!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(243),__esModule:!0}},function(e,t,n){n(52),n(42),e.exports=n(244)},function(e,t,n){var r=n(74),i=n(16)("iterator"),a=n(51);e.exports=n(9).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(4),o=n(3),s=n(5);Object.defineProperty(t,"__esModule",{value:!0});var u,c=(u=n(10).EventEmitter,s(l,u),i(l,[{key:"attempt",value:function(){clearTimeout(this.timeout),this.attemptNum++,this.timeout=null,this.emit("attempt",this)}},{key:"nextDelay",value:function(e){if("number"==typeof e)return this.prevDelay=0,this.currDelay=e;if(0==this.attemptNum)return this.initialDelay;if(1==this.attemptNum)return this.currDelay=this.minDelay,this.currDelay;this.prevDelay=this.currDelay;var t=this.currDelay+this.prevDelay;return this.maxDelay&&t>this.maxDelay&&(this.currDelay=this.maxDelay,t=this.maxDelay),this.currDelay=t}},{key:"randomize",value:function(e){var t=e*this.randomness,n=Math.round(Math.random()*t*2-t);return Math.max(0,e+n)}},{key:"scheduleAttempt",value:function(e){var t=this;if(this.maxAttemptsCount&&this.attemptNum>=this.maxAttemptsCount)return this.cleanup(),this.emit("failed",new Error("Maximum attempt count limit reached")),void this.reject(new Error("Maximum attempt count reached"));var n=this.nextDelay(e);if(n=this.randomize(n),this.maxAttemptsTime&&this.startTimestamp+this.maxAttemptsTime<Date.now()+n)return this.cleanup(),this.emit("failed",new Error("Maximum attempt time limit reached")),void this.reject(new Error("Maximum attempt time limit reached"));this.timeout=setTimeout(function(){return t.attempt()},n)}},{key:"cleanup",value:function(){clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.attemptNum=0,this.prevDelay=0,this.currDelay=0}},{key:"start",value:function(){var n=this;if(this.inProgress)throw new Error("Retrier is already in progress");return this.inProgress=!0,new Promise(function(e,t){n.resolve=e,n.reject=t,n.startTimestamp=Date.now(),n.scheduleAttempt(n.initialDelay)})}},{key:"cancel",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.emit("cancelled"),this.reject(new Error("Cancelled")))}},{key:"succeeded",value:function(e){this.emit("succeeded",e),this.resolve(e)}},{key:"failed",value:function(e,t){if(this.timeout)throw new Error("Retrier attempt is already in progress");this.scheduleAttempt(t)}},{key:"run",value:function(e){var t=this;return this.on("attempt",function(){e().then(function(e){return t.succeeded(e)}).catch(function(e){return t.failed(e)})}),this.start()}}]),l);function l(e){var t;return r(this,l),(t=a(this,o(l).call(this))).minDelay=e.min,t.maxDelay=e.max,t.initialDelay=e.initial||0,t.maxAttemptsCount=e.maxAttemptsCount||0,t.maxAttemptsTime=e.maxAttemptsTime||0,t.randomness=e.randomness||0,t.inProgress=!1,t.attemptNum=0,t.prevDelay=0,t.currDelay=0,t}t.Retrier=c,t.default=c},function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(4),o=n(3),s=n(5);function u(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0});var c,l=(c=n(10).EventEmitter,s(f,c),i(f,[{key:"backoff",value:function(e){null==this.timeoutID&&(this.backoffNumber===this.maxNumberOfRetry?(this.emit("fail",e),this.reset()):(this.backoffDelay=this.next(),this.timeoutID=setTimeout(this.onBackoff.bind(this),this.backoffDelay),this.emit("backoff",this.backoffNumber,this.backoffDelay,e)))}},{key:"reset",value:function(){this.backoffDelay=0,this.nextBackoffDelay=this.initialDelay,this.backoffNumber=0,clearTimeout(this.timeoutID),this.timeoutID=null}},{key:"failAfter",value:function(e){if(e<=0)throw new Error("Expected a maximum number of retry greater than 0 but got ".concat(e));this.maxNumberOfRetry=e}},{key:"next",value:function(){this.backoffDelay=Math.min(this.nextBackoffDelay,this.maxDelay),this.nextBackoffDelay=this.backoffDelay*this.factor;var e=1+Math.random()*this.randomisationFactor;return Math.min(this.maxDelay,Math.round(this.backoffDelay*e))}},{key:"onBackoff",value:function(){this.timeoutID=null,this.emit("ready",this.backoffNumber,this.backoffDelay),this.backoffNumber++}}],[{key:"exponential",value:function(e){return new f(e)}}]),f);function f(e){var t;if(r(this,f),t=a(this,o(f).call(this)),u((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be equal to or greater than 1.");if(u(e.maxDelay)&&e.maxDelay<=1)throw new Error("The maximal timeout must be greater than 1.");if(u(e.randomisationFactor)&&(e.randomisationFactor<0||1<e.randomisationFactor))throw new Error("The randomisation factor must be between 0 and 1.");if(u(e.factor)&&e.factor<=1)throw new Error("Exponential factor should be greater than 1.");if(t.initialDelay=e.initialDelay||100,t.maxDelay=e.maxDelay||1e4,t.maxDelay<=t.initialDelay)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");return t.randomisationFactor=e.randomisationFactor||0,t.factor=e.factor||2,t.maxNumberOfRetry=-1,t.reset(),t}t.Backoff=l,t.default=l},function(e,t,n){"use strict";var o=s(n(13)),r=s(n(15)),i=s(n(7)),a=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(26),l=n(75),f=n(249),d=((0,a.default)(p,[{key:"getPage",value:(u=(0,r.default)(o.default.mark(function e(t){var n,r,i,a=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},e.next=3,this.services.session.getSessionLinks();case 3:return n=e.sent,r=new c.UriBuilder(n.syncListUrl).arg("PageToken",t.pageToken).build(),e.next=7,this.services.network.get(r);case 7:return i=e.sent,e.abrupt("return",new l.RestPaginator(i.body.channels.map(function(e){return new f.SyncListDescriptor(e)}),function(e){return a.getPage({pageToken:e})},i.body.meta.previous_token,i.body.meta.next_token));case 9:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})}]),p);function p(e){(0,i.default)(this,p),this.services=e}t.SyncList=d},function(e,t,n){"use strict";var r=n(7),i=r&&r.__esModule?r:{default:r};Object.defineProperty(t,"__esModule",{value:!0}),t.SyncListDescriptor=function e(t){(0,i.default)(this,e),this.descriptor=t,this.channel_sid=t.channel_sid,this.status=t.status,this.channel=t.channel,this.messages=t.messages,this.roster=t.roster,this.lastConsumedMessageIndex=t.last_consumed_message_index,this.notificationLevel=t.notification_level,this.status=t.status}},function(e,t,n){"use strict";var r=n(11),s=n(1),i=n(2),u=n(4),c=n(3),a=n(54),o=n(5);Object.defineProperty(t,"__esModule",{value:!0});var l,f=n(10),d=n(45),p=n(253),h=n(254),m=n(267),v=n(269),y=n(271),g=n(272),b=n(274),w=n(32),k=n(275),x=n(276),_=(l=f.EventEmitter,o(S,l),i(S,[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return d.log.debug("Emitting ".concat(e.toString(),"(").concat(r.map(function(e){return JSON.stringify(e)}).join(", "),")")),(t=a(c(S.prototype),"emit",this)).call.apply(t,[this,e].concat(r))}},{key:"handleStorageId",value:function(t,n){if(n.offlineStorage)if(n.offlineStorage.hasOwnProperty(t))try{this.offlineStorageDeferred.set(k.OfflineProductStorage.create(n.offlineStorage[t])),d.log.debug("Offline storage for '".concat(t,"' product: ").concat(JSON.stringify(n.offlineStorage[t]),"."))}catch(e){this.offlineStorageDeferred.fail(new w.TwilsockError("Failed to parse offline storage for ".concat(t," ").concat(JSON.stringify(n.offlineStorage[t]),". ").concat(e,".")))}else this.offlineStorageDeferred.fail(new w.TwilsockError("No offline storage id for '".concat(t,"' product: ").concat(JSON.stringify(n.offlineStorage))));else this.offlineStorageDeferred.fail(new w.TwilsockError("No offline storage id"))}},{key:"storageId",value:function(){return this.offlineStorageDeferred.promise}},{key:"updateToken",value:function(t){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.log.trace("updating token '".concat(t,"'")),this.config.token===t)return e.abrupt("return");e.next=3;break;case 3:return this.config.updateToken(t),e.abrupt("return",this.channel.updateToken(t));case 5:case"end":return e.stop()}},null,this)}},{key:"setNotificationsContext",value:function(e,t){this.registrations.setNotificationsContext(e,t)}},{key:"removeNotificationsContext",value:function(e){this.registrations.removeNotificationsContext(e)}},{key:"connect",value:function(){return this.channel.connect()}},{key:"disconnect",value:function(){return this.channel.disconnect()}},{key:"get",value:function(e,t){return this.upstream.send("GET",e,t)}},{key:"post",value:function(e,t,n){return this.upstream.send("POST",e,t,n)}},{key:"put",value:function(e,t,n){return this.upstream.send("PUT",e,t,n)}},{key:"delete",value:function(e,t){return this.upstream.send("DELETE",e,t)}},{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"state",get:function(){return this.channel.state}}]),S);function S(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};s(this,S),(n=u(this,c(S).call(this))).offlineStorageDeferred=new b.Deferred,r.continuationToken=r.continuationToken?r.continuationToken:x.TokenStorage.getStoredToken(t);var i=n.config=new p.Configuration(e,t,r);d.log.setLevel(i.logLevel);var a=new v.WebSocketChannel(i.url),o=r.transport?r.transport:new m.PacketInterface(a,i);return n.channel=r.channel?r.channel:new h.TwilsockImpl(a,o,i),n.registrations=r.registrations?r.registrations:new y.Registrations(o),n.upstream=new g.Upstream(o,n.channel,i),n.registrations.on("registered",function(e){return n.emit("registered",e)}),n.channel.on("message",function(e,t){return setTimeout(function(){return n.emit("message",e,t)},0)}),n.channel.on("stateChanged",function(e){return setTimeout(function(){return n.emit("stateChanged",e)},0)}),n.channel.on("connectionError",function(e){return setTimeout(function(){return n.emit("connectionError",e)},0)}),n.channel.on("tokenAboutToExpire",function(){return setTimeout(function(){return n.emit("tokenAboutToExpire")},0)}),n.channel.on("tokenExpired",function(){return setTimeout(function(){return n.emit("tokenExpired")},0)}),n.channel.on("connected",function(){return n.registrations.updateRegistrations()}),n.channel.on("connected",function(){return n.upstream.sendPendingMessages()}),n.channel.on("connected",function(){return setTimeout(function(){return n.emit("connected")},0)}),n.channel.on("initialized",function(e){n.handleStorageId(t,e),x.TokenStorage.storeToken(e.continuationToken,t),setTimeout(function(){return n.emit("initialized",e)},0)}),n.channel.on("disconnected",function(){return setTimeout(function(){return n.emit("disconnected")},0)}),n.channel.on("disconnected",function(){return n.upstream.rejectPendingMessages()}),n.channel.on("disconnected",function(){return n.offlineStorageDeferred.fail(new w.TwilsockError("Client disconnected"))}),n.offlineStorageDeferred.promise.catch(function(){}),n}t.TwilsockClient=_,t.Twilsock=_},function(e,t,n){var r=function(a){"use strict";var u,e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function o(e,t,n,r){var a,o,s,u,i=t&&t.prototype instanceof y?t:y,c=Object.create(i.prototype),l=new T(r||[]);return c._invoke=(a=e,o=n,s=l,u=d,function(e,t){if(u===h)throw new Error("Generator is already running");if(u===m){if("throw"===e)throw t;return M()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=S(n,s);if(r){if(r===v)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===d)throw u=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=h;var i=f(a,o,s);if("normal"===i.type){if(u=s.done?m:p,i.arg===v)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=m,s.method="throw",s.arg=i.arg)}}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=o;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function s(){}function l(){}var g={};g[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==e&&c.call(w,i)&&(g=w);var k=l.prototype=y.prototype=Object.create(g);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(u){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,i){var a=f(u[e],u,n);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):Promise.resolve(s).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)})}i(a.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function S(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,S(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:M}}function M(){return{value:u,done:!0}}return s.prototype=k.constructor=l,l.constructor=s,l[r]=s.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(k),e},a.awrap=function(e){return{__await:e}},x(_.prototype),_.prototype[n]=function(){return this},a.AsyncIterator=_,a.async=function(e,t,n,r){var i=new _(o(e,t,n,r));return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},x(k),k[r]="Generator",k[i]=function(){return this},k.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(3);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){"use strict";var o=n(1),r=n(2);Object.defineProperty(t,"__esModule",{value:!0});var i=(r(s,[{key:"updateToken",value:function(e){this._token=e}},{key:"updateContinuationToken",value:function(e){this._continuationToken=e}},{key:"token",get:function(){return this._token}},{key:"continuationToken",get:function(){return this._continuationToken}}]),s);function s(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};o(this,s),this.activeGrant=t,this._token=e;var r=n.region||"us1",i="wss://tsock.".concat(r,".twilio.com/v3/wsconnect"),a=n.twilsock||n.Twilsock||{};this.url=a.uri||i,this._continuationToken=n.continuationToken?n.continuationToken:null,this.logLevel=n.logLevel?n.logLevel:"error",this.retryPolicy=n.retryPolicy?n.retryPolicy:{min:1e3,max:12e4,randomness:.2},this.clientMetadata=n.clientMetadata?n.clientMetadata:{},this.clientMetadata.ver="0.5.11",this.initRegistrations=n.initRegistrations?n.initRegistrations:null,this.tweaks=n.tweaks?n.tweaks:null}t.Configuration=i},function(e,t,n){"use strict";var i=n(11),r=n(2),a=n(4),o=n(3),s=n(5),u=n(1);Object.defineProperty(t,"__esModule",{value:!0});var c=n(10),l=n(255),f=n(45),d=n(98),p=n(145),h=n(146),m=n(266);t.Response=function e(){u(this,e)};var v,y=(v=c.EventEmitter,s(g,v),r(g,[{key:"changeState",value:function(e){f.log.debug("FSM: ".concat(e.transition,": ").concat(e.from," --\x3e ").concat(e.to)),this.lastEmittedState!==this.state&&(this.lastEmittedState=this.state,this.emit("stateChanged",this.state))}},{key:"resetBackoff",value:function(){f.log.trace("resetBackoff"),this.retrier.stop()}},{key:"modifyBackoff",value:function(e){f.log.trace("modifyBackoff",e);var t=e?e.backoff_policy:null;t&&"number"==typeof t.reconnect_min_ms&&this.retrier.modifyBackoff(t.reconnect_min_ms)}},{key:"startDisconnectTimer",value:function(){var e=this;f.log.trace("startDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null),this.disconnectingTimer=setTimeout(function(){f.log.debug("disconnecting is timed out"),e.closeSocket(!0)},3e3)}},{key:"cancelDisconnectTimer",value:function(){f.log.trace("cancelDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null)}},{key:"initRetry",value:function(){f.log.debug("initRetry"),this.retrier.inProgress?this.retrier.attemptFailed():this.retrier.start()}},{key:"retry",value:function(){"connecting"!=this.fsm.state?(f.log.trace("retry"),this.websocket.close(),this.fsm.userRetry()):f.log.trace("can\t retry as already connecting")}},{key:"onConnected",value:function(){this.emit("connected")}},{key:"finalizeSocket",value:function(){f.log.trace("finalizeSocket"),this.websocket.close(),this.emit("disconnected"),this.disconnectedPromiseResolve&&(this.disconnectedPromiseResolve(),this.disconnectedPromiseResolve=null)}},{key:"setupSocket",value:function(){f.log.trace("setupSocket:",this.config.token),this.websocket.connect()}},{key:"onIncomingMessage",value:function(e){var t=p.Parser.parse(e),n=t.method,r=t.header,i=t.payload;if("reply"!==n&&this.confirmReceiving(r),"notification"===n)this.emit("message",r.message_type,i);else if("reply"===r.method)this.transport.processReply({id:r.id,status:r.status,header:r,body:i});else if("client_update"===r.method)"token_about_to_expire"===r.client_update_type&&this.emit("tokenAboutToExpire");else if("close"===r.method)if(308===r.status.code)f.log.debug("Connection has been offloaded"),this.fsm.receiveOffload({status:r.status.status,body:i});else if(406===r.status.code){var a="Server closed connection because can't parse protocol: ".concat(JSON.stringify(r.status));this.emitReplyConnectionError(a,r,!0),f.log.error(a),this.fsm.receiveFatalClose()}else 417===r.status.code?(f.log.error("Server closed connection because can't parse client reply: ".concat(JSON.stringify(r.status))),this.fsm.receiveFatalClose(r.status.status)):410===r.status.code?(f.log.warn("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status),this.emit("tokenExpired")):401===r.status.code?(f.log.error("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status)):(f.log.warn("unexpected message: ",r.status),this.fsm.receiveOffload({status:r.status.status,body:null}))}},{key:"sendInit",value:function(){var t,n;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return f.log.trace("sendInit"),e.prev=1,e.next=4,i.awrap(this.transport.sendInit());case 4:t=e.sent,this.config.updateContinuationToken(t.continuationToken),this.fsm.initSuccess(t),this.emit("initialized",t),this.emit("tokenUpdated"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof h.TwilsockReplyError?(n=!1,f.log.warn("Init rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(n=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.initError(!0)):500===e.t0.reply.status.code?this.fsm.initError(!1):this.fsm.initError(!0),this.emitReplyConnectionError(e.t0.message,e.t0.reply,n)):(this.emit("connectionError",{terminal:!0,message:e.t0.message,httpStatusCode:null,errorCode:null}),this.fsm.initError(!0)),this.emit("tokenUpdated",e.t0);case 15:case"end":return e.stop()}},null,this,[[1,11]])}},{key:"sendUpdate",value:function(){var t,n,r;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return f.log.trace("sendUpdate"),t=new d.Update(this.config.token),e.prev=2,e.next=5,i.awrap(this.transport.sendWithReply(t));case 5:n=e.sent,this.fsm.updateSuccess(n.body),this.emit("tokenUpdated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0 instanceof h.TwilsockReplyError?(r=!1,f.log.warn("Token update rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(r=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):(429===e.t0.reply.status.code&&this.modifyBackoff(e.t0.reply.body),this.fsm.updateError(e.t0.reply.status)),this.emitReplyConnectionError(e.t0.message,e.t0.reply,r)):(this.emit("error",!1,e.t0.message,null,null),this.fsm.updateError(e.t0)),this.emit("tokenUpdated",e.t0);case 14:case"end":return e.stop()}},null,this,[[2,10]])}},{key:"emitReplyConnectionError",value:function(e,t,n){var r=t.status&&t.status.description?t.status.description:e,i=t.status.code,a=t.status&&t.status.errorCode?t.status.errorCode:null;this.emit("connectionError",{terminal:n,message:r,httpStatusCode:i,errorCode:a})}},{key:"cancelInit",value:function(){f.log.trace("cancelInit")}},{key:"cancelUpdate",value:function(){f.log.trace("cancelUpdate")}},{key:"confirmReceiving",value:function(e){f.log.trace("confirmReceiving");try{this.transport.send(new d.Reply(e.id))}catch(e){f.log.debug("failed to confirm packet receiving",e)}}},{key:"closeSocket",value:function(e){var t=this;f.log.trace("closeSocket (graceful: ".concat(e,")")),e&&this.transport.isConnected&&this.transport.sendClose(),this.websocket.close(),setTimeout(function(){return t.fsm.socketClosed()},0)}},{key:"connect",value:function(){f.log.trace("connect"),this.fsm.userConnect()}},{key:"disconnect",value:function(){var t=this;return f.log.trace("disconnect"),this.fsm.is("disconnected")?Promise.resolve():new Promise(function(e){t.disconnectedPromiseResolve=e,t.fsm.userDisconnect()})}},{key:"updateToken",value:function(e){var r=this;return f.log.trace("updateToken:",e),new Promise(function(t,n){r.once("tokenUpdated",function(e){e?n(e):t()}),r.fsm.userUpdateToken()})}},{key:"onCloseReceived",value:function(e){this.websocket.close()}},{key:"isConnected",get:function(){return"connected"===this.state&&this.websocket.isConnected}},{key:"state",get:function(){switch(this.fsm.state){case"connecting":case"initialising":case"retrying":case"error":return"connecting";case"updating":case"connected":return"connected";case"rejected":return"rejected";case"disconnecting":case"waitSocketClosed":case"waitOffloadSocketClosed":return"disconnecting";case"disconnected":default:return"disconnected"}}},{key:"isTerminalState",get:function(){return-1!==this.terminalStates.indexOf(this.fsm.state)}}]),g);function g(e,t,n){var r;return u(this,g),(r=a(this,o(g).call(this))).terminalStates=["disconnected","rejected"],r.lastEmittedState=void 0,r.tokenExpiredSasCode=20104,r.websocket=e,r.websocket.on("connected",function(){return r.fsm.socketConnected()}),r.websocket.on("disconnected",function(e){return r.fsm.socketClosed()}),r.websocket.on("message",function(e){return r.onIncomingMessage(e)}),r.websocket.on("socketError",function(e){return r.emit("connectionError",{terminal:!1,message:e.message,httpStatusCode:null,errorCode:null})}),r.transport=t,r.config=n,r.retrier=new m.BackoffRetrier(n.retryPolicy),r.retrier.on("attempt",function(){return r.retry()}),r.retrier.on("failed",function(e){f.log.warn("Retrying failed: ".concat(e.message)),r.disconnect()}),"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",function(){f.log.debug("Browser reported connectivity state: online"),r.fsm.systemOnline()}),window.addEventListener("offline",function(){f.log.debug("Browser reported connectivity state: offline"),r.websocket.close(),r.fsm.socketClosed()})),r.fsm=new l({init:"disconnected",transitions:[{name:"userConnect",from:["disconnected","rejected"],to:"connecting"},{name:"userConnect",from:["connecting","connected"]},{name:"userDisconnect",from:["connecting","initialising","connected","updating","retrying","rejected","waitSocketClosed","waitOffloadSocketClosed"],to:"disconnecting"},{name:"userRetry",from:["retrying"],to:"connecting"},{name:"socketConnected",from:["connecting"],to:"initialising"},{name:"socketClosed",from:["connecting","initialising","connected","updating","error","waitOffloadSocketClosed"],to:"retrying"},{name:"socketClosed",from:["disconnecting"],to:"disconnected"},{name:"socketClosed",from:["waitSocketClosed"],to:"disconnected"},{name:"socketClosed",from:["rejected"],to:"rejected"},{name:"initSuccess",from:["initialising"],to:"connected"},{name:"initError",from:["initialising"],to:"error"},{name:"tokenRejected",from:["initialising","updating"],to:"rejected"},{name:"protocolError",from:["initialising","connected","updating"],to:"error"},{name:"receiveClose",from:["initialising","connected","updating"],to:"waitSocketClosed"},{name:"receiveOffload",from:["initialising","connected","updating"],to:"waitOffloadSocketClosed"},{name:"unsupportedProtocol",from:["initialising","connected","updating"],to:"unsupported"},{name:"receiveFatalClose",from:["initialising","connected","updating"],to:"unsupported"},{name:"userUpdateToken",from:["disconnected","rejected","connecting","retrying"],to:"connecting"},{name:"userUpdateToken",from:["connected"],to:"updating"},{name:"updateSuccess",from:["updating"],to:"connected"},{name:"updateError",from:["updating"],to:"error"},{name:"userSend",from:["connected"],to:"connected"},{name:"systemOnline",from:["retrying"],to:"connecting"}],methods:{onConnecting:function(){r.setupSocket(),r.emit("connecting")},onEnterInitialising:function(){r.sendInit()},onLeaveInitialising:function(){r.cancelInit()},onEnterUpdating:function(){r.sendUpdate()},onLeaveUpdating:function(){r.cancelUpdate()},onEnterRetrying:function(){r.initRetry(),r.emit("connecting")},onEnterConnected:function(){r.resetBackoff(),r.onConnected()},onUserUpdateToken:function(){r.resetBackoff()},onTokenRejected:function(){r.resetBackoff(),r.closeSocket(!0),r.finalizeSocket()},onUserDisconnect:function(){r.closeSocket(!0)},onEnterDisconnecting:function(){r.startDisconnectTimer()},onLeaveDisconnecting:function(){r.cancelDisconnectTimer()},onEnterWaitSocketClosed:function(){r.startDisconnectTimer()},onLeaveWaitSocketClosed:function(){r.cancelDisconnectTimer()},onEnterWaitOffloadSocketClosed:function(){r.startDisconnectTimer()},onLeaveWaitOffloadSocketClosed:function(){r.cancelDisconnectTimer()},onDisconnected:function(){r.resetBackoff(),r.finalizeSocket()},onReceiveClose:function(e,t){r.onCloseReceived(t)},onReceiveOffload:function(e,t){f.log.debug("onreceiveoffload: ",t),r.modifyBackoff(t.body),r.onCloseReceived(t.status)},onUnsupported:function(){r.closeSocket(!0),r.finalizeSocket()},onError:function(e,t){r.closeSocket(t),r.finalizeSocket()},onEnterState:function(e){"none"!==e.from&&r.changeState(e)},onInvalidTransition:function(e,t,n){f.log.warn("FSM: unexpected transition",t,n)}}}),r}t.TwilsockChannel=y,t.TwilsockImpl=y},function(e,t,n){var r;r=function(){return i={},r.m=n=[function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i;for(n=1;n<arguments.length;n++)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e}},function(e,t,n){"use strict";var o=n(0);e.exports={build:function(e,t){var n,r,i,a=t.plugins;for(n=0,r=a.length;n<r;n++)(i=a[n]).methods&&o(e,i.methods),i.properties&&Object.defineProperties(e,i.properties)},hook:function(e,t,n){var r,i,a,o,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),r=0,i=s.length;r<i;r++)o=s[r],(a=s[r][t])&&a.apply(o,u)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return e+(t=r(t))[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);function a(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}r(a.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=i.prepended("onEnter",e),this.lifecycle.onLeave[e]=i.prepended("onLeave",e),this.lifecycle.on[e]=i.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=i.prepended("onBefore",e),this.lifecycle.onAfter[e]=i.prepended("onAfter",e),this.lifecycle.on[e]=i.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!=typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"==typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"==typeof e?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"==typeof e?e:"object"==typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,r,i;for(n=0,r=(e=e||[]).length;n<r;n++)"function"==typeof(i=e[n])&&(e[n]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,n,r,i,a,o=this.defaults.wildcard;for(n=0;n<e.length;n++)for(r=e[n],i=Array.isArray(r.from)?r.from:[r.from||o],a=r.to||o,t=0;t<i.length;t++)this.mapTransition({name:r.name,from:i[t],to:a})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=a},function(e,t,n){var r=n(0),i=n(6),c=n(1),o=[null,[]];function a(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}r(a.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),c.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?0<=e.indexOf(this.state):this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,r=this.config.transitionFor(this.state,e),i=r&&r.to;return"function"==typeof i?i.apply(this.context,t):i===n?this.state:i},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,a=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),a?this.observersForEvent(i.onLeave.state):o,a?this.observersForEvent(i.onLeave[t]):o,this.observersForEvent(i.on.transition),a?["doTransit",[this]]:o,a?this.observersForEvent(i.onEnter.state):o,a?this.observersForEvent(i.onEnter[n]):o,a?this.observersForEvent(i.on[n]):o,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)(t=this.observers[n])[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],a=e[0][1],o=e[0][2];if((t[0].event=i)&&o&&i!==n&&c.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,i,r);var s=a.shift(),u=s[i].apply(s,t);return u&&"function"==typeof u.then?u.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===u?this.endTransit(!1):this.observeEvents(e,t,i,u)},onInvalidTransition:function(e,t,n){throw new i("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new i("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(1),o=n(3),s=n(4),u={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function l(e){return f(this||{},e)}function f(e,t){return d(e,new o(t,l)),e._fsm(),e}function d(t,e){if("object"!=typeof t||Array.isArray(t))throw Error("StateMachine can only be applied to objects");a.build(t,e),Object.defineProperties(t,c),r(t,u),r(t,e.methods),e.allTransitions().forEach(function(e){t[i(e)]=function(){return this._fsm.fire(e,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new s(this,e),this._fsm.init(arguments)}}l.version="3.0.1",l.factory=function(){var e,t;t="function"==typeof arguments[0]?(e=arguments[0],arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},arguments[0]||{});var n=new o(t,l);return d(e.prototype,n),e.prototype._fsm.config=n,e},l.apply=f,l.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=l},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}],r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5);function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i},e.exports=r()},function(e,t,n){"use strict";var o=n(1),s=n(4),u=n(3),r=n(5);Object.defineProperty(t,"__esModule",{value:!0});var i,a=(i=n(55).AbstractMessage,r(c,i),c);function c(e,t,n){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return o(this,c),(r=s(this,u(c).call(this))).method="init",r.token=e,r.continuation_token=t,r.metadata=n,r.registrations=i,r.tweaks=a,r.capabilities=["client_update","offline_storage"],r}t.Init=a},function(e,t,n){var h,m,v=n(143),y=n(144),g=0,b=0;e.exports=function(e,t,n){var r=t&&n||0,i=t||[],a=(e=e||{}).node||h,o=void 0!==e.clockseq?e.clockseq:m;if(null==a||null==o){var s=v();null==a&&(a=h=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==o&&(o=m=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:b+1,l=u-g+(c-b)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||g<u)&&void 0===e.nsecs&&(c=0),1e4<=c)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=u,m=o;var f=(1e4*(268435455&(u+=122192928e5))+(b=c))%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var p=0;p<6;++p)i[r+p]=a[p];return t||y(i)}},function(e,t,n){var o=n(143),s=n(144);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||s(i)}},function(e,t,n){"use strict";var s=n(4),u=n(3),r=n(5),c=n(1);Object.defineProperty(t,"__esModule",{value:!0});var i=n(55);t.ContinuationTokenStatus=function e(){c(this,e)};var a,o=(a=i.AbstractMessage,r(l,a),l);function l(e,t,n,r,i,a){var o;return c(this,l),(o=s(this,u(l).call(this,e))).continuationToken=t,o.continuationTokenStatus=n,o.offlineStorage=r,o.initRegistrations=i,o.debugInfo=a,o}t.InitReply=o},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(55).AbstractMessage,o(c,s),c);function c(e){var t;return r(this,c),(t=i(this,a(c).call(this))).method="update",t.token=e,t}t.Update=u},function(e,t,n){"use strict";var i=n(1),a=n(4),o=n(3),r=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(55).AbstractMessage,r(c,s),c);function c(e,t,n){var r;return i(this,c),(r=a(this,o(c).call(this))).method="message",r.active_grant=e,r.payload_type=t,r.http_request=n,r}t.Message=u},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(55).AbstractMessage,o(c,s),c);function c(e){var t;return r(this,c),(t=i(this,a(c).call(this,e))).method="reply",t.payload_type="application/json",t.status={code:200,status:"OK"},t}t.Reply=u},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(55).AbstractMessage,o(c,s),c);function c(){var e;return r(this,c),(e=i(this,a(c).call(this))).method="close",e}t.Close=u},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(r,e,t){var a=t(97);function i(e,t,n){return function(){if("undefined"==typeof Reflect||!Reflect.construct)return 0;if(Reflect.construct.sham)return 0;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return 0}}()?r.exports=i=Reflect.construct:r.exports=i=function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},i.apply(null,arguments)}r.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(2),s=n(5);Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(10),l=n(53),f=(u=c.EventEmitter,s(d,u),o(d,[{key:"inProgress",get:function(){return!!this.retrier}}]),o(d,[{key:"start",value:function(){if(this.inProgress)throw new Error("Already waiting for next attempt, call finishAttempt(success : boolean) to finish it");this.createRetrier()}},{key:"stop",value:function(){this.cleanRetrier(),this.newBackoff=null,this.usedBackoff=null}},{key:"modifyBackoff",value:function(e){this.newBackoff=e}},{key:"attemptFailed",value:function(){if(!this.inProgress)throw new Error("No attempt is in progress");this.newBackoff&&(!this.usedBackoff||this.usedBackoff<this.newBackoff)?this.createRetrier():this.retrier.failed(new Error)}},{key:"cancel",value:function(){this.retrier&&this.retrier.cancel()}},{key:"cleanRetrier",value:function(){this.retrier&&(this.retrier.removeAllListeners(),this.retrier.cancel(),this.retrier=null)}},{key:"getRetryPolicy",value:function(){var e=Object.assign({},this.options);return this.newBackoff&&(e.min=this.newBackoff,e.max=this.options.max&&this.options.max>this.newBackoff?this.options.max:this.newBackoff),e.maxAttemptsCount=this.options.maxAttemptsCount?this.options.maxAttemptsCount+1:void 0,e}},{key:"createRetrier",value:function(){var t=this;this.cleanRetrier();var e=this.getRetryPolicy();this.retrier=new l.Retrier(e),this.retrier.once("attempt",function(){t.retrier.on("attempt",function(){return t.emit("attempt")}),t.retrier.failed(new Error("Skipping first attempt"))}),this.retrier.on("failed",function(e){return t.emit("failed",e)}),this.usedBackoff=this.newBackoff,this.newBackoff=null,this.retrier.start().catch(function(e){})}}]),d);function d(e){var t;return r(this,d),(t=i(this,a(d).call(this))).options=e?Object.assign({},e):{},t}t.BackoffRetrier=f},function(e,t,n){"use strict";var i=n(11),r=n(2),a=n(1);Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),s=n(46),u=n(47),c=n(146),l=n(145),f=n(98),d=n(268);t.PacketResponse=function e(){a(this,e)};var p=(r(h,[{key:"processReply",value:function(e){var t,n=this.activeRequests.get(e.id);n&&(clearTimeout(n.timeout),this.activeRequests.delete(e.id),200<=(t=e.status.code)&&t<300?n.resolve(e):(n.reject(new c.TwilsockReplyError("Transport failure: "+e.status.status,e)),o.log.trace("message rejected")))}},{key:"storeRequest",value:function(e,t,n){var r={resolve:t,reject:n,timeout:setTimeout(function(){o.log.trace("request",e,"is timed out"),n(new u.TwilsockError("Twilsock: request timeout: "+e))},3e4)};this.activeRequests.set(e,r)}},{key:"shutdown",value:function(){this.activeRequests.forEach(function(e){clearTimeout(e.timeout),e.reject(new u.TwilsockError("Twilsock: request cancelled by user"))}),this.activeRequests.clear()}},{key:"sendInit",value:function(){var t,n,r;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return o.log.trace("sendInit"),t=d.Metadata.getMetadata(this.config),n=new f.Init(this.config.token,this.config.continuationToken,t,this.config.initRegistrations,this.config.tweaks),e.next=5,i.awrap(this.sendWithReply(n));case 5:return r=e.sent,e.abrupt("return",new f.InitReply(r.id,r.header.continuation_token,r.header.continuation_token_status,r.header.offline_storage,r.header.init_registrations,r.header.debug_info));case 7:case"end":return e.stop()}},null,this)}},{key:"sendClose",value:function(){var e=new f.Close;this.send(e)}},{key:"sendWithReply",value:function(r,i){var a=this;return new Promise(function(e,t){var n=a.send(r,i);a.storeRequest(n,e,t)})}},{key:"send",value:function(t,e){t.id=t.id||"TM".concat(s.v4());var n=l.Parser.createPacket(t,function(e){switch(typeof e){case"undefined":return"";case"object":return JSON.stringify(e);default:return e}}(e));try{return this.channel.send(n),t.id}catch(e){throw o.log.debug("failed to send ",t,e),o.log.trace(e.stack),e}}},{key:"isConnected",get:function(){return this.channel.isConnected}}]),h);function h(e,t){var n=this;a(this,h),this.config=t,this.activeRequests=new Map,this.channel=e,this.channel.on("reply",function(e){return n.processReply(e)}),this.channel.on("disconnected",function(){n.activeRequests.forEach(function(e){clearTimeout(e.timeout),e.reject(new u.TwilsockError("disconnected"))}),n.activeRequests.clear()})}t.PacketInterface=p},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(100),o=(i(s,null,[{key:"getMetadata",value:function(e){"undefined"!=typeof navigator&&a.parse(navigator.userAgent);var t=e&&e.clientMetadata?e.clientMetadata:{},n={env:a.name,envv:a.version,os:a.os.family,osv:a.os.version,osa:a.os.architecture,sdk:"js-default"},r={};return["ver","env","envv","os","osv","osa","type","sdk","sdkv","dev","devv","devt","app","appv"].filter(function(e){return e in t||e in n}).forEach(function(e){return r[e]=e in t?t[e]:n[e]}),r}}]),s);function s(){r(this,s)}t.Metadata=o},function(e,f,d){"use strict";(function(n){var r=d(1),e=d(2),i=d(4),a=d(3),t=d(5);Object.defineProperty(f,"__esModule",{value:!0});var o,s=d(10),u=d(45),c=(o=s.EventEmitter,t(l,o),e(l,[{key:"connect",value:function(){var t=this;u.log.trace("connecting to socket");var e=new this.WebSocket(this.url);e.binaryType="arraybuffer",e.onopen=function(){u.log.debug("socket opened ".concat(t.url)),t.emit("connected")},e.onclose=function(e){u.log.debug("socket closed",e),t.emit("disconnected",e)},e.onerror=function(e){u.log.debug("error:",e),t.emit("socketError",e)},e.onmessage=function(e){t.emit("message",e.data)},this.socket=e}},{key:"send",value:function(e){this.socket.send(e)}},{key:"close",value:function(){if(u.log.trace("closing socket"),this.socket){this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null;try{this.socket.close()}finally{}}}},{key:"isConnected",get:function(){return this.socket&&1===this.socket.readyState}}]),l);function l(e){var t;return r(this,l),(t=i(this,a(l).call(this))).url=e,t.WebSocket=n.WebSocket||n.MozWebSocket||d(270),t}f.WebSocketChannel=c}).call(this,d(76))},,function(e,t,n){"use strict";var a=n(11),r=n(1),i=n(2),o=n(4),s=n(3),u=n(5);Object.defineProperty(t,"__esModule",{value:!0});var c,l=n(45),f=n(10),d=n(46),p=n(47),h=(c=f.EventEmitter,u(m,c),i(m,[{key:"putNotificationContext",value:function(t,n){var r;return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put_notification_ctx",notification_ctx_id:t},e.next=3,a.awrap(this.transport.sendWithReply(r,n));case 3:e.sent;case 4:case"end":return e.stop()}},null,this)}},{key:"deleteNotificationContext",value:function(t){var n;return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"delete_notification_ctx",notification_ctx_id:t},e.next=3,a.awrap(this.transport.sendWithReply(n));case 3:e.sent;case 4:case"end":return e.stop()}},null,this)}},{key:"updateRegistration",value:function(t,n){var r,i;return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return l.log.debug("update registration for context",t),(r=this.registrationsInProgress.get(t))||(r=new Set,this.registrationsInProgress.set(t,r)),i=d.v4(),r.add(i),e.prev=5,e.next=8,a.awrap(this.putNotificationContext(t,n));case 8:l.log.debug("registration attempt succeeded for context",n),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registered",t)),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(5),l.log.warn("registration attempt failed for context",n),l.log.debug(e.t0),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registrationFailed",t,e.t0));case 19:case"end":return e.stop()}},null,this,[[5,13]])}},{key:"updateRegistrations",value:function(){var n=this;l.log.trace("refreshing ".concat(this.registrations.size," registrations")),this.registrations.forEach(function(e,t){n.updateRegistration(t,e)})}},{key:"setNotificationsContext",value:function(e,t){if(!e||!t)throw new p.TwilsockError("Invalid arguments provided");this.registrations.set(e,t),this.transport.isConnected&&this.updateRegistration(e,t)}},{key:"removeNotificationsContext",value:function(t){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrations.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.awrap(this.deleteNotificationContext(t));case 4:this.transport.isConnected&&this.registrations.delete(t);case 5:case"end":return e.stop()}},null,this)}}]),m);function m(e){var t;return r(this,m),(t=o(this,s(m).call(this))).transport=e,t.registrations=new Map,t.registrationsInProgress=new Map,t}t.Registrations=h},function(e,t,n){"use strict";var c=n(11),r=n(2),i=n(1);Object.defineProperty(t,"__esModule",{value:!0});var a=n(45),s=n(47),l=n(273),f=n(98),o=n(32);function u(e,t,n,r){return{to:(i=e,a=function(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7],params:null};if(0<n.search.length){var r=n.search.substring(1);n.params=r.split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return e.hasOwnProperty(t[0])?Array.isArray(e[t[0]])?e[t[0]].push(t[1]):e[t[0]]=[e[t[0]],t[1]]:e[t[0]]=t[1],e},{})}return n}throw new s.TwilsockError("Incorrect URI: "+e)}(t),o={method:i,host:a.host,path:a.pathname},a.params&&(o.params=a.params),o),headers:n,body:r};var i,a,o}var d=(r(p,[{key:"saveMessage",value:function(r){var i=this;return new Promise(function(e,t){var n={message:r,resolve:e,reject:t,alreadyRejected:!1,timeout:setTimeout(function(){a.log.debug("request is timed out"),t(new s.TwilsockError("Twilsock: request timeout")),n.alreadyRejected=!0},2e4)};i.pendingMessages.push(n)})}},{key:"sendPendingMessages",value:function(){for(var n=this,e=function(){var t=n.pendingMessages[0];if(!t.alreadyRejected)try{var e=t.message;n.actualSend(e).then(function(e){return t.resolve(e)}).catch(function(e){return t.reject(e)}),clearTimeout(t.timeout)}catch(e){return a.log.debug("Failed to send pending message",e),"break"}n.pendingMessages.splice(0,1)};this.pendingMessages.length&&"break"!==e(););}},{key:"rejectPendingMessages",value:function(){this.pendingMessages.forEach(function(e){e.reject(new o.TransportUnavailableError("Can't connect to twilsock")),clearTimeout(e.timeout)}),this.pendingMessages.splice(0,this.pendingMessages.length)}},{key:"actualSend",value:function(n){var r,i,a,o,s,u;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.to,i=n.headers,a=n.body,o={host:r.host,path:r.path,method:r.method,params:r.params,headers:i},s=new f.Message(this.config.activeGrant,i["Content-Type"]||"application/json",o),e.next=7,c.awrap(this.transport.sendWithReply(s,a));case 7:if((u=e.sent)&&u.header&&u.header.http_status&&!(200<=(t=u.header.http_status.code)&&t<300))throw new l.TwilsockUpstreamError(u.header.http_status.code,u.header.http_status.status,u.body);e.next=10;break;case 10:return e.abrupt("return",{status:u.header.http_status,headers:u.header.http_headers,body:u.body});case 11:case"end":return e.stop()}var t},null,this)}},{key:"send",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;if(this.twilsock.isTerminalState)return Promise.reject(new o.TransportUnavailableError("Can't connect to twilsock"));var i=u(e,t,n,r);return this.twilsock.isConnected?this.actualSend(i):this.saveMessage(i)}}]),p);function p(e,t,n){i(this,p),this.config=n,this.transport=e,this.pendingMessages=[],this.twilsock=t}t.Upstream=d},function(e,t,n){"use strict";var i=n(1),a=n(4),o=n(3),r=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(47).TwilsockError,r(c,s),c);function c(e,t,n){var r;return i(this,c),(r=a(this,o(c).call(this,t))).status=e,r.description=t,r.body=n,r}t.TwilsockUpstreamError=u},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}},{key:"promise",get:function(){return this._promise}}]),o);function o(){var n=this;r(this,o),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t})}t.Deferred=a},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),o=(i(s,null,[{key:"create",value:function(e){if(e instanceof Object&&"storage_id"in e)return new s(e.storage_id);throw new a.TwilsockError('Field "storage_id" is missing')}}]),s);function s(e){r(this,s),this.id=e}t.OfflineProductStorage=o},function(e,a,o){"use strict";(function(e){var t=o(1),n=o(2);Object.defineProperty(a,"__esModule",{value:!0});var r=(n(i,null,[{key:"storeToken",value:function(e,t){i.canStore&&i.sessionStorage.setItem(i.getKeyName(t),e)}},{key:"getStoredToken",value:function(e){return i.canStore?i.sessionStorage.getItem(i.getKeyName(e)):null}},{key:"initialize",value:function(){i.canStore&&(i.sessionStorage.getItem(i.initializedFlag)&&this.clear(),i.sessionStorage.setItem(i.initializedFlag,"true"),i.window.addEventListener("unload",function(){i.sessionStorage.removeItem(i.initializedFlag)}))}},{key:"clear",value:function(){if(i.canStore){for(var e=[],t=0;t<i.sessionStorage.length;t++){var n=i.sessionStorage.key(t);n.startsWith(i.tokenStoragePrefix)&&e.push(n)}e.forEach(function(e){return i.sessionStorage.removeItem(e)}),i.sessionStorage.removeItem(i.initializedFlag)}}},{key:"getKeyName",value:function(e){return"".concat(i.tokenStoragePrefix).concat(e)}},{key:"sessionStorage",get:function(){try{return e.sessionStorage}catch(e){return null}}},{key:"window",get:function(){try{return e.window}catch(e){return null}}},{key:"canStore",get:function(){return i.sessionStorage&&i.window}}]),i);function i(){t(this,i)}r.initializedFlag="twilio_twilsock_token_storage",r.tokenStoragePrefix="twilio_continuation_token_",(a.TokenStorage=r).initialize()}).call(this,o(76))},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(3),o=n(5);Object.defineProperty(t,"__esModule",{value:!0});var s,u=(s=n(47).TwilsockError,o(c,s),c);function c(e){return r(this,c),i(this,a(c).call(this,e))}t.TransportUnavailableError=u},function(e,t,n){"use strict";var r=n(11),i=n(1),a=n(2),o=n(4),s=n(3),u=n(44),c=n(5);Object.defineProperty(t,"__esModule",{value:!0});var l,f=n(10),d=n(32),p=n(279),h=n(280),m=n(101),v=(l=f.EventEmitter,c(y,l),a(y,[{key:"_routeMessage",value:function(e,t){m.log.trace("Message arrived: ",e,t),this.emit("message",e,t)}},{key:"_onNeedReliableTransport",value:function(e){e?this.services.twilsock.connect():this.services.twilsock.disconnect()}},{key:"_onRegistrationStateChange",value:function(e){this.reliableTransportState.registration="registered"===e,this._updateTransportState()}},{key:"_onTransportStateChange",value:function(e){this.reliableTransportState.transport=e,this._updateTransportState()}},{key:"_updateTransportState",value:function(){var e=this.reliableTransportState.transport&&this.reliableTransportState.registration;this.reliableTransportState.overall!==e&&(this.reliableTransportState.overall=e,m.log.info("Transport ready:",e),this.emit("transportReady",e)),this.reliableTransportState.lastEmitted!==this.connectionState&&(this.reliableTransportState.lastEmitted=this.connectionState,this.emit("connectionStateChanged",this.connectionState))}},{key:"subscribe",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"twilsock";return m.log.trace("Add subscriptions for message type: ",e,t),this.registrar.subscribe(e,t)}},{key:"unsubscribe",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"twilsock";return m.log.trace("Remove subscriptions for message type: ",e,t),this.registrar.unsubscribe(e,t)}},{key:"handlePushNotification",value:function(e){return{messageType:e.twi_message_type,payload:e.payload}}},{key:"setPushRegistrationId",value:function(e,t){m.log.trace("Set push registration id",e,t),this.registrar.setNotificationId(t,e)}},{key:"updateToken",value:function(t){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(m.log.info("authTokenUpdated"),this.services.config.token===t)return e.abrupt("return");e.next=3;break;case 3:return e.next=5,r.awrap(this.services.twilsock.updateToken(t));case 5:this.services.config.updateToken(t),this.registrar.updateToken(t);case 7:case"end":return e.stop()}},null,this)}},{key:"connectionState",get:function(){return"disconnected"===this.services.twilsock.state?"disconnected":"disconnecting"===this.services.twilsock.state?"disconnecting":"connected"===this.services.twilsock.state&&this.reliableTransportState.registration?"connected":"rejected"===this.services.twilsock.state?"denied":"connecting"}}]),y);function y(e){var n,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(i(this,y),n=o(this,s(y).call(this)),!e||0===e.length)throw new Error("Token is required for Notifications client");t.logLevel=t.logLevel||"error",m.log.setLevel(t.logLevel),t.minTokenRefreshInterval;var r=t.productId||"notifications";return t.twilsockClient=t.twilsockClient||new d.TwilsockClient(e,r,t),t.transport=t.transport||t.twilsockClient,n.services={twilsock:t.twilsockClient,transport:t.transport,config:new p.Configuration(null,t)},n.registrar=new h.Registrar(r,n.services.transport,n.services.twilsock,n.services.config),n.reliableTransportState={overall:!1,transport:!1,registration:!1,lastEmitted:null},n._onTransportStateChange(n.services.twilsock.isConnected),n.registrar.on("transportReady",function(e){n._onRegistrationStateChange(e?"registered":"")}),n.registrar.on("stateChanged",function(e){n._onRegistrationStateChange(e)}),n.registrar.on("needReliableTransport",n._onNeedReliableTransport.bind(u(n))),n.services.twilsock.on("message",function(e,t){return n._routeMessage(e,t)}),n.services.twilsock.on("connected",function(e){n._onTransportStateChange(!0),n.registrar.setNotificationId("twilsock",e)}),n.services.twilsock.on("disconnected",function(){n._onTransportStateChange(!1)}),n.services.config.updateToken(e),n.registrar.updateToken(e),n}t.Client=v},function(e,t,n){"use strict";var a=n(1),r=n(2);Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o,[{key:"updateToken",value:function(e){this._token=e}},{key:"token",get:function(){return this._token}}]),o);function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,o);var n=t.notifications||{},r=n.region||t.region||"us1",i="https://ers.".concat(r,".twilio.com/v1/registrations");this.registrarUrl=n.ersUrl||i,this._token=e}t.Configuration=i},function(e,t,n){"use strict";var o=n(1),r=n(2),s=n(4),u=n(3),i=n(5);Object.defineProperty(t,"__esModule",{value:!0});var a,c=n(10),l=n(281),f=n(289),d=(a=c.EventEmitter,i(p,a),r(p,[{key:"setNotificationId",value:function(e,t){this.connector(e).setNotificationId(t)}},{key:"subscribe",value:function(e,t){return this.connector(t).subscribe(e)}},{key:"unsubscribe",value:function(e,t){return this.connector(t).unsubscribe(e)}},{key:"updateToken",value:function(t){this.connectors.forEach(function(e){return e.updateToken(t)})}},{key:"connector",value:function(e){var t=this.connectors.get(e);if(!t)throw new Error("Unknown channel type: ".concat(e));return t}},{key:"detectPlatform",value:function(){var e="";return"undefined"!=typeof navigator?(e="unknown",void 0!==navigator.product&&(e=navigator.product),void 0!==navigator.userAgent&&(e=navigator.userAgent)):e="web",e.substring(0,128)}}]),p);function p(e,t,n,r){var i;o(this,p),(i=s(this,u(p).call(this))).config=r,i.connectors=new Map;var a=i.detectPlatform();return i.connectors.set("gcm",new l.RegistrarConnector("gcm",{protocolVersion:3,productId:e,platform:a},t,r)),i.connectors.set("fcm",new l.RegistrarConnector("fcm",{protocolVersion:3,productId:e,platform:a},t,r)),i.connectors.set("apn",new l.RegistrarConnector("apn",{protocolVersion:4,productId:e,platform:a},t,r)),i.connectors.set("twilsock",new f.TwilsockConnector({productId:e,platform:a},n,r)),i.connectors.get("twilsock").on("transportReady",function(e){return i.emit("transportReady",e)}),i}t.Registrar=d},function(e,t,n){"use strict";var s=n(11),a=n(1),r=n(2),o=n(4),u=n(3),i=n(5);Object.defineProperty(t,"__esModule",{value:!0});var c=n(53),l=n(101),f=n(149);t.Connector=f.Connector;var d,p={min:2e3,max:12e4,randomness:.2},h=(d=f.Connector,i(m,d),r(m,[{key:"updateRegistration",value:function(t,n){return s.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.has("notificationId"))return e.next=3,s.awrap(this.removeRegistration());e.next=3;break;case 3:if(t.notificationId&&t.notificationId.length){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,s.awrap(this.register(t));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},null,this)}},{key:"removeRegistration",value:function(){var t,n,r=this;return s.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrationId){e.next=2;break}return e.abrupt("return");case 2:return t="".concat(this.config.registrarUrl,"/").concat(this.registrationId,"?productId=").concat(this.context.productId),n={"Content-Type":"application/json","X-Twilio-Token":this.config.token},e.prev=4,l.log.trace("Removing registration for ",this.channelType),e.next=8,s.awrap(new c.Retrier(Object.assign(p,{maxAttemptsCount:3})).run(function(){return r.transport.delete(t,n)}));case 8:l.log.debug("Registration removed for",this.channelType),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(4),l.log.error("Failed to remove of registration ",this.channelType,e.t0),e.t0;case 15:case"end":return e.stop()}},null,this,[[4,11]])}},{key:"register",value:function(t){var n,r,i,a,o=this;return s.async(function(e){for(;;)switch(e.prev=e.next){case 0:return l.log.trace("Registering",this.channelType,t),n={endpoint_platform:this.context.platform,channel_type:this.channelType,version:this.context.protocolVersion.toString(),message_types:Array.from(t.messageTypes),data:{registration_id:t.notificationId},ttl:"PT24H"},r="".concat(this.config.registrarUrl,"?productId=").concat(this.context.productId),i={"Content-Type":"application/json","X-Twilio-Token":t.token},l.log.trace("Creating registration for channel ",this.channelType),e.prev=5,e.next=8,s.awrap(new c.Retrier(p).run(function(){return o.transport.post(r,i,n)}));case 8:a=e.sent,this.registrationId=a.body.id,l.log.debug("Registration created: ",a),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(5),l.log.error("Registration failed: ",e.t0),e.t0;case 17:case"end":return e.stop()}},null,this,[[5,13]])}}]),m);function m(e,t,n,r){var i;return a(this,m),(i=o(this,u(m).call(this,r))).channelType=e,i.context=t,i.transport=n,i}t.RegistrarConnector=h},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(286),i=n(287),a=n(288);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var r=n(11),i=n(1),a=n(2),o=n(4),s=n(3),u=n(5);Object.defineProperty(t,"__esModule",{value:!0});var c,l=n(46),f=(c=n(149).Connector,u(d,c),a(d,[{key:"setNotificationId",value:function(){}},{key:"updateToken",value:function(e){}},{key:"updateContextRequest",value:function(t){var n;return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n={product_id:this.context.productId,notification_protocol_version:4,endpoint_platform:this.context.platform,message_types:t},this.emit("transportReady",!1),e.next=4,r.awrap(this.twilsock.setNotificationsContext(this.context.id,n));case 4:case"end":return e.stop()}},null,this)}},{key:"updateRegistration",value:function(t,n){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.has("messageType")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.awrap(this.updateContextRequest(Array.from(t.messageTypes)));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},null,this)}},{key:"removeRegistration",value:function(){return this.twilsock.removeNotificationsContext(this.context.id)}}]),d);function d(t,n,e){var r;return i(this,d),(r=o(this,s(d).call(this,e))).twilsock=n,(r.context=t).id=l.v4(),r.twilsock.on("stateChanged",function(e){"connected"!==e&&r.emit("transportReady",!1)}),r.twilsock.on("registered",function(e){t&&e===t.id&&"connected"===n.state&&r.emit("transportReady",!0)}),r}t.TwilsockConnector=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(291);t.SyncClient=r.SyncClient;var i=n(151);t.SyncDocument=i.SyncDocument;var a=n(152);t.SyncList=a.SyncList;var o=n(153);t.SyncListItem=o.ListItem;var s=n(156);t.SyncMap=s.SyncMap;var u=n(157);t.SyncMapItem=u.MapItem,t.default=r.SyncClient,e.exports=r.SyncClient,e.exports.SyncClient=r.SyncClient},function(e,t,n){"use strict";var c=n(11),f=n(1),r=n(2),d=n(4),p=n(3),i=n(5);Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),h=n(32),m=n(148),l=n(77),s=n(33),o=n(64),v=n(34),y=n(292),g=n(293),b=n(294),w=n(295),u=n(151),k=n(152),x=n(156),_=n(297),S=n(298),E=n(299),C=n(300),T=n(158),O=n(158),M=n(301).version;function P(e){if(e){if("string"==typeof e)return{id:e,mode:"open_or_create"};o.validateOptionalTtl(e.ttl);var t=e.mode||(e.id?"open_or_create":"create_new");return Object.assign(Object.assign({},e),{mode:t})}return{mode:"create_new"}}var I,D=(I=a.EventEmitter,i(A,I),r(A,[{key:"ensureReady",value:function(){var t;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.services.config.sessionStorageEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.awrap(this.services.twilsock.storageId());case 5:t=e.sent,this.services.storage.updateStorageId(t.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),v.default.warn("Failed to initialize storage",e.t0);case 12:case"end":return e.stop()}},null,this,[[2,9]])}},{key:"storeRootInSessionCache",value:function(e,t,n){if(this.services.config.sessionStorageEnabled&&t){var r=o.deepClone(n);e!==k.SyncList.type&&e!==x.SyncMap.type||(r.last_event_id=null,delete r.items),this.services.storage.store(e,t,r)}}},{key:"readRootFromSessionCache",value:function(e,t){return this.services.config.sessionStorageEnabled&&t?this.services.storage.read(e,t):null}},{key:"_get",value:function(t,n){var r,i,a,o=arguments;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<o.length&&void 0!==o[2]&&o[2],n){e.next=3;break}throw new s.SyncError("Cannot get entity without id",404);case 3:return i=new l.UriBuilder(t).pathSegment(n).queryParam("Include",r?"items":void 0).build(),e.next=6,c.awrap(this.services.network.get(i));case 6:return a=e.sent,e.abrupt("return",a.body);case 8:case"end":return e.stop()}},null,this)}},{key:"_createDocument",value:function(e,t,n){var r={unique_name:e,data:t||{}};return"number"==typeof n&&(r.ttl=n),this.services.network.post(this.services.config.documentsUri,r).then(function(e){return e.body.data=r.data,e.body})}},{key:"_getDocument",value:function(t){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(u.SyncDocument.type,t)||this._get(this.services.config.documentsUri,t));case 1:case"end":return e.stop()}},null,this)}},{key:"_createList",value:function(e,t,n,r){var i={unique_name:e,purpose:t,context:n};return"number"==typeof r&&(i.ttl=r),this.services.network.post(this.services.config.listsUri,i).then(function(e){return e.body})}},{key:"_getList",value:function(t){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(k.SyncList.type,t)||this._get(this.services.config.listsUri,t));case 1:case"end":return e.stop()}},null,this)}},{key:"_createMap",value:function(e,t){var n={unique_name:e};return"number"==typeof t&&(n.ttl=t),this.services.network.post(this.services.config.mapsUri,n).then(function(e){return e.body})}},{key:"_getMap",value:function(t){var n,r=arguments;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<r.length&&void 0!==r[1]&&r[1],e.abrupt("return",this.readRootFromSessionCache(x.SyncMap.type,t)||this._get(this.services.config.mapsUri,t,n));case 2:case"end":return e.stop()}},null,this)}},{key:"_getStream",value:function(t){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(C.SyncStream.type,t)||this._get(this.services.config.streamsUri,t,!1));case 1:case"end":return e.stop()}},null,this)}},{key:"_createStream",value:function(t,n){var r,i,a;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r={unique_name:t},"number"==typeof n&&(r.ttl=n),e.next=4,c.awrap(this.services.network.post(this.services.config.streamsUri,r));case 4:return i=e.sent,a=i.body,e.abrupt("return",a);case 7:case"end":return e.stop()}},null,this)}},{key:"_getLiveQuery",value:function(e){return this.readRootFromSessionCache(T.LiveQuery.type,e)}},{key:"getCached",value:function(e,t){return e&&this.entities.get(e,t)||null}},{key:"removeFromCacheAndSession",value:function(e,t,n){this.entities.remove(t),this.services.config.sessionStorageEnabled&&this.services.storage.remove(e,t,n)}},{key:"document",value:function(t){var n,r,i,a,o=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.ensureReady());case 2:if("create_new"===(n=P(t)).mode)return e.next=6,c.awrap(this._createDocument(n.id,n.value,n.ttl));e.next=9;break;case 6:r=e.sent,e.next=39;break;case 9:if(i=this.getCached(n.id,u.SyncDocument.type))return e.abrupt("return",new u.SyncDocument(i));e.next=14;break;case 14:return e.prev=14,e.next=17,c.awrap(this._getDocument(n.id));case 17:r=e.sent,e.next=39;break;case 20:if(e.prev=20,e.t0=e.catch(14),404!==e.t0.status||"open_existing"===n.mode)throw e.t0;e.next=26;break;case 26:return e.prev=26,e.next=29,c.awrap(this._createDocument(n.id,n.value,n.ttl));case 29:r=e.sent,e.next=39;break;case 32:if(e.prev=32,e.t1=e.catch(26),409===e.t1.status)return e.abrupt("return",this.document(t));e.next=38;break;case 38:throw e.t1;case 39:return this.storeRootInSessionCache(u.SyncDocument.type,n.id,r),a=new u.SyncDocumentImpl(this.services,r,function(e,t,n){return o.removeFromCacheAndSession(e,t,n)}),a=this.entities.store(a),e.abrupt("return",new u.SyncDocument(a));case 43:case"end":return e.stop()}},null,this,[[14,20],[26,32]])}},{key:"map",value:function(t){var n,r,i,a,o=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.ensureReady());case 2:if("create_new"===(n=P(t)).mode)return e.next=6,c.awrap(this._createMap(n.id,n.ttl));e.next=9;break;case 6:r=e.sent,e.next=39;break;case 9:if(i=this.getCached(n.id,x.SyncMap.type))return e.abrupt("return",new x.SyncMap(i));e.next=14;break;case 14:return e.prev=14,e.next=17,c.awrap(this._getMap(n.id,n.includeItems));case 17:r=e.sent,e.next=39;break;case 20:if(e.prev=20,e.t0=e.catch(14),404!==e.t0.status||"open_existing"===n.mode)throw e.t0;e.next=26;break;case 26:return e.prev=26,e.next=29,c.awrap(this._createMap(n.id,n.ttl));case 29:r=e.sent,e.next=39;break;case 32:if(e.prev=32,e.t1=e.catch(26),409===e.t1.status)return e.abrupt("return",this.map(t));e.next=38;break;case 38:throw e.t1;case 39:return this.storeRootInSessionCache(x.SyncMap.type,n.id,r),a=new x.SyncMapImpl(this.services,r,function(e,t,n){return o.removeFromCacheAndSession(e,t,n)}),a=this.entities.store(a),e.abrupt("return",new x.SyncMap(a));case 43:case"end":return e.stop()}},null,this,[[14,20],[26,32]])}},{key:"list",value:function(t){var n,r,i,a,o=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.ensureReady());case 2:if("create_new"===(n=P(t)).mode)return e.next=6,c.awrap(this._createList(n.id,n.purpose,n.context,n.ttl));e.next=9;break;case 6:r=e.sent,e.next=39;break;case 9:if(i=this.getCached(n.id,k.SyncList.type))return e.abrupt("return",new k.SyncList(i));e.next=14;break;case 14:return e.prev=14,e.next=17,c.awrap(this._getList(n.id));case 17:r=e.sent,e.next=39;break;case 20:if(e.prev=20,e.t0=e.catch(14),404!==e.t0.status||"open_existing"===n.mode)throw e.t0;e.next=26;break;case 26:return e.prev=26,e.next=29,c.awrap(this._createList(n.id,n.purpose,n.context,n.ttl));case 29:r=e.sent,e.next=39;break;case 32:if(e.prev=32,e.t1=e.catch(26),409===e.t1.status)return e.abrupt("return",this.list(t));e.next=38;break;case 38:throw e.t1;case 39:return this.storeRootInSessionCache(k.SyncList.type,n.id,r),a=new k.SyncListImpl(this.services,r,function(e,t,n){return o.removeFromCacheAndSession(e,t,n)}),a=this.entities.store(a),e.abrupt("return",new k.SyncList(a));case 43:case"end":return e.stop()}},null,this,[[14,20],[26,32]])}},{key:"stream",value:function(t){var n,r,i,a,o,s=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.ensureReady());case 2:if("create_new"===(n=P(t)).mode)return e.next=6,c.awrap(this._createStream(n.id,n.ttl));e.next=9;break;case 6:r=e.sent,e.next=39;break;case 9:if(i=this.getCached(n.id,C.SyncStream.type))return e.abrupt("return",new C.SyncStream(i));e.next=14;break;case 14:return e.prev=14,e.next=17,c.awrap(this._getStream(n.id));case 17:r=e.sent,e.next=39;break;case 20:if(e.prev=20,e.t0=e.catch(14),404!==e.t0.status||"open_existing"===n.mode)throw e.t0;e.next=26;break;case 26:return e.prev=26,e.next=29,c.awrap(this._createStream(n.id,n.ttl));case 29:r=e.sent,e.next=39;break;case 32:if(e.prev=32,e.t1=e.catch(26),409===e.t1.status)return e.abrupt("return",this.stream(t));e.next=38;break;case 38:throw e.t1;case 39:return this.storeRootInSessionCache(C.SyncStream.type,n.id,r),a=function(e,t,n){return s.removeFromCacheAndSession(e,t,n)},o=new C.SyncStreamImpl(this.services,r,a),o=this.entities.store(o),e.abrupt("return",new C.SyncStream(o));case 44:case"end":return e.stop()}},null,this,[[14,20],[26,32]])}},{key:"shutdown",value:function(){return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.services.subscriptions.shutdown());case 2:return e.next=4,c.awrap(this.services.twilsock.disconnect());case 4:case"end":return e.stop()}},null,this)}},{key:"updateToken",value:function(e){return e?this.services.twilsock.updateToken(e):Promise.reject(new Error("A valid Twilio token should be provided"))}},{key:"liveQuery",value:function(t,n){var r,i,a,o,s,u=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.ensureReady());case 2:if(t&&"string"==typeof t){e.next=4;break}throw new Error("Index name must contain a non-empty string value");case 4:return r=new l.UriBuilder(this.services.config.insightsUri).pathSegment(t).pathSegment("Items").build(),e.next=7,c.awrap(O.queryItems({network:this.services.network,uri:r,queryString:n}));case 7:return i=e.sent,(a=this.getCached(i.query_id,T.LiveQuery.type))||((o=this._getLiveQuery(i.query_id))||(o={indexName:t,queryExpression:n,sid:i.query_id,queryUri:r}),s=function(e,t,n){return u.removeFromCacheAndSession(e,t,n)},a=new T.LiveQueryImpl(o,this.services,s,i.items)),this.storeRootInSessionCache(T.LiveQuery.type,i.query_id,a.liveQueryDescriptor),a=this.entities.store(a),e.abrupt("return",new T.LiveQuery(a));case 13:case"end":return e.stop()}},null,this)}},{key:"instantQuery",value:function(t){var n,r,i=this;return c.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.awrap(this.ensureReady());case 2:return n=function(e,t){return i.liveQuery(e,t)},r=new T.InstantQuery({indexName:t,network:this.services.network,insightsUri:this.services.config.insightsUri,liveQueryCreator:n}),e.abrupt("return",r);case 5:case"end":return e.stop()}},null,this)}},{key:"connectionState",get:function(){return this.services.notifications.connectionState}}],[{key:"version",get:function(){return M}}]),A);function A(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(f(this,A),t=d(this,p(A).call(this)),!e)throw new Error("Sync library needs a valid Twilio token to be passed");n.hasOwnProperty("logLevel")?v.default.setLevel(n.logLevel):v.default.setLevel("silent");var r=n.productId=n.productId||"data_sync",i=n.twilsockClient=n.twilsockClient||new h.Twilsock(e,r,n);i.on("tokenAboutToExpire",function(e){return t.emit("tokenAboutToExpire",e)}),i.on("tokenExpired",function(){return t.emit("tokenExpired")}),i.on("connectionError",function(e){return t.emit("connectionError",e)});var a=n.notificationsClient=n.notificationsClient||new m.Notifications(e,n),o=new y.Configuration(n),s=new w.NetworkService(new _.ClientInfo(M),o,i),u=new E.SessionStorage(o);t.localStorageId=null,i.connect(),t.services={config:o,twilsock:i,notifications:a,network:s,storage:u,router:null,subscriptions:null};var c=new g.Subscriptions(t.services),l=new b.Router({config:o,subscriptions:c,notifications:a});return t.services.router=l,t.services.subscriptions=c,t.entities=new S.EntitiesCache,a.on("connectionStateChanged",function(){t.emit("connectionStateChanged",t.services.notifications.connectionState)}),t}t.Client=D,t.SyncClient=D,t.default=D},function(e,t,n){"use strict";var o=n(1),r=n(2);Object.defineProperty(t,"__esModule",{value:!0});var i=(r(s,[{key:"subscriptionsUri",get:function(){return this.settings.subscriptionsUri}},{key:"documentsUri",get:function(){return this.settings.documentsUri}},{key:"listsUri",get:function(){return this.settings.listsUri}},{key:"mapsUri",get:function(){return this.settings.mapsUri}},{key:"streamsUri",get:function(){return this.settings.streamsUri}},{key:"insightsUri",get:function(){return this.settings.insightsUri}},{key:"backoffConfig",get:function(){return this.settings.backoffConfig||{}}},{key:"sessionStorageEnabled",get:function(){return this.settings.sessionStorageEnabled}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,s);var t,n,r=e.region||"us1",i="https://cds.".concat(r,".twilio.com"),a=e.cdsUri||i;this.settings={subscriptionsUri:a+"/v4/Subscriptions",documentsUri:a+"/v3/Documents",listsUri:a+"/v3/Lists",mapsUri:a+"/v3/Maps",streamsUri:a+"/v3/Streams",insightsUri:a+"/v3/Insights",sessionStorageEnabled:(n="enableSessionStorage",!(t=e.Sync)||void 0===t[n]||t[n])}}t.Configuration=i},function(e,t,n){"use strict";var x=n(11),h=n(150),i=n(1),r=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(53),o=n(33),_=n(34),S=n(32),s=(r(l,[{key:"update",value:function(e,t){this.localObject._update(e,t)}},{key:"updatePending",value:function(e,t){this.pendingAction=e,this.pendingCorrelationId=t}},{key:"reset",value:function(){this.updatePending(null,null),this.retryCount=0,this.established=!1,this.setSubscriptionState("none")}},{key:"markAsFailed",value:function(e){this.rejectedWithError=e.error,this.updatePending(null,null),this.localObject.reportFailure(new o.SyncError("Failed to subscribe on service events: ".concat(e.error.message),e.error.status,e.error.code))}},{key:"complete",value:function(e){this.updatePending(null,null),this.established=!0,this.localObject._advanceLastEventId(e)}},{key:"setSubscriptionState",value:function(e){this.localObject._setSubscriptionState(e)}},{key:"sid",get:function(){return this.localObject.sid}},{key:"type",get:function(){return this.localObject.type}},{key:"lastEventId",get:function(){return this.localObject.lastEventId}},{key:"indexName",get:function(){return this.localObject.indexName}},{key:"queryString",get:function(){return this.localObject.queryString}},{key:"isEstablished",get:function(){return this.established}}]),l),u=(r(c,[{key:"getSubscriptionUpdateBatch",value:function(){function e(e,t,n,r){var i=[],a=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,f=h(l,2),d=f[0],p=f[1];if(!t.get(d)&&n!==p.pendingAction&&!p.rejectedWithError&&(i.push(p),r&&i.length>=r))break}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i}var t=e(this.subscriptions,this.persisted,"establish",this.maxBatchSize);if(0<t.length)return{action:"establish",subscriptions:t};var n=e(this.persisted,this.subscriptions,"cancel",this.maxBatchSize);return 0<n.length?{action:"cancel",subscriptions:n}:{action:null,subscriptions:null}}},{key:"persist",value:function(){this.backoff.backoff()}},{key:"applyNewSubscriptionUpdateBatch",value:function(t,n){var r,i,a,o,s,u,c,l,f,d,p,h,m,v,y,g,b,w,k=this;return x.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected){e.next=4;break}return _.default.debug("Twilsock connection (required for subscription) not ready; waitingâ¦"),this.backoff.reset(),e.abrupt("return");case 4:for(n=this.processLocalActions(t,n),r=(new Date).getTime(),a=!(i=!0),o=void 0,e.prev=9,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c=u.value,this.recordActionAttemptOn(c,t,r);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),a=!0,o=e.t0;case 17:e.prev=17,e.prev=18,i||null==s.return||s.return();case 20:if(e.prev=20,a)throw o;e.next=23;break;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return l=this.pendingPokeReason,this.pendingPokeReason=null,e.prev=27,e.next=30,x.awrap(this.request(t,r,l,n));case 30:f=e.sent,d=f.body.max_batch_size,!isNaN(parseInt(d))&&isFinite(d)&&0<d&&(this.maxBatchSize=d),this.subscriptionTtlTimer||(p=f.body.ttl_in_s,!isNaN(parseFloat(p))&&isFinite(p)&&0<p&&(this.subscriptionTtlTimer=setTimeout(function(){return k.onSubscriptionTtlElapsed()},1e3*p))),"establish"===t&&(h=f.body.estimated_delivery_in_ms,!isNaN(parseFloat(h))&&isFinite(h)&&0<h?setTimeout(function(){return k.verifyPokeDelivery(r,h,n)},h):_.default.error("Invalid timeout: ".concat(h)),n.filter(function(e){return e.pendingCorrelationId===r}).forEach(function(e){return e.setSubscriptionState("response_in_flight")})),this.backoff.reset(),e.next=60;break;case 38:for(e.prev=38,e.t1=e.catch(27),v=!(m=!0),y=void 0,e.prev=43,g=n[Symbol.iterator]();!(m=(b=g.next()).done);m=!0)w=b.value,this.recordActionFailureOn(w,t);e.next=51;break;case 47:e.prev=47,e.t2=e.catch(43),v=!0,y=e.t2;case 51:e.prev=51,e.prev=52,m||null==g.return||g.return();case 54:if(e.prev=54,v)throw y;e.next=57;break;case 57:return e.finish(54);case 58:return e.finish(51);case 59:e.t1 instanceof S.TransportUnavailableError?(_.default.debug("Twilsock connection (required for subscription) not ready (c:".concat(r,"); waitingâ¦")),this.backoff.reset()):(_.default.debug("Failed an attempt to ".concat(t," subscriptions (c:").concat(r,"); retrying"),e.t1),this.persist());case 60:case"end":return e.stop()}},null,this,[[9,13,17,25],[18,,20,24],[27,38],[43,47,51,59],[52,,54,58]])}},{key:"verifyPokeDelivery",value:function(t,e,n){var r=this,i=this.latestPokeResponseArrivalTimestampByCorrelationId.get(t),a=i?(new Date).getTime()-i:e;e<=a?(n.filter(function(e){return e.pendingCorrelationId===t}).forEach(function(e){e.updatePending(null,null),e.retryCount++,r.persisted.delete(e.sid)}),this.persist(),this.latestPokeResponseArrivalTimestampByCorrelationId.delete(t)):setTimeout(function(){return r.verifyPokeDelivery(t,e,n)},e-a)}},{key:"processLocalActions",value:function(e,t){return"cancel"===e?t.filter(function(e){return!e.rejectedWithError}):t}},{key:"recordActionAttemptOn",value:function(e,t,n){if(e.setSubscriptionState("request_in_flight"),"establish"===t)this.persisted.set(e.sid,e),e.updatePending(t,n);else{var r=this.persisted.get(e.sid);r&&r.updatePending(t,n)}}},{key:"recordActionFailureOn",value:function(e,t){e.setSubscriptionState("none"),e.updatePending(null,null),"establish"===t&&this.persisted.delete(e.sid)}},{key:"request",value:function(t,e,n,r){var i=r.map(function(e){return{object_sid:e.sid,object_type:e.type,last_event_id:"establish"===t?e.lastEventId:void 0,index_name:"establish"===t?e.indexName:void 0,query_string:"establish"===t?e.queryString:void 0}}),a=r.filter(function(e){return 0<e.retryCount}).length;_.default.debug("Attempting '".concat(t,"' request (c:").concat(e,"):"),i);var o={event_protocol_version:3,action:t,correlation_id:e,retried_requests:a,ttl_in_s:-1,requests:i};return"ttl"===n&&(o.reason=n),this.services.network.post(this.services.config.subscriptionsUri,o)}},{key:"add",value:function(e,t){_.default.debug("Establishing intent to subscribe to ".concat(e));var n=this.subscriptions.get(e);n&&t&&n.lastEventId===t.lastEventId||(this.persisted.delete(e),this.subscriptions.set(e,new s(t)),this.persist())}},{key:"remove",value:function(e){_.default.debug("Establishing intent to unsubscribe from ".concat(e)),this.subscriptions.delete(e)&&this.persist()}},{key:"acceptMessage",value:function(e,t){switch(_.default.trace("Subscriptions received",e),e.correlation_id&&this.latestPokeResponseArrivalTimestampByCorrelationId.set(e.correlation_id,(new Date).getTime()),e.event_type){case"subscription_established":this.applySubscriptionEstablishedMessage(e.event,e.correlation_id);break;case"subscription_canceled":this.applySubscriptionCancelledMessage(e.event,e.correlation_id);break;case"subscription_failed":this.applySubscriptionFailedMessage(e.event,e.correlation_id);break;case(e.event_type.match(/^(?:map|list|document|stream|live_query)_/)||{}).input:this.applyEventToSubscribedEntity(e.event_type.match(/^map_/)?e.event.map_sid:e.event_type.match(/^list_/)?e.event.list_sid:e.event_type.match(/^document_/)?e.event.document_sid:e.event_type.match(/^stream_/)?e.event.stream_sid:e.event_type.match(/^live_query/)?e.event.query_id:void 0,e,t);break;default:_.default.debug("Dropping unknown message type ".concat(e.event_type))}}},{key:"applySubscriptionEstablishedMessage",value:function(e,t){var n=e.object_sid,r=this.persisted.get(e.object_sid);r&&r.pendingCorrelationId===t?"interrupted"===e.replay_status?(_.default.debug("Event Replay for subscription to ".concat(n," (c:").concat(t,") interrupted; continuing eagerly.")),r.updatePending(null,null),this.persisted.delete(r.sid),this.backoff.reset()):"completed"===e.replay_status&&(_.default.debug("Event Replay for subscription to ".concat(n," (c:").concat(t,") completed. Subscription is ready.")),r.complete(e.last_event_id),this.persisted.set(e.object_sid,r),r.setSubscriptionState("established"),this.backoff.reset()):_.default.debug("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionCancelledMessage",value:function(e,t){var n=this.persisted.get(e.object_sid);n&&n.pendingCorrelationId===t?(n.updatePending(null,null),n.setSubscriptionState("none"),this.persisted.delete(e.object_sid)):_.default.debug("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionFailedMessage",value:function(e,t){var n=e.object_sid,r=this.subscriptions.get(n),i=this.persisted.get(n);r&&i?i.pendingCorrelationId===t&&(_.default.error("Failed to subscribe on ".concat(i.sid),e.error),i.markAsFailed(e),i.setSubscriptionState("none")):!r&&i&&(this.persisted.delete(n),i.setSubscriptionState("none")),this.persist()}},{key:"applyEventToSubscribedEntity",value:function(e,t,n){var r;if(e){n=n||(r=this.persisted.get(e))&&r.isEstablished;var i=this.subscriptions.get(e);i?(t.event.type=t.event_type,i.update(t.event,n)):_.default.debug("Message dropped for SID '".concat(e,"', for which there is no subscription."))}}},{key:"onConnectionStateChanged",value:function(e){(this.isConnected=e)&&this.poke("reconnect")}},{key:"onSubscriptionTtlElapsed",value:function(){this.isConnected&&this.poke("ttl")}},{key:"poke",value:function(e){_.default.debug("Triggering event replay for all subscriptions, reason=".concat(e)),this.pendingPokeReason=e,this.subscriptionTtlTimer&&(clearTimeout(this.subscriptionTtlTimer),this.subscriptionTtlTimer=null);var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=this.persisted.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.reset(),s.rejectedWithError&&t.push(s)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this.persisted.clear();for(var u=0,c=t;u<c.length;u++){var l=c[u];this.persisted.set(l.sid,l)}this.persist()}},{key:"shutdown",value:function(){this.backoff.reset(),this.subscriptions.clear()}}]),c);function c(e){var r=this;i(this,c),this.isConnected=!1,this.maxBatchSize=100,this.subscriptionTtlTimer=null,this.pendingPokeReason=null,this.services=e,this.subscriptions=new Map,this.persisted=new Map,this.latestPokeResponseArrivalTimestampByCorrelationId=new Map,this.backoff=a.Backoff.exponential(Object.assign({randomisationFactor:.2,initialDelay:100,maxDelay:12e4},this.services.config.backoffConfig)),this.backoff.on("ready",function(){var e=r.getSubscriptionUpdateBatch(),t=e.action,n=e.subscriptions;t?r.applyNewSubscriptionUpdateBatch(t,n):(r.backoff.reset(),_.default.debug("All subscriptions resolved."))})}function l(e){i(this,l),this.localObject=e,this.pendingCorrelationId=null,this.pendingAction=null,this.established=!1,this.retryCount=0}t.Subscriptions=u},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o="com.twilio.rtd.cds.document",s="com.twilio.rtd.cds.list",u="com.twilio.rtd.cds.map",c="twilio.sync.event",l=(i(f,[{key:"onMessage",value:function(e,t){switch(a.default.trace("Notification type:",e,"content:",t),e){case o:case s:case u:this.subscriptions.acceptMessage(t,!1);break;case c:this.subscriptions.acceptMessage(t,!0)}}},{key:"subscribe",value:function(e,t){this.subscriptions.add(e,t)}},{key:"unsubscribe",value:function(e){this.subscriptions.remove(e)}},{key:"onConnectionStateChanged",value:function(e){this.subscriptions.onConnectionStateChanged(e)}}]),f);function f(e){var n=this;r(this,f),this.config=e.config,this.subscriptions=e.subscriptions,this.notifications=e.notifications,this.notifications.subscribe(c),this.notifications.subscribe(o),this.notifications.subscribe(s),this.notifications.subscribe(u),this.notifications.on("message",function(e,t){return n.onMessage(e,t)}),this.notifications.on("transportReady",function(e){return n.onConnectionStateChanged(e)})}t.Router=l,t.default=l},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(46),o=n(33),s=n(34),u=n(53),c=n(32);function l(e){if(e.body&&e.body.message)return e.body.message;switch(e.status){case 429:return"Throttled by server";case 404:return"Not found from server";default:return"Error from server"}}function f(e){return e.body?e.body.code:0}function d(e){return 409===e.status?new o.SyncNetworkError(l(e),e.status,f(e),e.body):e.status?new o.SyncError(l(e),e.status,f(e)):e instanceof c.TransportUnavailableError?e:new o.SyncError(e.message,0,0)}var p=(i(h,[{key:"createHeaders",value:function(){return{"Content-Type":"application/json","Twilio-Sync-Client-Info":JSON.stringify(this.clientInfo),"Twilio-Request-Id":"RQ"+a.v4().replace(/-/g,"")}}},{key:"backoffConfig",value:function(){return Object.assign({min:4e3,max:6e4,maxAttemptsTime:9e4,randomness:.2},this.config.backoffConfig)}},{key:"executeWithRetry",value:function(e){var a=this,o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return new Promise(function(t,n){var r=[502,503,504];o&&r.push(429);var i=new u.Retrier(a.backoffConfig());i.on("attempt",function(){e().then(function(e){return i.succeeded(e)}).catch(function(e){if(r.includes(e.status)){var t=parseInt(e.headers?e.headers["Retry-After"]:null);i.failed(d(e),isNaN(t)?null:1e3*t)}else"Twilsock disconnected"===e.message?i.failed(d(e)):(i.removeAllListeners(),i.cancel(),n(d(e)))})}),i.on("succeeded",function(e){t(e)}),i.on("cancelled",function(e){return n(d(e))}),i.on("failed",function(e){return n(d(e))}),i.start()})}},{key:"get",value:function(e){var t=this,n=this.createHeaders();return s.default.debug("GET",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry(function(){return t.transport.get(e,n)},!0)}},{key:"post",value:function(e,t,n){var r=this,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=this.createHeaders();return null!=n&&(a["If-Match"]=n),s.default.debug("POST",e,"ID:",a["Twilio-Request-Id"]),this.executeWithRetry(function(){return r.transport.post(e,a,t)},i)}},{key:"put",value:function(e,t,n){var r=this,i=this.createHeaders();return null!=n&&(i["If-Match"]=n),s.default.debug("PUT",e,"ID:",i["Twilio-Request-Id"]),this.executeWithRetry(function(){return r.transport.put(e,i,t)},!1)}},{key:"delete",value:function(e){var t=this,n=this.createHeaders();return s.default.debug("DELETE",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry(function(){return t.transport.delete(e,n)},!1)}}]),h);function h(e,t,n){r(this,h),this.clientInfo=e,this.config=t,this.transport=n}t.NetworkService=p},function(e,t,n){"use strict";var s=n(11),r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var o=(i(c,[{key:"update",value:function(e){this.value=e}},{key:"replace",value:function(e,t){e&&(this.left===t?this.left=t:this.right===t&&(this.right=t))}},{key:"isRoot",get:function(){return null===this.parent}},{key:"isLeaf",get:function(){return null===this.left&&null===this.right}},{key:"isLeftChild",get:function(){return this.parent.left===this}}]),c),a=(i(u,[{key:"clear",value:function(){this.root=null,this.count=0}},{key:"set",value:function(e,t){var n=this.getNode(e);n?n.update(t):this.insert(e,t)}},{key:"insert",value:function(e,t){var n=new o(e,t);if(this.count++,this.root){for(var r=this.root;;)if(this.isLessThan(e,r.key)){if(!r.left){r.left=n;break}r=r.left}else{if(!r.right){r.right=n;break}r=r.right}for(n.parent=r,r=n;r.parent;){var i=r.parent,a=i.balanceFactor;if(r.isLeftChild?i.balanceFactor++:i.balanceFactor--,Math.abs(i.balanceFactor)<Math.abs(a))break;if(i.balanceFactor<-1||1<i.balanceFactor){this.rebalance(i);break}r=i}}else this.root=n}},{key:"get",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t.value;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"delete",value:function(e){var t=this.getNode(e);if(!t||t.key!==e)return null;var n=t.parent,r=t.left,i=t.right;if(!!r!=!!i){var a=r||i;n||a?n&&!a?this.root=a:(n.replace(t,null),this.rebalance(n)):this.root=null}else{for(var o=t.left;o.right;)o=o.right;if(t.left===o)t.isRoot?(this.root=o).parent=null:(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,(o.right.parent=o).balanceFactor=t.balanceFactor,t={parent:o,isLeftChild:!0};else{var s=o.parent,u=o.left;(s.right=u)&&(u.parent=s),t.isRoot?(this.root=o).parent=null:(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,(o.right.parent=o).left=t.left,(o.left.parent=o).balanceFactor=t.balanceFactor,t={parent:s,isLeftChild:!1}}}for(this.count--;t.parent;){var c=t.parent,l=c.balanceFactor;if(t.isLeftChild?--c.balanceFactor:c.balanceFactor+=1,Math.abs(c.balanceFactor)>Math.abs(l)){if(!(c.balanceFactor<-1||1<c.balanceFactor))break;if(this.rebalance(c),0!==c.parent.balanceFactor)break;t=c.parent}else t=c}return null}},{key:"getNode",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"rebalance",value:function(e){e.balanceFactor<0?(0<e.right.balanceFactor&&this.rotateRight(e.right),this.rotateLeft(e)):0<e.balanceFactor&&(e.left.balanceFactor<0&&this.rotateLeft(e.left),this.rotateRight(e))}},{key:"rotateLeft",value:function(e){var t=e.right;e.right=t.left,null!==t.left&&(t.left.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,(t.left=e).parent=t,e.balanceFactor=e.balanceFactor+1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor+1-Math.max(e.balanceFactor,0)}},{key:"rotateRight",value:function(e){var t=e.left;e.left=t.right,null!==t.right&&(t.right.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,(t.right=e).parent=t,e.balanceFactor=e.balanceFactor-1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor-1-Math.max(e.balanceFactor,0)}},{key:Symbol.iterator,value:s.mark(function e(){var t,n,r,i,a,o;return s.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),r=void 0,e.prev=3,i=this.getIterator()[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=a.value,e.next=9,o;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,n)throw r;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"getIterator",value:s.mark(function e(){var t,n,r,i=arguments;return s.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0<i.length&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(this.isEqual(t,n.key)||null===t&&!n.left)return e.abrupt("break",8);e.next=5;break;case 5:n=this.isLessThan(t,n.key)||null===t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(r)return e.next=14,[n.key,n.value];e.next=29;break;case 14:if(r=!1,!n.right){e.next=21;break}for(n=n.right;n.left;)n=n.left;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.left===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.left===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}},e,this)})},{key:"getReverseIterator",value:s.mark(function e(){var t,n,r,i=arguments;return s.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0<i.length&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(this.isEqual(t,n.key)||null===t&&!n.right)return e.abrupt("break",8);e.next=5;break;case 5:n=this.isLessThan(t,n.key)&&null!==t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(r)return e.next=14,[n.key,n.value];e.next=29;break;case 14:if(r=!1,!n.left){e.next=21;break}for(n=n.left;n.right;)n=n.right;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.right===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.right===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}},e,this)})},{key:"size",get:function(){return this.count}}]),u);function u(e,t){r(this,u),this.isLessThan=e||function(e,t){return e<t},this.isEqual=t||function(e,t){return e===t},this.root=null,this.count=null}function c(e,t){r(this,c),this.balanceFactor=0,this.key=e,this.value=t,this.parent=null,this.left=null,this.right=null}t.TreeMap=a},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0});function i(e){r(this,i),this.sdk="js",this.sdkVer=e,this.os=a.os.family,this.osVer=a.os.version,this.pl=a.name,this.plVer=a.version}var a=n(100);t.ClientInfo=i,t.default=i},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"store",value:function(e){return this.entities.get(e.sid)||(this.entities.set(e.sid,e),e.uniqueName&&this.names.set(e.type+"::"+e.uniqueName,e.sid),e)}},{key:"getResolved",value:function(e,t){var n=this.names.get(t+"::"+e);return n?this.entities.get(n):null}},{key:"get",value:function(e,t){return this.entities.get(e)||this.getResolved(e,t)||null}},{key:"remove",value:function(e){var t=this.entities.get(e);t&&(this.entities.delete(e),t.uniqueName&&this.names.delete(t.type+"::"+t.uniqueName))}}]),o);function o(){r(this,o),this.names=new Map,this.entities=new Map}t.EntitiesCache=a},function(e,t,n){"use strict";var r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=(i(o,[{key:"storageKey",value:function(e,t){return"".concat(this.storageId,"::").concat(e,"::").concat(t)}},{key:"updateStorageId",value:function(e){this.storageId=e}},{key:"store",value:function(e,t,n){return this.isReady?this._store(this.storageKey(e,t),n):null}},{key:"read",value:function(e,t){return this.isReady?this._read(this.storageKey(e,t)):null}},{key:"remove",value:function(e,t,n){if(!this.isReady)return null;try{this.storage.removeItem(this.storageKey(e,t)),n&&this.storage.removeItem(this.storageKey(e,n))}catch(e){}}},{key:"update",value:function(e,t,n,r){if(!this.isReady)return null;this._apply(this.storageKey(e,t),r),n&&this._apply(this.storageKey(e,n),r)}},{key:"_store",value:function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){}}},{key:"_read",value:function(e){try{var t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(e){}return null}},{key:"_apply",value:function(e,t){var n=this._read(e);if(!n)return!1;this._store(e,Object.assign(n,t))}},{key:"isReady",get:function(){return this.config.sessionStorageEnabled&&!!this.storageId}}]),o);function o(e,t){r(this,o),this.config=e,this.storageId=null;try{this.storage=t||sessionStorage}catch(e){}}t.SessionStorage=a},function(e,t,n){"use strict";var r=n(44),i=n(54),o=n(11),a=n(1),s=n(2),u=n(4),c=n(3),l=n(5);Object.defineProperty(t,"__esModule",{value:!0});var f,d=n(65),p=n(64),h=n(66),m=(f=d.SyncEntity,l(v,f),s(v,[{key:"publishMessage",value:function(t){var n,r,i,a;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:t},e.next=3,o.awrap(this.services.network.post(this.links.messages,n));case 3:return r=e.sent,i=r.body,a=this._handleMessagePublished(i.sid,t,!1),e.abrupt("return",a);case 7:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){var n,r;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return p.validateMandatoryTtl(t),e.prev=1,n={ttl:t},e.next=5,o.awrap(this.services.network.post(this.uri,n));case 5:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),404===e.t0.status&&this.onRemoved(!1),e.t0;case 13:case"end":return e.stop()}},null,this,[[1,9]])}},{key:"removeStream",value:function(){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.awrap(this.services.network.delete(this.uri));case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},null,this)}},{key:"_update",value:function(e){switch(e.type){case"stream_message_published":this._handleMessagePublished(e.message_sid,e.message_data,!0);break;case"stream_removed":this.onRemoved(!1)}}},{key:"_handleMessagePublished",value:function(e,t,n){var r={sid:e,value:t};return this.broadcastEventToListeners("messagePublished",{message:r,isLocal:!n}),r}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"stream"}},{key:"lastEventId",get:function(){return null}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"stream"}}]),v);function v(e,t,n){var r;return a(this,v),(r=u(this,c(v).call(this,e,n))).descriptor=t,r}t.SyncStreamImpl=m;var y,g=(y=h.default,l(b,y),s(b,[{key:"publishMessage",value:function(t){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.publishMessage(t));case 2:case"end":return e.stop()}},null,this)}},{key:"setTtl",value:function(t){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.setTtl(t));case 2:case"end":return e.stop()}},null,this)}},{key:"removeStream",value:function(){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.removeStream());case 2:case"end":return e.stop()}},null,this)}},{key:"close",value:function(){i(c(b.prototype),"close",this).call(this),this.syncStreamImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncStreamImpl.uri}},{key:"links",get:function(){return this.syncStreamImpl.links}},{key:"dateExpires",get:function(){return this.syncStreamImpl.dateExpires}},{key:"type",get:function(){return m.type}},{key:"lastEventId",get:function(){return null}},{key:"sid",get:function(){return this.syncStreamImpl.sid}},{key:"uniqueName",get:function(){return this.syncStreamImpl.uniqueName}}],[{key:"type",get:function(){return m.type}}]),b);function b(e){var t;return a(this,b),(t=u(this,c(b).call(this))).syncStreamImpl=e,t.syncStreamImpl.attach(r(t)),t}t.SyncStream=g,t.default=g},function(e){e.exports=JSON.parse('{"_from":"twilio-sync@^0.11.5","_id":"twilio-sync@0.11.5","_inBundle":false,"_integrity":"sha512-Gsr2Xms4HdnTzOnqayalMiIRD7A8iWUAk2UG83l0KFttH0sEXkU79QClm7j2qla1MD6s4niqrRAekVMYqeo/7Q==","_location":"/twilio-sync","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"twilio-sync@^0.11.5","name":"twilio-sync","escapedName":"twilio-sync","rawSpec":"^0.11.5","saveSpec":null,"fetchSpec":"^0.11.5"},"_requiredBy":["/twilio-chat"],"_resolved":"https://registry.npmjs.org/twilio-sync/-/twilio-sync-0.11.5.tgz","_shasum":"945e06117204fd23eab9022b27aa3d5c6b645ed9","_spec":"twilio-sync@^0.11.5","_where":"/Users/aartyushkevich/Documents/Repos/ridecharge/chat_webapp/node_modules/twilio-chat","author":{"name":"Twilio"},"browserify":{"transform":["babelify"]},"bundleDependencies":false,"dependencies":{"loglevel":"^1.6.3","operation-retrier":"^3.0.0","platform":"^1.3.5","twilio-notifications":"^0.5.8","twilsock":"^0.5.11","uuid":"^3.3.2"},"deprecated":false,"description":"Twilio Sync client library","devDependencies":{"@types/chai":"^4.1.7","@types/chai-as-promised":"7.1.0","@types/chai-string":"^1.4.1","@types/mocha":"^5.2.7","@types/node":"^12.0.4","@types/sinon":"^7.0.12","@types/sinon-chai":"^3.2.2","async-test-tools":"^1.0.7","babel-core":"^6.26.0","babel-plugin-transform-builtin-extend":"^1.1.2","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-runtime":"^6.26.0","babelify":"^8.0.0","browserify":"^16.2.3","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-string":"^1.5.0","cheerio":"^1.0.0-rc.2","cross-env":"^5.2.0","del":"^4.1.1","fancy-log":"^1.3.3","fs":"0.0.2","gulp":"^4.0.2","gulp-babel":"^7.0.1","gulp-derequire":"^2.1.0","gulp-if":"^2.0.2","gulp-insert":"^0.5.0","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.5","gulp-tap":"^1.0.1","gulp-tslint":"^8.1.4","gulp-typescript":"^5.0.1","gulp-uglify-es":"^1.0.4","ink-docstrap":"^1.3.2","jsdoc":"~3.5.5","jsonwebtoken":"^8.5.1","karma":"^4.1.0","karma-browserify":"^6.0.0","karma-browserstack-launcher":"^1.5.1","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","mocha":"^6.1.4","nyc":"^14.1.1","path":"^0.12.7","sinon":"^7.3.2","sinon-chai":"^3.3.0","source-map-explorer":"^1.8.0","ts-node":"^8.2.0","tslint":"^5.17.0","twilio":"^3.31.1","typescript":"^3.5.1","uglify-es":"^3.3.10","uglify-save-license":"^0.4.1","underscore":"^1.9.1","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0","watchify":"^3.11.1"},"engines":{"node":">=8"},"license":"MIT","main":"lib/index.js","name":"twilio-sync","types":"./lib/index.d.ts","version":"0.11.5"}')},function(e,t,n){"use strict";var r=n(303);e.exports=r},function(e,t,n){"use strict";var i=n(11),r=n(1),a=n(2);Object.defineProperty(t,"__esModule",{value:!0});var o=n(159),s=n(160),u=n(304);t.Media=u.Media,t.McsMedia=u.Media;var c=n(305),l=n(308),f=o.Logger.scope(""),d=n(309).version,p="A valid Twilio token should be provided",h=(a(m,[{key:"updateToken",value:function(e){if(f.info("updateToken"),!e)throw new Error(p);this.config.updateToken(e)}},{key:"get",value:function(t){var n;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.awrap(this.network.get("".concat(this.config.baseUrl,"/").concat(t)));case 2:return n=e.sent,e.abrupt("return",new u.Media(this.config,this.network,n.body));case 4:case"end":return e.stop()}},null,this)}},{key:"post",value:function(t,n){var r;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.awrap(this.network.post(this.config.baseUrl,n,t));case 2:return r=e.sent,e.abrupt("return",new u.Media(this.config,this.network,r.body));case 4:case"end":return e.stop()}},null,this)}},{key:"postFormData",value:function(t){var n;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.awrap(this.network.post(this.config.baseUrl,t));case 2:return n=e.sent,e.abrupt("return",new u.Media(this.config,this.network,n.body));case 4:case"end":return e.stop()}},null,this)}}]),m);function m(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(r(this,m),this.options=n,this.options.logLevel=this.options.logLevel||"silent",this.config=new s.Configuration(e,t,this.options),!e)throw new Error(p);f.setLevel(this.options.logLevel),this.options.transport=this.options.transport||new c.Transport,this.transport=this.options.transport,this.network=new l.Network(this.config,this.transport)}t.Client=h,(t.McsClient=h).version=d,t.default=h},function(e,t,n){"use strict";var r=n(11),i=n(1),a=n(2);Object.defineProperty(t,"__esModule",{value:!0});var o=(a(s,[{key:"getContentUrl",value:function(){var t;return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.awrap(this.network.get("".concat(this.config.baseUrl,"/").concat(this.sid)));case 2:return t=e.sent,this._update(t.body),e.abrupt("return",Promise.resolve(this.state.contentDirectUrl));case 5:case"end":return e.stop()}},null,this)}},{key:"_update",value:function(e){this.state={sid:e.sid,serviceSid:e.service_sid,channelSid:e.channel_sid,messageSid:e.message_sid,dateCreated:e.date_created?new Date(e.date_created):null,dateUpdated:e.date_updated?new Date(e.date_updated):null,size:e.size,contentType:e.content_type,url:e.url,contentUrl:e.links.content,contentDirectUrl:e.links.content_direct_temporary,filename:e.filename?e.filename:null}}},{key:"sid",get:function(){return this.state.sid}},{key:"serviceSid",get:function(){return this.state.serviceSid}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"fileName",get:function(){return this.state.filename}}]),s);function s(e,t,n){i(this,s),this.config=e,this.network=t,this._update(n)}t.Media=o},function(e,o,s){"use strict";(function(e){var t=s(1),n=s(2);Object.defineProperty(o,"__esModule",{value:!0});var c=s(306),a=e.XMLHttpRequest||s(307).XMLHttpRequest,r=(n(i,[{key:"get",value:function(e,t){return i.request("GET",e,t)}},{key:"post",value:function(e,t,n){return i.request("POST",e,t,n)}}],[{key:"request",value:function(t,n,r,i){return new Promise(function(o,s){var u=new a;for(var e in u.open(t,n,!0),u.onreadystatechange=function(){if(4===u.readyState){var e,t=(e=u.getAllResponseHeaders())?e.split("\r\n").map(function(e){return e.split(": ")}).filter(function(e){return 2===e.length&&0<e[1].length}).reduce(function(e,t){return e[t[0]]=t[1],e},{}):{},n=function(t){var e=t.getResponseHeader("Content-Type");if(!e||0!==e.indexOf("application/json")||0===t.responseText.length)return t.responseText;try{return JSON.parse(t.responseText)}catch(e){return t.responseText}}(u);if(200<=u.status&&u.status<300)o({status:u.status,headers:t,body:n});else{var r,i=u.statusText&&u.statusText.code?u.statusText.code:"NONE";r="string"==typeof n?n&&1===n.split("\n",2).length?n:"":JSON.stringify(n);var a="".concat(u.status,": [").concat(i,"] ").concat(r);s(new c.TransportError(a,u.status,n,i,t))}}},r)u.setRequestHeader(e,r[e]),"Content-Type"===e&&"application/json"===r[e]&&(i=JSON.stringify(i));u.send(i)})}}]),i);function i(){t(this,i)}o.Transport=r}).call(this,s(76))},function(e,t,n){"use strict";var o=n(1),s=n(4),u=n(3),r=n(5),i=n(99);Object.defineProperty(t,"__esModule",{value:!0});var a,c=(a=i(Error),r(l,a),l);function l(e,t,n,r,i){var a;return o(this,l),(a=s(this,u(l).call(this,e))).code=t,a.body=n,a.status=r,a.headers=i,a}t.TransportError=c},,function(e,t,n){"use strict";var o=n(11),r=n(1),i=n(2);Object.defineProperty(t,"__esModule",{value:!0});var s=n(53),a=n(159),u=n(160),c=a.Logger.scope("Network"),l=(i(f,[{key:"backoffConfig",value:function(){return Object.assign(u.Configuration.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){return void 0!==this.config.retryWhenThrottledOverride?this.config.retryWhenThrottledOverride:void 0!==u.Configuration.retryWhenThrottledDefault&&u.Configuration.retryWhenThrottledDefault}},{key:"executeWithRetry",value:function(e){var a=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t,n){var r=[502,503,504];o&&r.push(429);var i=new s.Retrier(a.backoffConfig());i.on("attempt",function(){e().then(function(e){return i.succeeded(e)}).catch(function(e){-1<r.indexOf(e.status)?i.failed(e):"Twilsock disconnected"===e.message?i.failed(e):(i.removeAllListeners(),i.cancel(),n(e))})}),i.on("succeeded",function(e){t(e)}),i.on("cancelled",function(e){return n(e)}),i.on("failed",function(e){return n(e)}),i.start()})}},{key:"get",value:function(t){var n,r,i=this;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n={"X-Twilio-Token":this.config.token},c.trace("sending GET request to ",t," headers ",n),e.next=4,o.awrap(this.executeWithRetry(function(){return i.transport.get(t,n)},this.retryWhenThrottled()));case 4:return r=e.sent,c.trace("response",r),e.abrupt("return",r);case 7:case"end":return e.stop()}},null,this)}},{key:"post",value:function(t,n,r){var i,a;return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={"X-Twilio-Token":this.config.token},n instanceof FormData||!r||Object.assign(i,{"Content-Type":r}),c.trace("sending POST request to ",t," headers ",i),e.prev=3,e.next=6,o.awrap(this.transport.post(t,i,n));case 6:a=e.sent,e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(3),e.t0 instanceof TypeError)throw c.trace("got error in post response",e.t0),new TypeError("Posting FormData supported only with browser engine's FormData");e.next=16;break;case 16:throw e.t0;case 17:return c.trace("response",a),e.abrupt("return",a);case 19:case"end":return e.stop()}},null,this,[[3,9]])}}]),f);function f(e,t){r(this,f),this.config=e,this.transport=t}t.Network=l},function(e){e.exports=JSON.parse('{"_from":"twilio-mcs-client@^0.3.1","_id":"twilio-mcs-client@0.3.1","_inBundle":false,"_integrity":"sha512-lNt9a5Uucqno+Xhacw3d9G2/i/n3F9wLhqQvYybyZ0e0O0nmDJaTVNHi5tyJURTcPTUNu/XyNJvWRK8BXuplnw==","_location":"/twilio-mcs-client","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"twilio-mcs-client@^0.3.1","name":"twilio-mcs-client","escapedName":"twilio-mcs-client","rawSpec":"^0.3.1","saveSpec":null,"fetchSpec":"^0.3.1"},"_requiredBy":["/twilio-chat"],"_resolved":"https://registry.npmjs.org/twilio-mcs-client/-/twilio-mcs-client-0.3.1.tgz","_shasum":"09c58631cd9f5f85d133fa60c6f66dce2833644e","_spec":"twilio-mcs-client@^0.3.1","_where":"/Users/aartyushkevich/Documents/Repos/ridecharge/chat_webapp/node_modules/twilio-chat","author":{"name":"Twilio"},"browser":{"xmlhttprequest":false},"browserify":{"transform":["babelify"]},"bundleDependencies":false,"dependencies":{"loglevel":"^1.6.4","operation-retrier":"^3.0.1","xmlhttprequest":"^1.8.0"},"deprecated":false,"description":"Twilio Media Content Service client library","devDependencies":{"@types/chai":"^4.2.2","@types/chai-as-promised":"^7.1.2","@types/chai-datetime":"0.0.33","@types/chai-string":"^1.4.2","@types/core-js":"^2.5.2","@types/mocha":"^5.2.7","@types/node":"^12.7.4","@types/sinon":"^7.0.13","@types/sinon-chai":"^3.2.3","async":"^3.1.0","async-test-tools":"^1.0.7","babel-core":"^6.26.0","babel-plugin-transform-builtin-extend":"^1.1.2","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-runtime":"^6.26.0","babelify":"^8.0.0","browserify":"^16.0.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-datetime":"^1.5.0","chai-string":"^1.5.0","cheerio":"^1.0.0-rc.2","cross-env":"^5.2.1","del":"^5.1.0","dotenv":"^8.1.0","express":"^4.17.1","gulp":"^4.0.2","gulp-babel":"^7.0.1","gulp-derequire":"^2.1.0","gulp-if":"^3.0.0","gulp-insert":"^0.5.0","gulp-mocha":"^7.0.1","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.5","gulp-tap":"^2.0.0","gulp-tslint":"^8.1.4","gulp-typescript":"^5.0.1","gulp-uglify-es":"^1.0.0","ink-docstrap":"^1.3.2","isomorphic-form-data":"^2.0.0","jsdoc":"~3.5.5","jsdoc-strip-async-await":"^0.1.0","mocha":"^6.2.0","ngrok":"^3.2.5","nyc":"^14.1.1","sinon":"^7.4.2","sinon-chai":"^3.3.0","source-map-explorer":"^2.0.1","ts-node":"^8.3.0","tslint":"^5.19.0","twilio":"^3.34.0","typescript":"^3.6.2","uglify-save-license":"^0.4.1","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},"engines":{"node":">=6"},"license":"MIT","main":"lib/index.js","name":"twilio-mcs-client","scripts":{},"types":"./lib/client.d.ts","version":"0.3.1"}')},function(e,t,n){"use strict";var r=c(n(13)),i=c(n(15)),u=c(n(18)),a=c(n(31)),o=c(n(8)),s=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});function l(){(0,s.default)(this,l)}var f,d,p,h,m,v,y=n(46),g=n(100),b=n(311),w=n(19),k=n(161),x=n(162),_=n(316),S=n(163).version,E=w.Logger.scope("Session"),C=((0,o.default)(T,[{key:"handleContextUpdate",value:function(e){var t;E.info("Session context updated"),E.debug("new session context:",e),this.currentContext=e,t=e,["identity","userInfo","links","myChannels","channels"].some(function(e){return!t.hasOwnProperty(e)})||(E.info("new session context accepted"),this.sessionInfo.set(e))}},{key:"initialize",value:function(){var t=this,e={type:"IpMsgSession",apiVersion:"3",endpointPlatform:this.endpointPlatform};return this.sessionStreamPromise=this.services.syncClient.list({purpose:"com.twilio.rtd.ipmsg",context:e}).then(function(e){return E.info("Session created",e.sid),e.on("itemAdded",function(e){return t.processCommandResponse(e.item)}),e.on("itemUpdated",function(e){return t.processCommandResponse(e.item)}),e.on("contextUpdated",function(e){return t.handleContextUpdate(e.context)}),e}).catch(function(e){throw E.error("Failed to create session",e),e}),this.sessionStreamPromise}},{key:"addCommand",value:function(e,t){return this.processCommand(e,t)}},{key:"processCommand",value:function(r,i){var a=this,o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=new l;return s.request=i,s.request.action=r,s.commandId=y.v4(),E.info("Adding command: ",r,s.commandId),E.debug("command arguments:",i,o),new u.default(function(t,n){a.sessionStreamPromise.then(function(e){return a.pendingCommands.set(s.commandId,{resolve:t,reject:n,commandId:s.commandId,request:s.request}),e.push(s)}).then(function(){return E.debug("Command accepted by server",s.commandId)}).catch(function(e){a.pendingCommands.delete(s.commandId),E.error("Failed to add a command to the session",e),e.code!=b.ResponseCodes.ACCESS_FORBIDDEN_FOR_IDENTITY&&e.code!==b.ResponseCodes.LIST_NOT_FOUND||!o?n(new Error("Can't add command: "+e.message)):(E.info("recreating session..."),a.initialize(),t(a.processCommand(r,i,!1)))})})}},{key:"processCommandResponse",value:function(e){if(e.value.hasOwnProperty("response")&&e.value.hasOwnProperty("commandId")&&this.pendingCommands.has(e.value.commandId)){var t=e.value,n=e.value.commandId;if(t.response.status===b.ResponseCodes.HTTP_200_OK){E.debug("Command succeeded: ",t);var r=this.pendingCommands.get(n).resolve;this.pendingCommands.delete(n),r(t.response)}else{E.error("Command failed: ",t);var i=this.pendingCommands.get(n).reject;this.pendingCommands.delete(n),i(new k.SessionError(t.response.statusText,t.response.status))}}}},{key:"getSessionContext",value:function(){return this.sessionStreamPromise.then(function(e){return e.getContext()})}},{key:"getSessionLinks",value:(v=(0,i.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",{publicChannelsUrl:this.config.baseUrl+t.links.publicChannelsUrl,myChannelsUrl:this.config.baseUrl+t.links.myChannelsUrl,typingUrl:this.config.baseUrl+t.links.typingUrl,syncListUrl:this.config.baseUrl+t.links.syncListUrl,usersUrl:this.config.baseUrl+t.links.usersUrl,mediaServiceUrl:t.links.mediaServiceUrl});case 4:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getChannelsId",value:(m=(0,i.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",t.channels);case 4:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"getMyChannelsId",value:(h=(0,i.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",t.myChannels);case 4:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"getMaxUserInfosToSubscribe",value:(p=(0,i.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",this.config.userInfosToSubscribeOverride||t.userInfosToSubscribe||this.config.userInfosToSubscribeDefault);case 4:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getUsersData",value:function(){return this.sessionInfo.promise.then(function(e){return{user:e.userInfo,identity:e.identity}})}},{key:"getConsumptionReportInterval",value:(d=(0,i.default)(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSessionContext();case 2:return t=e.sent,n=this.config.consumptionReportIntervalOverride||t.consumptionReportInterval||this.config.consumptionReportIntervalDefault,e.prev=4,e.abrupt("return",_.toSeconds(_.parse(n)));case 8:return e.prev=8,e.t0=e.catch(4),E.error("Failed to parse consumption report interval",n,"using default value",this.config.consumptionReportIntervalDefault),e.abrupt("return",_.toSeconds(_.parse(this.config.consumptionReportIntervalDefault)));case 12:case"end":return e.stop()}},e,this,[[4,8]])})),function(){return d.apply(this,arguments)})},{key:"getHttpCacheInterval",value:(f=(0,i.default)(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSessionContext();case 2:return t=e.sent,n=this.config.httpCacheIntervalOverride||t.httpCacheInterval||this.config.httpCacheIntervalDefault,e.prev=4,e.abrupt("return",_.toSeconds(_.parse(n)));case 8:return e.prev=8,e.t0=e.catch(4),E.error("Failed to parse cache interval",n,"using default value",this.config.httpCacheIntervalDefault),e.abrupt("return",_.toSeconds(_.parse(this.config.httpCacheIntervalDefault)));case 12:case"end":return e.stop()}},e,this,[[4,8]])})),function(){return f.apply(this,arguments)})},{key:"identity",get:function(){return this.sessionInfo.current.identity}},{key:"reachabilityEnabled",get:function(){return this.currentContext.reachabilityEnabled}}]),T);function T(e,t){(0,s.default)(this,T);var n="undefined"!=typeof navigator?g.parse(navigator.userAgent):g;this.services=e,this.config=t,this.sessionInfo=new x.Deferred,this.currentContext={},this.pendingCommands=new a.default,this.sessionStreamPromise=null,this.endpointPlatform=["js",S,n.os,n.name,n.version].join("|")}t.Session=C},function(e,t,n){"use strict";var r=n(7),i=r&&r.__esModule?r:{default:r};Object.defineProperty(t,"__esModule",{value:!0});function a(){(0,i.default)(this,a)}(t.ResponseCodes=a).HTTP_200_OK=200,a.HTTP_400_BAD_REQUEST=400,a.HTTP_404_NOT_FOUND=404,a.ACCESS_FORBIDDEN_FOR_IDENTITY=54007,a.LIST_NOT_FOUND=54150},function(e,t,n){e.exports={default:n(313),__esModule:!0}},function(e,t,n){n(314),e.exports=n(9).Reflect.construct},function(e,t,n){var r=n(12),s=n(60),u=n(40),c=n(21),l=n(17),i=n(30),f=n(315),d=(n(14).Reflect||{}).construct,p=i(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),h=!i(function(){d(function(){})});r(r.S+r.F*(p||h),"Reflect",{construct:function(e,t){u(e),c(t);var n=arguments.length<3?e:u(arguments[2]);if(h&&!p)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(f.apply(e,r))}var i=n.prototype,a=s(l(i)?i:Object.prototype),o=Function.apply.call(e,a,t);return l(o)?o:a}})},function(e,t,n){"use strict";var a=n(40),o=n(17),s=n(118),u=[].slice,c={};e.exports=Function.bind||function(t){function n(){var e=i.concat(u.call(arguments));return this instanceof n?function(e,t,n){if(!(t in c)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";c[t]=Function("F,a","return new F("+r.join(",")+")")}return c[t](e,n)}(r,e.length,e):s(r,e,t)}var r=a(this),i=u.call(arguments,1);return o(r.prototype)&&(n.prototype=r.prototype),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["weeks","years","months","days","hours","minutes","seconds"],i=t.pattern=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)"),a=t.parse=function(e){return e.match(i).slice(1).reduce(function(e,t,n){return e[r[n]]=parseFloat(t)||0,e},{})},o=t.end=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return r.setFullYear(r.getFullYear()+e.years),r.setMonth(r.getMonth()+e.months),r.setDate(r.getDate()+e.days),r.setHours(r.getHours()+e.hours),r.setMinutes(r.getMinutes()+e.minutes),r.setMilliseconds(r.getMilliseconds()+1e3*e.seconds),r.setDate(r.getDate()+7*e.weeks),r},s=t.toSeconds=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return(o(e,r).getTime()-r.getTime())/1e3};t.default={end:o,toSeconds:s,pattern:i,parse:a}},function(e,t,n){"use strict";var a=h(n(18)),u=h(n(13)),c=h(n(43)),r=h(n(15)),i=h(n(318)),o=h(n(31)),s=h(n(23)),l=h(n(7)),f=h(n(8)),d=h(n(24)),p=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(10),v=n(19),y=n(134);t.Channel=y.Channel;var g,b,w=n(162),k=n(26),x=v.Logger.scope("Channels"),_=(g=m.EventEmitter,(0,p.default)(S,g),(0,f.default)(S,[{key:"getMap",value:function(){var t=this;return this.services.session.getMyChannelsId().then(function(e){return t.services.syncClient.map({id:e,mode:"open_existing"})})}},{key:"addChannel",value:(b=(0,r.default)(u.default.mark(function e(t){var n,r,i,a,o,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=(n=void 0)===t.attributes?{}:t.attributes))throw new Error("Attributes can't be null");e.next=4;break;case 4:if(n.constructor!==Object)throw new Error("Attributes must be a valid JSON object");e.next=6;break;case 6:return e.next=8,this.services.session.addCommand("createChannel",{friendlyName:t.friendlyName,uniqueName:t.uniqueName,type:t.isPrivate?"private":"public",attributes:(0,c.default)(n)});case 8:if(r=e.sent,i="channelSid"in r?r.channelSid:null,a="channel"in r?r.channel:null,o=this.channels.get(i))return e.next=15,o._subscribe();e.next=16;break;case 15:return e.abrupt("return",o);case 16:return s=new y.Channel(this.services,{channel:a,entityName:null,uniqueName:null,attributes:null,createdBy:null,friendlyName:null,lastConsumedMessageIndex:null,type:t.isPrivate?"private":"public",dateCreated:null,dateUpdated:null},i),this.channels.set(s.sid,s),this.registerForEvents(s),e.next=21,s._subscribe();case 21:return this.emit("channelAdded",s),e.abrupt("return",s);case 23:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchChannels",value:function(){var t,i=this;this.getMap().then((t=(0,r.default)(u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.on("itemAdded",function(e){x.debug("itemAdded: "+e.item.key),i.upsertChannel("sync",e.item.key,e.item.value)}),t.on("itemRemoved",function(e){x.debug("itemRemoved: "+e.key);var t=e.key;i.syncListFetched||i.thumbstones.add(t);var n=i.channels.get(t);n&&("joined"!==n.status&&"invited"!==n.status||(n._setStatus("known","sync"),i.emit("channelLeft",n)),n.isPrivate&&(i.channels.delete(t),i.emit("channelRemoved",n),n.emit("removed",n)))}),t.on("itemUpdated",function(e){x.debug("itemUpdated: "+e.item.key),i.upsertChannel("sync",e.item.key,e.item.value)}),n=[],e.next=6,i.services.syncList.getPage();case 6:(r=e.sent).items.forEach(function(e){n.push(i.upsertChannel("synclist",e.channel_sid,e))});case 9:if(r.hasNextPage)return e.next=12,r.nextPage();e.next=16;break;case 12:(r=e.sent).items.forEach(function(e){n.push(i.upsertChannel("synclist",e.channel_sid,e))}),e.next=9;break;case 16:return i.syncListRead.set(!0),e.abrupt("return",a.default.all(n));case 18:case"end":return e.stop()}},e,i)})),function(e){return t.apply(this,arguments)})).then(function(){i.syncListFetched=!0,i.thumbstones.clear(),x.debug("Channels list fetched")}).then(function(){return i}).catch(function(e){throw"disconnected"!=i.services.syncClient.connectionState&&x.error("Failed to get channels list",e),x.debug("ERROR: Failed to get channels list",e),e})}},{key:"_wrapPaginator",value:function(t,n){var r=this;return n(t.items).then(function(e){return{items:e,hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,nextPage:function(){return t.nextPage().then(function(e){return r._wrapPaginator(e,n)})},prevPage:function(){return t.prevPage().then(function(e){return r._wrapPaginator(e,n)})}}})}},{key:"getChannels",value:function(t){var n=this;return this.getMap().then(function(e){return e.getItems(t)}).then(function(e){return n._wrapPaginator(e,function(e){return a.default.all(e.map(function(e){return n.upsertChannel("sync",e.key,e.value)}))})})}},{key:"getChannel",value:function(t){var n=this;return this.getMap().then(function(e){return e.getItems({key:t})}).then(function(e){return e.items.map(function(e){return n.upsertChannel("sync",e.key,e.value)})}).then(function(e){return 0<e.length?e[0]:null})}},{key:"pushChannel",value:function(e){var t=e.sid,n={entityName:null,lastConsumedMessageIndex:e.lastConsumedMessageIndex,type:e.type,status:e.status,friendlyName:e.friendlyName,dateUpdated:e.dateUpdated,dateCreated:e.dateCreated,uniqueName:e.uniqueName,createdBy:e.createdBy,attributes:e.attributes,channel:e.channel,notificationLevel:e.notificationLevel,sid:t};return this.upsertChannel("chat",t,n)}},{key:"upsertChannel",value:function(e,t,n){var r=this;x.trace("upsertChannel(sid="+t+", data=",n);var i=this.channels.get(t);if(i){if(x.trace("upsertChannel: channel "+t+" is known and it's status is known from source "+i._statusSource()+" and update came from source "+e,i),void 0===i._statusSource()||e===i._statusSource()||"synclist"===e&&"sync"!==i._statusSource()||"sync"===e)if("joined"===n.status&&"joined"!==i.status){i._setStatus("joined",e);var a={};void 0!==n.notificationLevel&&(a.notificationLevel=n.notificationLevel),void 0!==n.lastConsumedMessageIndex&&(a.lastConsumedMessageIndex=n.lastConsumedMessageIndex),k.isDeepEqual(a,{})||i._update(a),i._subscribe().then(function(){r.emit("channelJoined",i)})}else if("invited"===n.status&&"invited"!==i.status){i._setStatus("invited",e);var o={};void 0!==n.notificationLevel&&(o.notificationLevel=n.notificationLevel),void 0!==n.lastConsumedMessageIndex&&(o.lastConsumedMessageIndex=n.lastConsumedMessageIndex),k.isDeepEqual(o,{})||i._update(o),i._subscribe().then(function(){r.emit("channelInvited",i)})}else"known"!==n.status||"invited"!==i.status&&"joined"!==i.status?"notParticipating"!==n.status&&"known"!==n.status||"private"!==n.type?i._update(n):i._subscribe():(i._setStatus("known",e),i._update(n),i._subscribe().then(function(){r.emit("channelLeft",i)}));else x.trace("upsertChannel: channel is known from sync and came from chat, ignoring",{sid:t,data:n.status,channel:i.status});return i._subscribe().then(function(){return i})}if("chat"!==e&&"synclist"!==e||!this.thumbstones.has(t))return x.trace("upsertChannel: creating local channel object with sid "+t,n),i=new y.Channel(this.services,n,t),this.channels.set(t,i),i._subscribe().then(function(){return r.registerForEvents(i),r.emit("channelAdded",i),"joined"===n.status?(i._setStatus("joined",e),r.emit("channelJoined",i)):"invited"===n.status&&(i._setStatus("invited",e),r.emit("channelInvited",i)),i});x.trace("upsertChannel: channel is deleted and came again from chat, ignoring",t)}},{key:"onChannelRemoved",value:function(e){var t=this.channels.get(e);t&&(this.channels.delete(e),this.emit("channelRemoved",t))}},{key:"registerForEvents",value:function(e){var t=this;e.on("removed",function(){return t.onChannelRemoved(e.sid)}),e.on("updated",function(e){return t.emit("channelUpdated",e)}),e.on("memberJoined",this.emit.bind(this,"memberJoined")),e.on("memberLeft",this.emit.bind(this,"memberLeft")),e.on("memberUpdated",function(e){return t.emit("memberUpdated",e)}),e.on("messageAdded",this.emit.bind(this,"messageAdded")),e.on("messageUpdated",function(e){return t.emit("messageUpdated",e)}),e.on("messageRemoved",this.emit.bind(this,"messageRemoved")),e.on("typingStarted",this.emit.bind(this,"typingStarted")),e.on("typingEnded",this.emit.bind(this,"typingEnded"))}}]),S);function S(e){(0,l.default)(this,S);var t=(0,d.default)(this,(S.__proto__||(0,s.default)(S)).call(this));return t.services=e,t.channels=new o.default,t.thumbstones=new i.default,t.syncListFetched=!1,t.syncListRead=new w.Deferred,t}t.Channels=_},function(e,t,n){e.exports={default:n(319),__esModule:!0}},function(e,t,n){n(73),n(42),n(52),n(320),n(321),n(322),n(323),e.exports=n(9).Set},function(e,t,n){"use strict";var r=n(135),i=n(96);e.exports=n(136)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(12);r(r.P+r.R,"Set",{toJSON:n(137)("Set")})},function(e,t,n){n(138)("Set")},function(e,t,n){n(139)("Set")},function(e,t,n){"use strict";var o=f(n(13)),r=f(n(15)),i=f(n(31)),a=f(n(23)),s=f(n(7)),u=f(n(8)),c=f(n(24)),l=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,p,h,m,v,y=n(10),g=n(130),b=n(325),w=(d=y.EventEmitter,(0,l.default)(k,d),(0,u.default)(k,[{key:"handleUnsubscribeUser",value:function(n){this.subscribedUsers.has(n.identity)&&this.subscribedUsers.delete(n.identity);var r=-1;this.fifoStack.find(function(e,t){return e==n.identity&&(r=t,!0)})&&this.fifoStack.splice(r,1),this.emit("userUnsubscribed",n)}},{key:"handleSubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)||(this.fifoStack.length>=this.fifoStackMaxLength&&this.subscribedUsers.get(this.fifoStack.shift()).unsubscribe(),this.fifoStack.push(e.identity),this.subscribedUsers.set(e.identity,e),this.emit("userSubscribed",e))}},{key:"getUser",value:(v=(0,r.default)(o.default.mark(function e(t){var n,r,i=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getUsersData();case 2:return e.next=4,this.myself._ensureFetched();case 4:if(t==this.myself.identity)return e.abrupt("return",this.myself);e.next=6;break;case 6:if(n=this.subscribedUsers.get(t)){e.next=19;break}if(a){e.next=13;break}return e.next=11,this.getUserDescriptor(t);case 11:r=e.sent,a=r._getDescriptor().sync_unique_name;case 13:return(n=new g.User(t,a,this.services)).on("updated",function(e){return i.emit("userUpdated",e)}),n.on("userSubscribed",function(){return i.handleSubscribeUser(n)}),n.on("userUnsubscribed",function(){return i.handleUnsubscribeUser(n)}),e.next=19,n._ensureFetched();case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getUserDescriptor",value:(m=(0,r.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDescriptorsPromise;case 2:return e.abrupt("return",this.userDescriptors.getUserDescriptor(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"getChannelUserDescriptors",value:(h=(0,r.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDescriptorsPromise;case 2:return e.abrupt("return",this.userDescriptors.getChannelUserDescriptors(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getSubscribedUsers",value:(p=(0,r.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getUsersData();case 2:return e.next=4,this.myself._ensureFetched();case 4:return t=[this.myself],this.subscribedUsers.forEach(function(e){return t.push(e)}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})}]),k);function k(e){(0,s.default)(this,k);var t=(0,c.default)(this,(k.__proto__||(0,a.default)(k)).call(this));return t.services=e,t.fifoStack=[],t.fifoStackMaxLength=100,t.myself=new g.User(null,null,t.services),t.myself.on("updated",function(e){return t.emit("userUpdated",e)}),t.myself.on("userSubscribed",function(){return t.emit("userSubscribed",t.myself)}),t.myself.on("userUnsubscribed",function(){t.emit("userUnsubscribed",t.myself),t.myself._ensureFetched()}),t.services=e,t.subscribedUsers=new i.default,t.userDescriptorsPromise=t.services.session.getSessionLinks().then(function(e){return t.userDescriptors=new b.UserDescriptors({users:t,network:t.services.network},e.usersUrl),t.userDescriptors}),t.services.session.getMaxUserInfosToSubscribe().then(function(e){t.fifoStackMaxLength=e}),t.services.session.getUsersData().then(function(e){return t.myself.identity=e.identity,t.myself.entityName=e.user,t.myself._ensureFetched()}),t}t.Users=w},function(e,t,n){"use strict";var o=s(n(13)),r=s(n(15)),i=s(n(7)),a=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=n(26),f=n(75),d=n(326),p=((0,a.default)(h,[{key:"getUserDescriptor",value:(c=(0,r.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.UriBuilder(this.url).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new d.UserDescriptor(this.services,r.body));case 5:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"getChannelUserDescriptors",value:(u=(0,r.default)(o.default.mark(function e(t){var n,r,i=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.UriBuilder(this.url).arg("ChannelSid",t).arg("PageToken",a.pageToken).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new f.RestPaginator(r.body.users.map(function(e){return new d.UserDescriptor(i.services,e)}),function(e){return i.getChannelUserDescriptors(t,{pageToken:e})},r.body.meta.prev_token,r.body.meta.next_token));case 5:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})}]),h);function h(e,t){(0,i.default)(this,h),this.services=e,this.url=t}t.UserDescriptors=p},function(e,t,n){"use strict";var r=a(n(7)),i=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19).Logger.scope("UserDescriptor"),s=((0,i.default)(u,[{key:"subscribe",value:function(){return this.services.users.getUser(this.identity,this.descriptor.sync_unique_name)}},{key:"_getDescriptor",value:function(){return this.descriptor}}]),u);function u(e,t){(0,r.default)(this,u),this.services=e,this.descriptor=t,this.identity=t.identity,this.friendlyName=t.friendly_name,this.attributes=function(e){try{return JSON.parse(e)}catch(e){o.warn("Failed to parse user attributes",e)}return{}}(t.attributes),this.online=t.is_online,this.notifiable=t.is_notifiable}t.UserDescriptor=s},function(e,t,n){"use strict";var r=s(n(18)),i=s(n(31)),a=s(n(7)),o=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(19),c=n(142),l=u.Logger.scope("TypingIndicator"),f=((0,o.default)(d,[{key:"initialize",value:function(){var n=this;this.services.notificationClient.subscribe(c.NotificationTypes.TYPING_INDICATOR,"twilsock"),this.services.notificationClient.on("message",function(e,t){e===c.NotificationTypes.TYPING_INDICATOR&&n.handleRemoteTyping(t)})}},{key:"handleRemoteTyping",value:function(t){var n=this;l.trace("Got new typing indicator ",t),this.getChannel(t.channel_sid).then(function(e){e&&e.members.forEach(function(e){e.identity===t.identity&&e._startTyping(n.typingTimeout)})}).catch(function(e){throw l.error(e),e})}},{key:"send",value:function(e){var t=this.sentUpdates.get(e);return t&&t>Date.now()-this.typingTimeout?r.default.resolve():(this.sentUpdates.set(e,Date.now()),this._send(e))}},{key:"_send",value:function(e){var t=this;l.trace("Sending typing indicator");var n=this.config.typingIndicatorUri,r="ChannelSid="+e;return this.services.transport.post(n,{"Content-Type":"application/x-www-form-urlencoded"},r).then(function(e){e.body.hasOwnProperty("typing_timeout")&&(t.serviceTypingTimeout=1e3*e.body.typing_timeout)}).catch(function(e){throw l.error("Failed to send typing indicator:",e),e})}},{key:"typingTimeout",get:function(){return this.config.typingIndicatorTimeoutOverride||this.serviceTypingTimeout||this.config.typingIndicatorTimeoutDefault}}]),d);function d(e,t,n){(0,a.default)(this,d),this.config=e,this.services=t,this.getChannel=n,this.serviceTypingTimeout=null,this.sentUpdates=new i.default}t.TypingIndicator=f},function(e,t,n){"use strict";var s=o(n(18)),i=o(n(31)),r=o(n(8)),a=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(161),c=((0,r.default)(l,[{key:"getReportInterval",value:function(){return this.services.session.getConsumptionReportInterval().then(function(e){return 1e3*e})}},{key:"delayedSendConsumptionHorizon",value:function(e){var t=this;null===this.consumptionHorizonUpdateTimer&&(this.sendConsumptionReport(!0),this.consumptionHorizonUpdateTimer=setTimeout(function(){t.sendConsumptionReport(!1)},e))}},{key:"sendConsumptionReport",value:function(e){var t=this,n=[],r=new i.default;this.consumptionHorizonRequests.forEach(function(e,t){n.push(e.entry),r.set(t,e.promises)}),0<n.length&&this.services.session.addCommand("consumptionReportV2",{report:n}).then(function(e){return t.processConsumptionReportResponse(e,r)}).catch(function(e){return t.processConsumptionReportError(e,r)}),e||(this.consumptionHorizonUpdateTimer=null),this.consumptionHorizonRequests.clear()}},{key:"processConsumptionReportResponse",value:function(e,r){e&&e.report&&Array.isArray(e.report)&&0<e.report.length&&e.report.forEach(function(e){var t=e;if(r.has(t.channelSid)){var n=null;void 0!==t.unreadMessagesCount&&null!=t.unreadMessagesCount&&(n=t.unreadMessagesCount),r.get(t.channelSid).forEach(function(e){return e.resolve(n)}),r.delete(t.channelSid)}}),this.processConsumptionReportError(new u.SessionError("Error while setting LastConsumedMessageIndex",null),r)}},{key:"processConsumptionReportError",value:function(t,e){e.forEach(function(e){return e.forEach(function(e){return e.reject(t)})})}},{key:"updateLastConsumedMessageIndexForChannel",value:function(n,r){var i=this;return new s.default(function(e,t){i.addPendingConsumptionHorizonRequest(n,{channelSid:n,messageIdx:r},{resolve:e,reject:t}),i.getReportInterval().then(function(e){return i.delayedSendConsumptionHorizon(e)})})}},{key:"advanceLastConsumedMessageIndexForChannel",value:function(n,r,i){var a=this,o=this.consumptionHorizonRequests.get(n);return new s.default(function(e,t){o&&o.entry?o.entry.messageIdx>=r?a.addPendingConsumptionHorizonRequest(n,o.entry,{resolve:e,reject:t}):a.addPendingConsumptionHorizonRequest(n,{channelSid:n,messageIdx:r},{resolve:e,reject:t}):null!==i&&r<i?a.addPendingConsumptionHorizonRequest(n,{channelSid:n,messageIdx:i},{resolve:e,reject:t}):a.addPendingConsumptionHorizonRequest(n,{channelSid:n,messageIdx:r},{resolve:e,reject:t}),a.getReportInterval().then(function(e){return a.delayedSendConsumptionHorizon(e)})})}},{key:"addPendingConsumptionHorizonRequest",value:function(e,t,n){if(this.consumptionHorizonRequests.has(e)){var r=this.consumptionHorizonRequests.get(e);r.entry=t,r.promises.push(n)}else this.consumptionHorizonRequests.set(e,{entry:t,promises:[n]})}}]),l);function l(e){(0,a.default)(this,l),this.services=e,this.consumptionHorizonRequests=new i.default,this.consumptionHorizonUpdateTimer=null}t.ConsumptionHorizon=c},function(e,t,n){"use strict";var a=s(n(13)),r=s(n(15)),i=s(n(7)),o=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(26),l=n(75),f=n(133),d=((0,o.default)(p,[{key:"getChannels",value:(u=(0,r.default)(a.default.mark(function e(){var t,n,r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.UriBuilder(this.url).arg("PageToken",i.pageToken).build(),e.next=3,this.services.network.get(t);case 3:return n=e.sent,e.abrupt("return",new l.RestPaginator(n.body.channels.map(function(e){return new f.ChannelDescriptor(r.client,e)}),function(e){return r.getChannels({pageToken:e})},n.body.meta.previous_token,n.body.meta.next_token));case 5:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})}]),p);function p(e,t,n){(0,i.default)(this,p),this.client=e,this.services=t,this.url=n}t.UserChannels=d},function(e,t,n){"use strict";var r=n(7),i=r&&r.__esModule?r:{default:r};Object.defineProperty(t,"__esModule",{value:!0}),t.PushNotification=function e(t){(0,i.default)(this,e),this.title=t.title||null,this.body=t.body||null,this.sound=t.sound||null,this.badge=t.badge||null,this.action=t.action||null,this.type=t.type||null,this.data=t.data||{}}},function(e,t,n){"use strict";var s=n(332);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]])},function(e,t){(this.webpackJsonpchat_webapp=this.webpackJsonpchat_webapp||[]).push([[0],{165:function(e,t,n){e.exports=n(333)},170:function(e,t,n){},171:function(e,t,n){},270:function(e,t){},307:function(e,t){},333:function(e,t,n){"use strict";n.r(t);var k=n(0),x=n.n(k),r=n(48),i=n.n(r),a=(n(170),n(171),n(56)),o=n(68),s=n(35),u=n(36),c=n(38),l=n(37),f=n(6),d=n(39),p=(n(172),n(27)),h=n.n(p),m=n(104),v=n.n(m),y=n(105),g="https://chat-api.dev.gocurb.com",b="eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MDYzNzkzMDEsInN1YiI6IjE5MDQiLCJ0YXIiOiJjdXJiX2NoYXQiLCJtZXRhZGF0YSI6eyJ1c2VyX3JvbGVzIjpbIm9wZXJhdG9yIiwiY29ycG9yYXRlX2FkbWluIiwiY29uY2llcmdlX2Jvb2tlciIsImxpdmVfYm9va2VyIl0sImVtYWlsIjoiYWdlbnRzQGdvY3VyYi5jb20ifSwiaXNzIjoiaHR0cHM6Ly9jbGllbnRzZXJ2aWNlLmdvY3VyYi5jb20vIn0.siPhQV9fzyRNTKhCSuN1p5LHhHNvolBxT-Ws4h6IkLY",w="agents@gocurb.com",_=[{label:"John Webber",value:1},{label:"Tom Peet",value:2},{label:"Peter Kook",value:3},{label:"Artur Doil",value:4},{label:"+13155896818",value:5}];function S(e){return x.a.createElement("div",{className:"chatApp__convTitle"},e.owner,"'s display")}function E(e){var t="",n=0;for(var r in e.isTyping)r!==e.owner&&e.isTyping[r]&&(t+=", "+r,n++);return t=t.substr(1),t+=1<n?" are ":" is ",0<n?x.a.createElement("div",{className:"chatApp__convTyping"},t," writing",x.a.createElement("span",{className:"chatApp__convTypingDot"})):x.a.createElement("div",{className:"chatApp__convTyping"})}function C(e){return x.a.createElement("div",{className:"chatApp__conv"},x.a.createElement(S,{owner:e.owner}),x.a.createElement("div",{className:"chat-box"},x.a.createElement(L,{isRoot:e.isRoot,owner:e.owner,startViaWeb:e.startViaWeb,startViaTextnow:e.startViaTextnow,deleteAllChannels:e.deleteAllChannels,backToRoot:e.backToRoot,currentChannel:e.currentChannel}),x.a.createElement(R,{initiatePrivateChat:e.initiatePrivateChat}),x.a.createElement(F,{owner:e.owner,messages:e.messages,isRoot:e.isRoot}),x.a.createElement(B,{channelList:e.channelList,joinChannel:e.joinChannel,closedChannelList:e.closedChannelList,endChat:e.endChat,isRoot:e.isRoot}),x.a.createElement(j,{owner:e.owner,isTyping:e.isTyping,sendMessage:e.sendMessage,typing:e.typing,resetTyping:e.resetTyping,isRoot:e.isRoot,startEmptyChat:e.startEmptyChat,closedChannelList:e.closedChannelList,isSingleUser:e.isSingleUser,endChat:e.endChat,currentChannel:e.currentChannel})))}var T,O,M,P,I,D,A,N=(A=x.a.Component,Object(d.a)($,A),Object(u.a)($,[{key:"handleSendMessage",value:function(e){e.preventDefault(),0<this.messageInput.value.length&&(this.props.sendMessageLoading(this.ownerInput.value,this.messageInput.value),this.messageInput.value="")}},{key:"handleTyping",value:function(e){0<this.messageInput.value.length?this.props.typing(this.ownerInput.value):this.props.resetTyping(this.ownerInput.value)}},{key:"render",value:function(){var t=this,e=this.props,n=e.currentChannel,r=e.endChat,i=this.props.isLoading?"chatApp__convButton--loading":"",a=x.a.createElement("i",{className:"material-icons"},"send"),o=!(this.messageInput&&this.messageInput.value.length);return x.a.createElement("form",{onSubmit:this.handleSendMessage},x.a.createElement("input",{type:"hidden",ref:function(e){return t.ownerInput=e},value:this.props.owner}),x.a.createElement("input",{type:"text",ref:function(e){return t.messageInput=e},className:"chatApp__convInput",placeholder:"Send message...",onKeyDown:this.handleTyping,onKeyUp:this.handleTyping,tabIndex:"0"}),o?x.a.createElement("div",{className:"end-chat"},x.a.createElement("i",{className:"fas fa-ellipsis-v"}),x.a.createElement("button",{className:"end-chat-btn",onClick:r.bind(this,n.sid)},x.a.createElement("i",{className:"fas fa-times"})," End this chat session")):x.a.createElement("div",{className:"chatApp__convButton "+i,onClick:this.handleSendMessage},a))}}]),$),L=(D=x.a.Component,Object(d.a)(G,D),Object(u.a)(G,[{key:"handleChange",value:function(e){console.log("e:",e),5!==e.value?this.props.startViaWeb("web-".concat(e.value),"web"):this.props.startViaTextnow()}},{key:"render",value:function(){var e=this.props,t=e.isRoot,n=e.currentChannel;console.log("currentChannel:",n);var r=n&&("web"===n.type?n.uniqueName.split("-").pop():"5"),i=_&&_.find(function(e){return e.value===parseInt(r)}),a=i&&i.label;return x.a.createElement("div",{className:"header"},t?x.a.createElement("div",{className:"all-conv"},"My Chats",x.a.createElement("button",{className:"link delete",onClick:this.props.deleteAllChannels},"Delete all textNow chats")):this.props.owner===w&&x.a.createElement(k.Fragment,null,x.a.createElement("button",{className:"link",onClick:this.props.backToRoot},x.a.createElement("i",{className:"fas fa-chevron-left"})),a?x.a.createElement("div",{className:"dropdown"},x.a.createElement("div",{className:"label"},a)):x.a.createElement("div",{className:"dropdown"},x.a.createElement("div",{className:"label"},"To:"),x.a.createElement(y.a,{placeholder:"Select Driver...",options:this.drivers,onChange:this.handleChange.bind(this),styles:this.style,isSearchable:!0}))))}}]),G),R=(I=x.a.Component,Object(d.a)(Y,I),Object(u.a)(Y,[{key:"render",value:function(){var e=this.props;return e.isRoot,e.currentChannel,x.a.createElement("div",{className:"search"},x.a.createElement(y.a,{placeholder:"Select Driver...",className:"search-box",styles:this.style,cacheOptions:!0,isClearable:!0,loadOptions:this.loadOptions,onChange:this.handleChange}))}}]),Y),j=(P=x.a.Component,Object(d.a)(V,P),Object(u.a)(V,[{key:"sendMessageLoading",value:function(e,t){var n=this;this.setState({isLoading:!0}),this.props.sendMessage(e,t),setTimeout(function(){n.setState({isLoading:!1})},400)}},{key:"render",value:function(){var t=this,e=this.props.currentChannel&&this.props.closedChannelList&&this.props.closedChannelList.find(function(e){return e.channel===t.props.currentChannel.sid});return this.props.isRoot?x.a.createElement("button",{className:"btn start-chat",onClick:this.props.startEmptyChat},x.a.createElement("i",{className:"fas fa-pencil-alt"})):e?x.a.createElement("div",{className:"message-disabled-zone"},"You cannot send messages to the other agent's chat"):!this.props.isSingleUser&&x.a.createElement("div",{className:"chatApp__convSendMessage clearfix"},x.a.createElement(E,{owner:this.props.owner,isTyping:this.props.isTyping}),x.a.createElement(N,{isLoading:this.state.isLoading,owner:this.props.owner,sendMessage:this.props.sendMessage,sendMessageLoading:this.sendMessageLoading,typing:this.props.typing,resetTyping:this.props.resetTyping,endChat:this.props.endChat,currentChannel:this.props.currentChannel}))}}]),V),F=(M=x.a.Component,Object(d.a)(H,M),Object(u.a)(H,[{key:"render",value:function(){var t=this,e=this.props,n=e.messages;return!e.isRoot&&x.a.createElement("div",{className:"chatApp__convTimeline"},n.slice(0).reverse().map(function(e){return x.a.createElement(U,{key:e.id,owner:t.props.owner,sender:e.sender,message:e.message,timestamp:e.timestamp})}))}}]),H),U=function(e){var t=e.owner!==e.sender?"chatApp__convMessageItem--left":"chatApp__convMessageItem--right";return x.a.createElement("div",{className:"chatApp__convMessageItem "+t+" clearfix"},x.a.createElement("div",{className:"chatApp__convMessageValue",dangerouslySetInnerHTML:{__html:e.message}}),x.a.createElement("div",{className:"chatApp__convMessageTime"},v()(e.timestamp).fromNow()),x.a.createElement("div",{className:"chatApp__convMessageAvatar"},e.sender))},B=(O=x.a.Component,Object(d.a)(W,O),Object(u.a)(W,[{key:"clickHandler",value:function(e){console.log("onClick channel:",e.uniqueName," ",e.sid);var t=e.uniqueName?"web":"textnow";this.props.joinChannel(e.uniqueName||e.sid,t)}},{key:"render",value:function(){var e=this.props,t=e.isRoot,r=e.channelList,n=e.closedChannelList;if(!t)return!1;var i=this.clickHandler;return console.log("closedChannelList: ",n),x.a.createElement("div",{className:"chatApp__convTimeline"},x.a.createElement("div",{className:"chatApp__convChannelLine"},Object.keys(r).map(function(e){var t,n=r[e];return n.active||(t="archived"),x.a.createElement("a",{key:e,className:"channelItem ".concat(t),onClick:i.bind(this,n)},x.a.createElement("div",null,x.a.createElement("div",{className:"channelAuthor"},n.chatUsers.map(function(e){if(console.log("chatUser:",e),console.log("chatUser:",e.user.firstName),"WEB"!==e.type)return e.user.firstName+" "+e.user.lastName})),x.a.createElement("div",{className:"channelTime"},"25.12 6PM",n.timestamp&&v()(n.timestamp).fromNow())),x.a.createElement("div",null,x.a.createElement("div",{className:"channelBody"},"Hello!",n.body)))})))}}]),W),z=(T=x.a.Component,Object(d.a)(q,T),Object(u.a)(q,[{key:"componentWillMount",value:function(){var e=this.URL;this.identity,h.a.ajax({url:e+"/chats",type:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+b}}).then(this.getAllChannels).catch(this.handleError)}},{key:"componentWillUnmount",value:function(){this.deleteCurrentTextnowChannels()}},{key:"handleError",value:function(e){console.error(e),this.setState({error:"Could not load chat."})}},{key:"getAllChannels",value:function(e){var t=Object(a.a)(e.content)||[];this.setState({chatList:t}),console.log("chatList: ",this.state.chatList)}},{key:"startPrivateChat",value:function(e){h.a.ajax({url:g+"/chats/"+e,type:"PUT",headers:{Authorization:"Bearer "+b},contentType:"application/json",success:function(e){console.log("startPrivateChat data:"),console.log(e)},error:function(e,t,n){console.log("startPrivateChat error:"),console.log(e),console.log(t),console.log(n)}})}},{key:"initiatePrivateChat",value:function(e,t){var n=this;h.a.ajax({url:g+"/chats",type:"POST",headers:{Authorization:"Bearer "+b},contentType:"application/json",data:'{"communicationType": "'+e+'","masterDriverId": "'+t+'"}'}).then(function(e){console.log("initiatePrivateChat data:"),console.log(e),n.startPrivateChat(e.chatId)})}},{key:"setupChatClient",value:function(e){var t=this;this.client=e,this.client.getChannelByUniqueName(this.rootChannel).then(function(e){return e}).catch(function(e){if(50300===e.body.code)return t.client.createChannel({uniqueName:t.rootChannel});t.handleError(e)}).then(function(e){return t.channel=e,console.log("this.channel: ",t.channel,",  this.client",t.client),t.setState({channel:e,root:!1}),t.channel.join().catch(function(){})}).then(function(){t.setState({isLoading:!1}),t.channel.getMessages().then(t.messagesLoaded),t.channel.on("messageAdded",t.messageAdded)}).catch(this.handleError)}},{key:"setupSecondaryChat",value:function(t,n){var r=this;console.log("setupSecondaryChat channelName",t),this.client.getChannelByUniqueName(t).then(function(e){return e}).catch(function(e){if(e&&e.body&&50300===e.body.code)return r.client.createChannel({uniqueName:t,friendlyName:"web"===n?"web-1"===t?"John Webber via Web":"web-2"===t?"Tom Peet via Web":"web-3"===t?"Peter Kook via Web":"Artur Doil via Web":"Driver via TextNow"});r.handleError(e)}).then(function(e){return r.channel=e,console.log("setupSecondaryChat this.channel: ",r.channel),r.setState({channel:e,root:!1,currentChannel:{sid:e.sid,uniqueName:e.uniqueName,type:n}}),r.channel.join().catch(function(){})}).then(function(){r.setState({isLoading:!1}),r.channel.getMessages().then(r.messagesLoaded),console.log("type: ",n),r.setState({users:[].concat(Object(a.a)(r.state.users),["web"===n?"web-1"===t?{name:"John Webber"}:"web-2"===t?{name:"Tom Peet"}:"web-3"===t?{name:"Peter Kook"}:{name:"Artur Doil"}:r.driverTextNow])}),console.log("users: ",r.state.users),console.log("currentChannel: ",r.state.currentChannel),r.channel.on("messageAdded",r.messageAdded)}).catch(this.handleError)}},{key:"deleteAllTextnowChannels1",value:function(){for(var e=this.URL,t=this.identity,n=1;n<=20;n++)h.a.ajax({url:e+"/chats/"+n,type:"DELETE",headers:{Authorization:"Bearer "+t}}).then(function(e){console.log("response: ",e)})}},{key:"deleteAllTextnowChannels",value:function(){h.a.ajax({url:g+"/chats/147",type:"DELETE",headers:{Authorization:"Bearer "+b},success:function(e){console.log("leavePrivateChat data:"),console.log(e)},error:function(e,t,n){console.log("startPrivateChat error:"),console.log(e),console.log(t),console.log(n)}})}},{key:"deleteCurrentTextnowChannels",value:function(){var e=this.URL,t=this.identity;this.state.currentTextnowChatId&&h.a.ajax({url:e+"/chats/"+this.state.currentTextnowChatId,type:"DELETE",headers:{Authorization:"Bearer "+t}}).then(function(e){console.log("response: ",e)})}},{key:"setupChatBySMS",value:function(){var t=this,n=this.URL,r=this.identity,e=this.driverId,i=this.communicationType;h.a.ajax({url:n+"/chats",type:"POST",headers:{Authorization:"Bearer "+r},contentType:"application/json",data:'{"communicationType": "'+i+'","masterDriverId": "'+e+'"}'}).then(function(e){return t.setState({currentTextnowChatId:e.chatId}),console.log("currentTextnowChatId: ",t.state.currentTextnowChatId),h.a.ajax({url:n+"/chats/"+e.chatId,type:"PUT",headers:{Authorization:"Bearer "+r},contentType:"application/json"})}).then(function(e){t.setupSecondaryChat(e.twilioChatId,"textnow")}).catch(function(e){return console.error("error: ",e)})}},{key:"sendMessage",value:function(e,n){var r=this;setTimeout(function(){var t={id:r.state.messagesReal.length,sender:e,message:n.replace(/(((https?:\/\/)|(www\.))[^\s]+)/g,function(e){return'<a href="'+e+'">'+e+"</a>"}),timestamp:new Date};r.setState(function(e){return{messagesReal:[].concat(Object(a.a)(e.messagesReal),[t])}}),r.channel.sendMessage(n),r.resetTyping(e)},400)}},{key:"typing",value:function(e){if(!this.state.isTyping[e]){var t=this.state.isTyping;t[e]=!0,this.setState({isTyping:t})}}},{key:"resetTyping",value:function(e){var t=this.state.isTyping;t[e]=!1,this.setState({isTyping:t})}},{key:"twilioMessageToUIMessage",value:function(e,t){return{id:t,message:e.body,sender:e.author,timestamp:e.timestamp}}},{key:"twilioMessageToUIMessageReal",value:function(t,e){console.log("message: ",t);var n=this.state.messagesReal,r=n&&n.find(function(e){return e.message===t.body}),i=r&&r.sender;return{id:e,message:t.body,sender:i||t.author,timestamp:t.timestamp}}},{key:"messagesLoaded",value:function(e){console.log("messagesLoaded"),console.log("messagePage: ",e),this.setState({messages:e.items.map(this.twilioMessageToUIMessageReal)})}},{key:"messageAdded",value:function(t){var n=this;console.log("messageAdded"),this.setState(function(e){return{messages:[].concat(Object(a.a)(e.messages),[n.twilioMessageToUIMessageReal(t,e.messages.length)])}})}},{key:"startEmptyChat",value:function(){this.setState({root:!1,messagesReal:[],messages:[],currentChannel:null})}},{key:"endChat",value:function(t){console.log("sid: ",t),this.setState(function(e){return{closedChannelList:[].concat(Object(a.a)(e.closedChannelList),[{channel:t,status:"archived"}])}}),console.log("this.state.closedChannelList: ",this.state.closedChannelList),this.backToChannelList()}},{key:"backToChannelList",value:function(){this.getAllChannels(),this.setState({users:[this.agent],root:!0})}},{key:"openChatBox",value:function(){this.setState(function(e){return{isChatBoxOpen:!e.isChatBoxOpen}})}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.root,r=e.messages,i=e.isTyping,a=e.chatList,o=e.closedChannelList,s=e.currentChannel,u=e.isChatBoxOpen,c=this.openChatBox,l=this.sendMessage,f=this.setupSecondaryChat,d=this.setupChatBySMS,p=this.typing,h=this.resetTyping,m=this.endChat,v=this.backToChannelList,y=this.startEmptyChat,g=this.deleteAllTextnowChannels,b=this.initiatePrivateChat,w=[];return w.push(x.a.createElement(C,{sendMessage:l,typing:p,resetTyping:h,messages:r,isTyping:i,isRoot:n,isSingleUser:1===t.length,channelList:a,closedChannelList:o,joinChannel:f,startEmptyChat:y,startViaWeb:f,startViaTextnow:d,deleteAllChannels:g,backToRoot:v,endChat:m,currentChannel:s,initiatePrivateChat:b})),x.a.createElement(k.Fragment,null,u&&x.a.createElement("div",{className:"chatApp__room"},w),x.a.createElement("div",{className:"open-chat-app ".concat(u&&"shown"),onClick:c,"data-tooltip":"".concat(u?"Close":"Open"," Chat Box")},u?w.length?x.a.createElement("i",{className:"fas fa-times"}):x.a.createElement("i",{className:"fas fa-spinner fa-spin"}):x.a.createElement("i",{className:"fas fa-comments"})))}}]),q);function q(e,t){var n;return Object(s.a)(this,q),(n=Object(c.a)(this,Object(l.a)(q).call(this,e,t))).state={isTyping:[],error:null,isLoading:!0,channel:null,root:!0,messages:[],messagesReal:[],chatList:[],users:[],currentChannel:null,closedChannelList:[],currentTextnowChatId:null,isChatBoxOpen:!1},n.typing=n.typing.bind(Object(f.a)(n)),n.resetTyping=n.resetTyping.bind(Object(f.a)(n)),n.getAllChannels=n.getAllChannels.bind(Object(f.a)(n)),n.setupChatClient=n.setupChatClient.bind(Object(f.a)(n)),n.messagesLoaded=n.messagesLoaded.bind(Object(f.a)(n)),n.messageAdded=n.messageAdded.bind(Object(f.a)(n)),n.sendMessage=n.sendMessage.bind(Object(f.a)(n)),n.handleError=n.handleError.bind(Object(f.a)(n)),n.setupSecondaryChat=n.setupSecondaryChat.bind(Object(f.a)(n)),n.setupChatBySMS=n.setupChatBySMS.bind(Object(f.a)(n)),n.deleteAllTextnowChannels=n.deleteAllTextnowChannels.bind(Object(f.a)(n)),n.deleteCurrentTextnowChannels=n.deleteCurrentTextnowChannels.bind(Object(f.a)(n)),n.twilioMessageToUIMessageReal=n.twilioMessageToUIMessageReal.bind(Object(f.a)(n)),n.twilioMessageToUIMessage=n.twilioMessageToUIMessage.bind(Object(f.a)(n)),n.backToChannelList=n.backToChannelList.bind(Object(f.a)(n)),n.startEmptyChat=n.startEmptyChat.bind(Object(f.a)(n)),n.endChat=n.endChat.bind(Object(f.a)(n)),n.openChatBox=n.openChatBox.bind(Object(f.a)(n)),n.initiatePrivateChat=n.initiatePrivateChat.bind(Object(f.a)(n)),n.startPrivateChat=n.startPrivateChat.bind(Object(f.a)(n)),n.deleteAllTextnowChannels=n.deleteAllTextnowChannels.bind(Object(f.a)(n)),n.private=602870,n.private=602870,n.identity=w,n.URL=g,n.agent={name:w},n.driverWeb={name:"driver in web"},n.driverTextNow={name:"+13155896818"},n.driverId="1",n.communicationType="SMS",n.client=null,n.rootChannel="all-agents",n}function W(e,t){var n;return Object(s.a)(this,W),(n=Object(c.a)(this,Object(l.a)(W).call(this,e,t))).clickHandler=n.clickHandler.bind(Object(f.a)(n)),n}function H(e,t){return Object(s.a)(this,H),Object(c.a)(this,Object(l.a)(H).call(this,e,t))}function V(e,t){var n;return Object(s.a)(this,V),(n=Object(c.a)(this,Object(l.a)(V).call(this,e,t))).state={isLoading:!1},n.sendMessageLoading=n.sendMessageLoading.bind(Object(f.a)(n)),n}function Y(e,t){var n;return Object(s.a)(this,Y),(n=Object(c.a)(this,Object(l.a)(Y).call(this,e,t))).handleChange=function(e){n.setState({value:e}),console.log("value: ",e),n.props.initiatePrivateChat("SMS",e.value)},n.loadOptions=function(e){return h.a.ajax({url:g+"/drivers?name="+e+"&page=1&per=10",type:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+b}}).then(function(e){var t=e.content.map(function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:Number(e.driverId)}});return console.log(t),e.content.map(function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:Number(e.driverId)}})})},n.style={control:function(e,t){return Object(o.a)({},e,{border:(t.isFocused,0),boxShadow:(t.isFocused,0),"&:hover":{border:(t.isFocused,0)},fontSize:14})},option:function(e){return Object(o.a)({},e,{fontSize:14})}},n.state={value:null,options:[]},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.loadOptions=n.loadOptions.bind(Object(f.a)(n)),n}function G(e,t){var n;return Object(s.a)(this,G),(n=Object(c.a)(this,Object(l.a)(G).call(this,e,t))).style={control:function(e,t){return Object(o.a)({},e,{border:(t.isFocused,0),boxShadow:(t.isFocused,0),"&:hover":{border:(t.isFocused,0)},fontSize:14})},option:function(e){return Object(o.a)({},e,{fontSize:14})}},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.drivers=[{label:"chat with fake drivers",options:[_[0],_[1],_[2],_[3]]},{label:"chat via textNow",options:[_[4]]}],n}function $(e,t){var n;return Object(s.a)(this,$),(n=Object(c.a)(this,Object(l.a)($).call(this,e,t))).handleSendMessage=n.handleSendMessage.bind(Object(f.a)(n)),n.handleTyping=n.handleTyping.bind(Object(f.a)(n)),n}setTimeout(function(){i.a.render(x.a.createElement(z,null),document.getElementById("root"))},400),t.default=z}},[[165,1,2]]])},function(e,t){!function(u){function e(e){for(var t,n,r=e[0],i=e[1],a=e[2],o=0,s=[];o<r.length;o++)n=r[o],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&s.push(l[n][0]),l[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(u[t]=i[t]);for(d&&d(e);s.length;)s.shift()();return f.push.apply(f,a||[]),c()}function c(){for(var e,t=0;t<f.length;t++){for(var n=f[t],r=!0,i=1;i<n.length;i++){var a=n[i];0!==l[a]&&(r=!1)}r&&(f.splice(t--,1),e=o(o.s=n[0]))}return e}var n={},l={1:0},f=[];function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=u,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var t=this.webpackJsonpchat_webapp=this.webpackJsonpchat_webapp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var d=r;c()}([])}]);